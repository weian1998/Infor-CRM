//>>built
require({cache:{"dojox/charting/themes/Julie":function(){define(["../Theme","dojox/gfx/gradutils","./common"],function(_1,_2,_3){var g=_1.generateGradient,_4={type:"linear",space:"shape",x1:0,y1:0,x2:0,y2:100};_3.Julie=new _1({seriesThemes:[{fill:g(_4,"#59a0bd","#497c91"),stroke:{color:"#22627d"}},{fill:g(_4,"#8d88c7","#6c6d8e"),stroke:{color:"#8a84c5"}},{fill:g(_4,"#85a54a","#768b4e"),stroke:{color:"#5b6d1f"}},{fill:g(_4,"#e8e667","#c6c361"),stroke:{color:"#918e38"}},{fill:g(_4,"#e9c756","#c7a223"),stroke:{color:"#947b30"}},{fill:g(_4,"#a05a5a","#815454"),stroke:{color:"#572828"}},{fill:g(_4,"#b17044","#72543e"),stroke:{color:"#74482e"}},{fill:g(_4,"#a5a5a5","#727272"),stroke:{color:"#535353"}},{fill:g(_4,"#9dc7d9","#59a0bd"),stroke:{color:"#22627d"}},{fill:g(_4,"#b7b3da","#8681b3"),stroke:{color:"#8a84c5"}},{fill:g(_4,"#a8c179","#85a54a"),stroke:{color:"#5b6d1f"}},{fill:g(_4,"#eeea99","#d6d456"),stroke:{color:"#918e38"}},{fill:g(_4,"#ebcf81","#e9c756"),stroke:{color:"#947b30"}},{fill:g(_4,"#c99999","#a05a5a"),stroke:{color:"#572828"}},{fill:g(_4,"#c28b69","#7d5437"),stroke:{color:"#74482e"}},{fill:g(_4,"#bebebe","#8c8c8c"),stroke:{color:"#535353"}},{fill:g(_4,"#c7e0e9","#92baca"),stroke:{color:"#22627d"}},{fill:g(_4,"#c9c6e4","#ada9d6"),stroke:{color:"#8a84c5"}},{fill:g(_4,"#c0d0a0","#98ab74"),stroke:{color:"#5b6d1f"}},{fill:g(_4,"#f0eebb","#dcd87c"),stroke:{color:"#918e38"}},{fill:g(_4,"#efdeb0","#ebcf81"),stroke:{color:"#947b30"}},{fill:g(_4,"#ddc0c0","#c99999"),stroke:{color:"#572828"}},{fill:g(_4,"#cfb09b","#c28b69"),stroke:{color:"#74482e"}},{fill:g(_4,"#d8d8d8","#bebebe"),stroke:{color:"#535353"}},{fill:g(_4,"#ddeff5","#a5c4cd"),stroke:{color:"#22627d"}},{fill:g(_4,"#dedcf0","#b3afd3"),stroke:{color:"#8a84c5"}},{fill:g(_4,"#dfe9ca","#c0d0a0"),stroke:{color:"#5b6d1f"}},{fill:g(_4,"#f8f7db","#e5e28f"),stroke:{color:"#918e38"}},{fill:g(_4,"#f7f0d8","#cfbd88"),stroke:{color:"#947b30"}},{fill:g(_4,"#eedede","#caafaf"),stroke:{color:"#572828"}},{fill:g(_4,"#e3cdbf","#cfb09b"),stroke:{color:"#74482e"}},{fill:g(_4,"#efefef","#cacaca"),stroke:{color:"#535353"}}]});_3.Julie.next=function(_5,_6,_7){if(_5=="line"||_5=="area"){var s=this.seriesThemes[this._current%this.seriesThemes.length];s.fill.space="plot";var _8=_1.prototype.next.apply(this,arguments);s.fill.space="shape";return _8;}return _1.prototype.next.apply(this,arguments);};_3.Julie.post=function(_9,_a){_9=_1.prototype.post.apply(this,arguments);if(_a=="slice"&&_9.series.fill&&_9.series.fill.type=="radial"){_9.series.fill=_2.reverse(_9.series.fill);}return _9;};return _3.Julie;});},"dojox/charting/Theme":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/Color","./SimpleTheme","dojox/color/_base","dojox/color/Palette","dojox/gfx/gradutils"],function(_b,_c,_d,_e,_f,_10){var _11=_c("dojox.charting.Theme",_e,{});_b.mixin(_11,{defineColors:function(_12){_12=_12||{};var l,c=[],n=_12.num||5;if(_12.colors){l=_12.colors.length;for(var i=0;i<n;i++){c.push(_12.colors[i%l]);}return c;}if(_12.hue){var s=_12.saturation||100,st=_12.low||30,end=_12.high||90;l=(end+st)/2;return _10.generate(_f.fromHsv(_12.hue,s,l),"monochromatic").colors;}if(_12.generator){return _f.Palette.generate(_12.base,_12.generator).colors;}return c;},generateGradient:function(_13,_14,_15){var _16=_b.delegate(_13);_16.colors=[{offset:0,color:_14},{offset:1,color:_15}];return _16;},generateHslColor:function(_17,_18){_17=new _d(_17);var hsl=_17.toHsl(),_19=_f.fromHsl(hsl.h,hsl.s,_18);_19.a=_17.a;return _19;},generateHslGradient:function(_1a,_1b,_1c,_1d){_1a=new _d(_1a);var hsl=_1a.toHsl(),_1e=_f.fromHsl(hsl.h,hsl.s,_1c),_1f=_f.fromHsl(hsl.h,hsl.s,_1d);_1e.a=_1f.a=_1a.a;return _11.generateGradient(_1b,_1e,_1f);}});_11.defaultMarkers=_e.defaultMarkers;_11.defaultColors=_e.defaultColors;_11.defaultTheme=_e.defaultTheme;return _11;});},"dojox/charting/SimpleTheme":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/Color","dojox/lang/utils","dojox/gfx/gradutils"],function(_20,arr,_21,_22,dlu,dgg){var _23=_21("dojox.charting.SimpleTheme",null,{shapeSpaces:{shape:1,shapeX:1,shapeY:1},constructor:function(_24){_24=_24||{};var def=_23.defaultTheme;arr.forEach(["chart","plotarea","axis","grid","series","marker","indicator"],function(_25){this[_25]=_20.delegate(def[_25],_24[_25]);},this);if(_24.seriesThemes&&_24.seriesThemes.length){this.colors=null;this.seriesThemes=_24.seriesThemes.slice(0);}else{this.seriesThemes=null;this.colors=(_24.colors||_23.defaultColors).slice(0);}this.markerThemes=null;if(_24.markerThemes&&_24.markerThemes.length){this.markerThemes=_24.markerThemes.slice(0);}this.markers=_24.markers?_20.clone(_24.markers):_20.delegate(_23.defaultMarkers);this.noGradConv=_24.noGradConv;this.noRadialConv=_24.noRadialConv;if(_24.reverseFills){this.reverseFills();}this._current=0;this._buildMarkerArray();},clone:function(){var _26=new this.constructor({chart:this.chart,plotarea:this.plotarea,axis:this.axis,grid:this.grid,series:this.series,marker:this.marker,colors:this.colors,markers:this.markers,indicator:this.indicator,seriesThemes:this.seriesThemes,markerThemes:this.markerThemes,noGradConv:this.noGradConv,noRadialConv:this.noRadialConv});arr.forEach(["clone","clear","next","skip","addMixin","post","getTick"],function(_27){if(this.hasOwnProperty(_27)){_26[_27]=this[_27];}},this);return _26;},clear:function(){this._current=0;},next:function(_28,_29,_2a){var _2b=dlu.merge,_2c,_2d;if(this.colors){_2c=_20.delegate(this.series);_2d=_20.delegate(this.marker);var _2e=new _22(this.colors[this._current%this.colors.length]),old;if(_2c.stroke&&_2c.stroke.color){_2c.stroke=_20.delegate(_2c.stroke);old=new _22(_2c.stroke.color);_2c.stroke.color=new _22(_2e);_2c.stroke.color.a=old.a;}else{_2c.stroke={color:_2e};}if(_2d.stroke&&_2d.stroke.color){_2d.stroke=_20.delegate(_2d.stroke);old=new _22(_2d.stroke.color);_2d.stroke.color=new _22(_2e);_2d.stroke.color.a=old.a;}else{_2d.stroke={color:_2e};}if(!_2c.fill||_2c.fill.type){_2c.fill=_2e;}else{old=new _22(_2c.fill);_2c.fill=new _22(_2e);_2c.fill.a=old.a;}if(!_2d.fill||_2d.fill.type){_2d.fill=_2e;}else{old=new _22(_2d.fill);_2d.fill=new _22(_2e);_2d.fill.a=old.a;}}else{_2c=this.seriesThemes?_2b(this.series,this.seriesThemes[this._current%this.seriesThemes.length]):this.series;_2d=this.markerThemes?_2b(this.marker,this.markerThemes[this._current%this.markerThemes.length]):_2c;}var _2f=_2d&&_2d.symbol||this._markers[this._current%this._markers.length];var _30={series:_2c,marker:_2d,symbol:_2f};++this._current;if(_29){_30=this.addMixin(_30,_28,_29);}if(_2a){_30=this.post(_30,_28);}return _30;},skip:function(){++this._current;},addMixin:function(_31,_32,_33,_34){if(_20.isArray(_33)){arr.forEach(_33,function(m){_31=this.addMixin(_31,_32,m);},this);}else{var t={};if("color" in _33){if(_32=="line"||_32=="area"){_20.setObject("series.stroke.color",_33.color,t);_20.setObject("marker.stroke.color",_33.color,t);}else{_20.setObject("series.fill",_33.color,t);}}arr.forEach(["stroke","outline","shadow","fill","filter","font","fontColor","labelWiring"],function(_35){var _36="marker"+_35.charAt(0).toUpperCase()+_35.substr(1),b=_36 in _33;if(_35 in _33){_20.setObject("series."+_35,_33[_35],t);if(!b){_20.setObject("marker."+_35,_33[_35],t);}}if(b){_20.setObject("marker."+_35,_33[_36],t);}});if("marker" in _33){t.symbol=_33.marker;t.symbol=_33.marker;}_31=dlu.merge(_31,t);}if(_34){_31=this.post(_31,_32);}return _31;},post:function(_37,_38){var _39=_37.series.fill,t;if(!this.noGradConv&&this.shapeSpaces[_39.space]&&_39.type=="linear"){if(_38=="bar"){t={x1:_39.y1,y1:_39.x1,x2:_39.y2,y2:_39.x2};}else{if(!this.noRadialConv&&_39.space=="shape"&&(_38=="slice"||_38=="circle")){t={type:"radial",cx:0,cy:0,r:100};}}if(t){return dlu.merge(_37,{series:{fill:t}});}}return _37;},getTick:function(_3a,_3b){var _3c=this.axis.tick,_3d=_3a+"Tick",_3e=dlu.merge;if(_3c){if(this.axis[_3d]){_3c=_3e(_3c,this.axis[_3d]);}}else{_3c=this.axis[_3d];}if(_3b){if(_3c){if(_3b[_3d]){_3c=_3e(_3c,_3b[_3d]);}}else{_3c=_3b[_3d];}}return _3c;},inspectObjects:function(f){arr.forEach(["chart","plotarea","axis","grid","series","marker","indicator"],function(_3f){f(this[_3f]);},this);if(this.seriesThemes){arr.forEach(this.seriesThemes,f);}if(this.markerThemes){arr.forEach(this.markerThemes,f);}},reverseFills:function(){this.inspectObjects(function(o){if(o&&o.fill){o.fill=dgg.reverse(o.fill);}});},addMarker:function(_40,_41){this.markers[_40]=_41;this._buildMarkerArray();},setMarkers:function(obj){this.markers=obj;this._buildMarkerArray();},_buildMarkerArray:function(){this._markers=[];for(var p in this.markers){this._markers.push(this.markers[p]);}}});_20.mixin(_23,{defaultMarkers:{CIRCLE:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",SQUARE:"m-3,-3 l0,6 6,0 0,-6 z",DIAMOND:"m0,-3 l3,3 -3,3 -3,-3 z",CROSS:"m0,-3 l0,6 m-3,-3 l6,0",X:"m-3,-3 l6,6 m0,-6 l-6,6",TRIANGLE:"m-3,3 l3,-6 3,6 z",TRIANGLE_INVERTED:"m-3,-3 l3,6 3,-6 z"},defaultColors:["#54544c","#858e94","#6e767a","#948585","#474747"],defaultTheme:{chart:{stroke:null,fill:"white",pageStyle:null,titleGap:20,titlePos:"top",titleFont:"normal normal bold 14pt Tahoma",titleFontColor:"#333"},plotarea:{stroke:null,fill:"white"},axis:{stroke:{color:"#333",width:1},tick:{color:"#666",position:"center",font:"normal normal normal 7pt Tahoma",fontColor:"#333",labelGap:4},majorTick:{width:1,length:6},minorTick:{width:0.8,length:3},microTick:{width:0.5,length:1},title:{gap:15,font:"normal normal normal 11pt Tahoma",fontColor:"#333",orientation:"axis"}},series:{stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000",labelWiring:{width:1,color:"#ccc"}},marker:{stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000"},indicator:{lineStroke:{width:1.5,color:"#333"},lineOutline:{width:0.1,color:"#ccc"},lineShadow:null,lineFill:null,stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",radius:3,font:"normal normal normal 10pt Tahoma",fontColor:"#000",markerFill:"#ccc",markerSymbol:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",markerStroke:{width:1.5,color:"#333"},markerOutline:{width:0.1,color:"#ccc"},markerShadow:null}}});return _23;});},"dojox/lang/utils":function(){define(["..","dojo/_base/lang"],function(_42,_43){var du=_43.getObject("lang.utils",true,_42);var _44={},_45=Object.prototype.toString;var _46=function(o){if(o){switch(_45.call(o)){case "[object Array]":return o.slice(0);case "[object Object]":return _43.delegate(o);}}return o;};_43.mixin(du,{coerceType:function(_47,_48){switch(typeof _47){case "number":return Number(eval("("+_48+")"));case "string":return String(_48);case "boolean":return Boolean(eval("("+_48+")"));}return eval("("+_48+")");},updateWithObject:function(_49,_4a,_4b){if(!_4a){return _49;}for(var x in _49){if(x in _4a&&!(x in _44)){var t=_49[x];if(t&&typeof t=="object"){du.updateWithObject(t,_4a[x],_4b);}else{_49[x]=_4b?du.coerceType(t,_4a[x]):_46(_4a[x]);}}}return _49;},updateWithPattern:function(_4c,_4d,_4e,_4f){if(!_4d||!_4e){return _4c;}for(var x in _4e){if(x in _4d&&!(x in _44)){_4c[x]=_4f?du.coerceType(_4e[x],_4d[x]):_46(_4d[x]);}}return _4c;},merge:function(_50,_51){if(_51){var _52=_45.call(_50),_53=_45.call(_51),t,i,l,m;switch(_53){case "[object Array]":if(_53==_52){t=new Array(Math.max(_50.length,_51.length));for(i=0,l=t.length;i<l;++i){t[i]=du.merge(_50[i],_51[i]);}return t;}return _51.slice(0);case "[object Object]":if(_53==_52&&_50){t=_43.delegate(_50);for(i in _51){if(i in _50){l=_50[i];m=_51[i];if(m!==l){t[i]=du.merge(l,m);}}else{t[i]=_43.clone(_51[i]);}}return t;}return _43.clone(_51);}}return _51;}});return du;});},"dojox/main":function(){define(["dojo/_base/kernel"],function(_54){return _54.dojox;});},"dojox/gfx/gradutils":function(){define(["./_base","dojo/_base/lang","./matrix","dojo/_base/Color"],function(g,_55,m,_56){var _57=g.gradutils={};function _58(o,c){if(o<=0){return c[0].color;}var len=c.length;if(o>=1){return c[len-1].color;}for(var i=0;i<len;++i){var _59=c[i];if(_59.offset>=o){if(i){var _5a=c[i-1];return _56.blendColors(new _56(_5a.color),new _56(_59.color),(o-_5a.offset)/(_59.offset-_5a.offset));}return _59.color;}}return c[len-1].color;};_57.getColor=function(_5b,pt){var o;if(_5b){switch(_5b.type){case "linear":var _5c=Math.atan2(_5b.y2-_5b.y1,_5b.x2-_5b.x1),_5d=m.rotate(-_5c),_5e=m.project(_5b.x2-_5b.x1,_5b.y2-_5b.y1),p=m.multiplyPoint(_5e,pt),pf1=m.multiplyPoint(_5e,_5b.x1,_5b.y1),pf2=m.multiplyPoint(_5e,_5b.x2,_5b.y2),_5f=m.multiplyPoint(_5d,pf2.x-pf1.x,pf2.y-pf1.y).x;o=m.multiplyPoint(_5d,p.x-pf1.x,p.y-pf1.y).x/_5f;break;case "radial":var dx=pt.x-_5b.cx,dy=pt.y-_5b.cy;o=Math.sqrt(dx*dx+dy*dy)/_5b.r;break;}return _58(o,_5b.colors);}return new _56(_5b||[0,0,0,0]);};_57.reverse=function(_60){if(_60){switch(_60.type){case "linear":case "radial":_60=_55.delegate(_60);if(_60.colors){var c=_60.colors,l=c.length,i=0,_61,n=_60.colors=new Array(c.length);for(;i<l;++i){_61=c[i];n[i]={offset:1-_61.offset,color:_61.color};}n.sort(function(a,b){return a.offset-b.offset;});}break;}}return _60;};return _57;});},"dojox/gfx/_base":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/Color","dojo/_base/sniff","dojo/_base/window","dojo/_base/array","dojo/dom","dojo/dom-construct","dojo/dom-geometry"],function(_62,_63,_64,has,win,arr,dom,_65,_66){var g=_63.getObject("dojox.gfx",true),b=g._base={};g._hasClass=function(_67,_68){var cls=_67.getAttribute("className");return cls&&(" "+cls+" ").indexOf(" "+_68+" ")>=0;};g._addClass=function(_69,_6a){var cls=_69.getAttribute("className")||"";if(!cls||(" "+cls+" ").indexOf(" "+_6a+" ")<0){_69.setAttribute("className",cls+(cls?" ":"")+_6a);}};g._removeClass=function(_6b,_6c){var cls=_6b.getAttribute("className");if(cls){_6b.setAttribute("className",cls.replace(new RegExp("(^|\\s+)"+_6c+"(\\s+|$)"),"$1$2"));}};b._getFontMeasurements=function(){var _6d={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};var p,_6e;if(has("ie")){_6e=win.doc.documentElement.style.fontSize||"";if(!_6e){win.doc.documentElement.style.fontSize="100%";}}var div=_65.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},win.body());for(p in _6d){div.style.fontSize=p;_6d[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;}if(has("ie")){win.doc.documentElement.style.fontSize=_6e;}win.body().removeChild(div);return _6d;};var _6f=null;b._getCachedFontMeasurements=function(_70){if(_70||!_6f){_6f=b._getFontMeasurements();}return _6f;};var _71=null,_72={};b._getTextBox=function(_73,_74,_75){var m,s,al=arguments.length;var i,box;if(!_71){_71=_65.create("div",{style:{position:"absolute",top:"-10000px",left:"0",visibility:"hidden"}},win.body());}m=_71;m.className="";s=m.style;s.borderWidth="0";s.margin="0";s.padding="0";s.outline="0";if(al>1&&_74){for(i in _74){if(i in _72){continue;}s[i]=_74[i];}}if(al>2&&_75){m.className=_75;}m.innerHTML=_73;if(m.getBoundingClientRect){var bcr=m.getBoundingClientRect();box={l:bcr.left,t:bcr.top,w:bcr.width||(bcr.right-bcr.left),h:bcr.height||(bcr.bottom-bcr.top)};}else{box=_66.getMarginBox(m);}m.innerHTML="";return box;};b._computeTextLocation=function(_76,_77,_78,_79){var loc={},_7a=_76.align;switch(_7a){case "end":loc.x=_76.x-_77;break;case "middle":loc.x=_76.x-_77/2;break;default:loc.x=_76.x;break;}var c=_79?0.75:1;loc.y=_76.y-_78*c;return loc;};b._computeTextBoundingBox=function(s){if(!g._base._isRendered(s)){return {x:0,y:0,width:0,height:0};}var loc,_7b=s.getShape(),_7c=s.getFont()||g.defaultFont,w=s.getTextWidth(),h=g.normalizedLength(_7c.size);loc=b._computeTextLocation(_7b,w,h,true);return {x:loc.x,y:loc.y,width:w,height:h};};b._isRendered=function(s){var p=s.parent;while(p&&p.getParent){p=p.parent;}return p!==null;};var _7d=0;b._getUniqueId=function(){var id;do{id=_62._scopeName+"xUnique"+(++_7d);}while(dom.byId(id));return id;};b._fixMsTouchAction=function(_7e){var r=_7e.rawNode;if(typeof r.style.msTouchAction!="undefined"){r.style.msTouchAction="none";}};_63.mixin(g,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:(function(){var _7f={};return function(_80){var t=_7f[_80];if(t){return new t();}t=_7f[_80]=new Function();t.prototype=g["default"+_80];return new t();};})(),normalizeColor:function(_81){return (_81 instanceof _64)?_81:new _64(_81);},normalizeParameters:function(_82,_83){var x;if(_83){var _84={};for(x in _82){if(x in _83&&!(x in _84)){_82[x]=_83[x];}}}return _82;},makeParameters:function(_85,_86){var i=null;if(!_86){return _63.delegate(_85);}var _87={};for(i in _85){if(!(i in _87)){_87[i]=_63.clone((i in _86)?_86[i]:_85[i]);}}return _87;},formatNumber:function(x,_88){var val=x.toString();if(val.indexOf("e")>=0){val=x.toFixed(4);}else{var _89=val.indexOf(".");if(_89>=0&&val.length-_89>5){val=x.toFixed(4);}}if(x<0){return val;}return _88?" "+val:val;},makeFontString:function(_8a){return _8a.style+" "+_8a.variant+" "+_8a.weight+" "+_8a.size+" "+_8a.family;},splitFontString:function(str){var _8b=g.getDefault("Font");var t=str.split(/\s+/);do{if(t.length<5){break;}_8b.style=t[0];_8b.variant=t[1];_8b.weight=t[2];var i=t[3].indexOf("/");_8b.size=i<0?t[3]:t[3].substring(0,i);var j=4;if(i<0){if(t[4]=="/"){j=6;}else{if(t[4].charAt(0)=="/"){j=5;}}}if(j<t.length){_8b.family=t.slice(j).join(" ");}}while(false);return _8b;},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return g._base._getCachedFontMeasurements()["12pt"]/12;},pt2px:function(len){return len*g.px_in_pt();},px2pt:function(len){return len/g.px_in_pt();},normalizedLength:function(len){if(len.length===0){return 0;}if(len.length>2){var _8c=g.px_in_pt();var val=parseFloat(len);switch(len.slice(-2)){case "px":return val;case "pt":return val*_8c;case "in":return val*72*_8c;case "pc":return val*12*_8c;case "mm":return val*g.mm_in_pt*_8c;case "cm":return val*g.cm_in_pt*_8c;}}return parseFloat(len);},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g,equalSources:function(a,b){return a&&b&&a===b;},switchTo:function(_8d){var ns=typeof _8d=="string"?g[_8d]:_8d;if(ns){arr.forEach(["Group","Rect","Ellipse","Circle","Line","Polyline","Image","Text","Path","TextPath","Surface","createSurface","fixTarget"],function(_8e){g[_8e]=ns[_8e];});if(typeof _8d=="string"){g.renderer=_8d;}else{arr.some(["svg","vml","canvas","canvasWithEvents","silverlight"],function(r){return (g.renderer=g[r]&&g[r].Surface===g.Surface?r:null);});}}}});return g;});},"dojox/gfx/matrix":function(){define(["./_base","dojo/_base/lang"],function(g,_8f){var m=g.matrix={};var _90={};m._degToRad=function(_91){return _90[_91]||(_90[_91]=(Math.PI*_91/180));};m._radToDeg=function(_92){return _92/Math.PI*180;};m.Matrix2D=function(arg){if(arg){if(typeof arg=="number"){this.xx=this.yy=arg;}else{if(arg instanceof Array){if(arg.length>0){var _93=m.normalize(arg[0]);for(var i=1;i<arg.length;++i){var l=_93,r=m.normalize(arg[i]);_93=new m.Matrix2D();_93.xx=l.xx*r.xx+l.xy*r.yx;_93.xy=l.xx*r.xy+l.xy*r.yy;_93.yx=l.yx*r.xx+l.yy*r.yx;_93.yy=l.yx*r.xy+l.yy*r.yy;_93.dx=l.xx*r.dx+l.xy*r.dy+l.dx;_93.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}_8f.mixin(this,_93);}}else{_8f.mixin(this,arg);}}}};_8f.extend(m.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});_8f.mixin(m,{identity:new m.Matrix2D(),flipX:new m.Matrix2D({xx:-1}),flipY:new m.Matrix2D({yy:-1}),flipXY:new m.Matrix2D({xx:-1,yy:-1}),translate:function(a,b){if(arguments.length>1){return new m.Matrix2D({dx:a,dy:b});}return new m.Matrix2D({dx:a.x,dy:a.y});},scale:function(a,b){if(arguments.length>1){return new m.Matrix2D({xx:a,yy:b});}if(typeof a=="number"){return new m.Matrix2D({xx:a,yy:a});}return new m.Matrix2D({xx:a.x,yy:a.y});},rotate:function(_94){var c=Math.cos(_94);var s=Math.sin(_94);return new m.Matrix2D({xx:c,xy:-s,yx:s,yy:c});},rotateg:function(_95){return m.rotate(m._degToRad(_95));},skewX:function(_96){return new m.Matrix2D({xy:Math.tan(_96)});},skewXg:function(_97){return m.skewX(m._degToRad(_97));},skewY:function(_98){return new m.Matrix2D({yx:Math.tan(_98)});},skewYg:function(_99){return m.skewY(m._degToRad(_99));},reflect:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=2*a*b/n2;return new m.Matrix2D({xx:2*a2/n2-1,xy:xy,yx:xy,yy:2*b2/n2-1});},project:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=a*b/n2;return new m.Matrix2D({xx:a2/n2,xy:xy,yx:xy,yy:b2/n2});},normalize:function(_9a){return (_9a instanceof m.Matrix2D)?_9a:new m.Matrix2D(_9a);},isIdentity:function(_9b){return _9b.xx==1&&_9b.xy==0&&_9b.yx==0&&_9b.yy==1&&_9b.dx==0&&_9b.dy==0;},clone:function(_9c){var obj=new m.Matrix2D();for(var i in _9c){if(typeof (_9c[i])=="number"&&typeof (obj[i])=="number"&&obj[i]!=_9c[i]){obj[i]=_9c[i];}}return obj;},invert:function(_9d){var M=m.normalize(_9d),D=M.xx*M.yy-M.xy*M.yx;M=new m.Matrix2D({xx:M.yy/D,xy:-M.xy/D,yx:-M.yx/D,yy:M.xx/D,dx:(M.xy*M.dy-M.yy*M.dx)/D,dy:(M.yx*M.dx-M.xx*M.dy)/D});return M;},_multiplyPoint:function(_9e,x,y){return {x:_9e.xx*x+_9e.xy*y+_9e.dx,y:_9e.yx*x+_9e.yy*y+_9e.dy};},multiplyPoint:function(_9f,a,b){var M=m.normalize(_9f);if(typeof a=="number"&&typeof b=="number"){return m._multiplyPoint(M,a,b);}return m._multiplyPoint(M,a.x,a.y);},multiplyRectangle:function(_a0,_a1){var M=m.normalize(_a0);_a1=_a1||{x:0,y:0,width:0,height:0};if(m.isIdentity(M)){return {x:_a1.x,y:_a1.y,width:_a1.width,height:_a1.height};}var p0=m.multiplyPoint(M,_a1.x,_a1.y),p1=m.multiplyPoint(M,_a1.x,_a1.y+_a1.height),p2=m.multiplyPoint(M,_a1.x+_a1.width,_a1.y),p3=m.multiplyPoint(M,_a1.x+_a1.width,_a1.y+_a1.height),_a2=Math.min(p0.x,p1.x,p2.x,p3.x),_a3=Math.min(p0.y,p1.y,p2.y,p3.y),_a4=Math.max(p0.x,p1.x,p2.x,p3.x),_a5=Math.max(p0.y,p1.y,p2.y,p3.y);return {x:_a2,y:_a3,width:_a4-_a2,height:_a5-_a3};},multiply:function(_a6){var M=m.normalize(_a6);for(var i=1;i<arguments.length;++i){var l=M,r=m.normalize(arguments[i]);M=new m.Matrix2D();M.xx=l.xx*r.xx+l.xy*r.yx;M.xy=l.xx*r.xy+l.xy*r.yy;M.yx=l.yx*r.xx+l.yy*r.yx;M.yy=l.yx*r.xy+l.yy*r.yy;M.dx=l.xx*r.dx+l.xy*r.dy+l.dx;M.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}return M;},_sandwich:function(_a7,x,y){return m.multiply(m.translate(x,y),_a7,m.translate(-x,-y));},scaleAt:function(a,b,c,d){switch(arguments.length){case 4:return m._sandwich(m.scale(a,b),c,d);case 3:if(typeof c=="number"){return m._sandwich(m.scale(a),b,c);}return m._sandwich(m.scale(a,b),c.x,c.y);}return m._sandwich(m.scale(a),b.x,b.y);},rotateAt:function(_a8,a,b){if(arguments.length>2){return m._sandwich(m.rotate(_a8),a,b);}return m._sandwich(m.rotate(_a8),a.x,a.y);},rotategAt:function(_a9,a,b){if(arguments.length>2){return m._sandwich(m.rotateg(_a9),a,b);}return m._sandwich(m.rotateg(_a9),a.x,a.y);},skewXAt:function(_aa,a,b){if(arguments.length>2){return m._sandwich(m.skewX(_aa),a,b);}return m._sandwich(m.skewX(_aa),a.x,a.y);},skewXgAt:function(_ab,a,b){if(arguments.length>2){return m._sandwich(m.skewXg(_ab),a,b);}return m._sandwich(m.skewXg(_ab),a.x,a.y);},skewYAt:function(_ac,a,b){if(arguments.length>2){return m._sandwich(m.skewY(_ac),a,b);}return m._sandwich(m.skewY(_ac),a.x,a.y);},skewYgAt:function(_ad,a,b){if(arguments.length>2){return m._sandwich(m.skewYg(_ad),a,b);}return m._sandwich(m.skewYg(_ad),a.x,a.y);}});g.Matrix2D=m.Matrix2D;return m;});},"dojox/color/_base":function(){define(["../main","dojo/_base/lang","dojo/_base/Color","dojo/colors"],function(_ae,_af,_b0,_b1){var cx=_af.getObject("color",true,_ae);cx.Color=_b0;cx.blend=_b0.blendColors;cx.fromRgb=_b0.fromRgb;cx.fromHex=_b0.fromHex;cx.fromArray=_b0.fromArray;cx.fromString=_b0.fromString;cx.greyscale=_b1.makeGrey;_af.mixin(cx,{fromCmy:function(_b2,_b3,_b4){if(_af.isArray(_b2)){_b3=_b2[1],_b4=_b2[2],_b2=_b2[0];}else{if(_af.isObject(_b2)){_b3=_b2.m,_b4=_b2.y,_b2=_b2.c;}}_b2/=100,_b3/=100,_b4/=100;var r=1-_b2,g=1-_b3,b=1-_b4;return new _b0({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromCmyk:function(_b5,_b6,_b7,_b8){if(_af.isArray(_b5)){_b6=_b5[1],_b7=_b5[2],_b8=_b5[3],_b5=_b5[0];}else{if(_af.isObject(_b5)){_b6=_b5.m,_b7=_b5.y,_b8=_b5.b,_b5=_b5.c;}}_b5/=100,_b6/=100,_b7/=100,_b8/=100;var r,g,b;r=1-Math.min(1,_b5*(1-_b8)+_b8);g=1-Math.min(1,_b6*(1-_b8)+_b8);b=1-Math.min(1,_b7*(1-_b8)+_b8);return new _b0({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromHsl:function(hue,_b9,_ba){if(_af.isArray(hue)){_b9=hue[1],_ba=hue[2],hue=hue[0];}else{if(_af.isObject(hue)){_b9=hue.s,_ba=hue.l,hue=hue.h;}}_b9/=100;_ba/=100;while(hue<0){hue+=360;}while(hue>=360){hue-=360;}var r,g,b;if(hue<120){r=(120-hue)/60,g=hue/60,b=0;}else{if(hue<240){r=0,g=(240-hue)/60,b=(hue-120)/60;}else{r=(hue-240)/60,g=0,b=(360-hue)/60;}}r=2*_b9*Math.min(r,1)+(1-_b9);g=2*_b9*Math.min(g,1)+(1-_b9);b=2*_b9*Math.min(b,1)+(1-_b9);if(_ba<0.5){r*=_ba,g*=_ba,b*=_ba;}else{r=(1-_ba)*r+2*_ba-1;g=(1-_ba)*g+2*_ba-1;b=(1-_ba)*b+2*_ba-1;}return new _b0({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});}});cx.fromHsv=function(hue,_bb,_bc){if(_af.isArray(hue)){_bb=hue[1],_bc=hue[2],hue=hue[0];}else{if(_af.isObject(hue)){_bb=hue.s,_bc=hue.v,hue=hue.h;}}if(hue==360){hue=0;}_bb/=100;_bc/=100;var r,g,b;if(_bb==0){r=_bc,b=_bc,g=_bc;}else{var _bd=hue/60,i=Math.floor(_bd),f=_bd-i;var p=_bc*(1-_bb);var q=_bc*(1-(_bb*f));var t=_bc*(1-(_bb*(1-f)));switch(i){case 0:r=_bc,g=t,b=p;break;case 1:r=q,g=_bc,b=p;break;case 2:r=p,g=_bc,b=t;break;case 3:r=p,g=q,b=_bc;break;case 4:r=t,g=p,b=_bc;break;case 5:r=_bc,g=p,b=q;break;}}return new _b0({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});};_af.extend(_b0,{toCmy:function(){var _be=1-(this.r/255),_bf=1-(this.g/255),_c0=1-(this.b/255);return {c:Math.round(_be*100),m:Math.round(_bf*100),y:Math.round(_c0*100)};},toCmyk:function(){var _c1,_c2,_c3,_c4;var r=this.r/255,g=this.g/255,b=this.b/255;_c4=Math.min(1-r,1-g,1-b);_c1=(1-r-_c4)/(1-_c4);_c2=(1-g-_c4)/(1-_c4);_c3=(1-b-_c4)/(1-_c4);return {c:Math.round(_c1*100),m:Math.round(_c2*100),y:Math.round(_c3*100),b:Math.round(_c4*100)};},toHsl:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var _c5=max-min;var h=0,s=0,l=(min+max)/2;if(l>0&&l<1){s=_c5/((l<0.5)?(2*l):(2-2*l));}if(_c5>0){if(max==r&&max!=g){h+=(g-b)/_c5;}if(max==g&&max!=b){h+=(2+(b-r)/_c5);}if(max==b&&max!=r){h+=(4+(r-g)/_c5);}h*=60;}return {h:h,s:Math.round(s*100),l:Math.round(l*100)};},toHsv:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var _c6=max-min;var h=null,s=(max==0)?0:(_c6/max);if(s==0){h=0;}else{if(r==max){h=60*(g-b)/_c6;}else{if(g==max){h=120+60*(b-r)/_c6;}else{h=240+60*(r-g)/_c6;}}if(h<0){h+=360;}}return {h:h,s:Math.round(s*100),v:Math.round(max*100)};}});return cx;});},"dojox/color/Palette":function(){define(["dojo/_base/lang","dojo/_base/array","./_base"],function(_c7,arr,dxc){dxc.Palette=function(_c8){this.colors=[];if(_c8 instanceof dxc.Palette){this.colors=_c8.colors.slice(0);}else{if(_c8 instanceof dxc.Color){this.colors=[null,null,_c8,null,null];}else{if(_c7.isArray(_c8)){this.colors=arr.map(_c8.slice(0),function(_c9){if(_c7.isString(_c9)){return new dxc.Color(_c9);}return _c9;});}else{if(_c7.isString(_c8)){this.colors=[null,null,new dxc.Color(_c8),null,null];}}}}};function _ca(p,_cb,val){var ret=new dxc.Palette();ret.colors=[];arr.forEach(p.colors,function(_cc){var r=(_cb=="dr")?_cc.r+val:_cc.r,g=(_cb=="dg")?_cc.g+val:_cc.g,b=(_cb=="db")?_cc.b+val:_cc.b,a=(_cb=="da")?_cc.a+val:_cc.a;ret.colors.push(new dxc.Color({r:Math.min(255,Math.max(0,r)),g:Math.min(255,Math.max(0,g)),b:Math.min(255,Math.max(0,b)),a:Math.min(1,Math.max(0,a))}));});return ret;};function _cd(p,_ce,val){var ret=new dxc.Palette();ret.colors=[];arr.forEach(p.colors,function(_cf){var o=_cf.toCmy(),c=(_ce=="dc")?o.c+val:o.c,m=(_ce=="dm")?o.m+val:o.m,y=(_ce=="dy")?o.y+val:o.y;ret.colors.push(dxc.fromCmy(Math.min(100,Math.max(0,c)),Math.min(100,Math.max(0,m)),Math.min(100,Math.max(0,y))));});return ret;};function _d0(p,_d1,val){var ret=new dxc.Palette();ret.colors=[];arr.forEach(p.colors,function(_d2){var o=_d2.toCmyk(),c=(_d1=="dc")?o.c+val:o.c,m=(_d1=="dm")?o.m+val:o.m,y=(_d1=="dy")?o.y+val:o.y,k=(_d1=="dk")?o.b+val:o.b;ret.colors.push(dxc.fromCmyk(Math.min(100,Math.max(0,c)),Math.min(100,Math.max(0,m)),Math.min(100,Math.max(0,y)),Math.min(100,Math.max(0,k))));});return ret;};function _d3(p,_d4,val){var ret=new dxc.Palette();ret.colors=[];arr.forEach(p.colors,function(_d5){var o=_d5.toHsl(),h=(_d4=="dh")?o.h+val:o.h,s=(_d4=="ds")?o.s+val:o.s,l=(_d4=="dl")?o.l+val:o.l;ret.colors.push(dxc.fromHsl(h%360,Math.min(100,Math.max(0,s)),Math.min(100,Math.max(0,l))));});return ret;};function _d6(p,_d7,val){var ret=new dxc.Palette();ret.colors=[];arr.forEach(p.colors,function(_d8){var o=_d8.toHsv(),h=(_d7=="dh")?o.h+val:o.h,s=(_d7=="ds")?o.s+val:o.s,v=(_d7=="dv")?o.v+val:o.v;ret.colors.push(dxc.fromHsv(h%360,Math.min(100,Math.max(0,s)),Math.min(100,Math.max(0,v))));});return ret;};function _d9(val,low,_da){return _da-((_da-val)*((_da-low)/_da));};_c7.extend(dxc.Palette,{transform:function(_db){var fn=_ca;if(_db.use){var use=_db.use.toLowerCase();if(use.indexOf("hs")==0){if(use.charAt(2)=="l"){fn=_d3;}else{fn=_d6;}}else{if(use.indexOf("cmy")==0){if(use.charAt(3)=="k"){fn=_d0;}else{fn=_cd;}}}}else{if("dc" in _db||"dm" in _db||"dy" in _db){if("dk" in _db){fn=_d0;}else{fn=_cd;}}else{if("dh" in _db||"ds" in _db){if("dv" in _db){fn=_d6;}else{fn=_d3;}}}}var _dc=this;for(var p in _db){if(p=="use"){continue;}_dc=fn(_dc,p,_db[p]);}return _dc;},clone:function(){return new dxc.Palette(this);}});_c7.mixin(dxc.Palette,{generators:{analogous:function(_dd){var _de=_dd.high||60,low=_dd.low||18,_df=_c7.isString(_dd.base)?new dxc.Color(_dd.base):_dd.base,hsv=_df.toHsv();var h=[(hsv.h+low+360)%360,(hsv.h+Math.round(low/2)+360)%360,hsv.h,(hsv.h-Math.round(_de/2)+360)%360,(hsv.h-_de+360)%360];var s1=Math.max(10,(hsv.s<=95)?hsv.s+5:(100-(hsv.s-95))),s2=(hsv.s>1)?hsv.s-1:21-hsv.s,v1=(hsv.v>=92)?hsv.v-9:Math.max(hsv.v+9,20),v2=(hsv.v<=90)?Math.max(hsv.v+5,20):(95+Math.ceil((hsv.v-90)/2)),s=[s1,s2,hsv.s,s1,s1],v=[v1,v2,hsv.v,v1,v2];return new dxc.Palette(arr.map(h,function(hue,i){return dxc.fromHsv(hue,s[i],v[i]);}));},monochromatic:function(_e0){var _e1=_c7.isString(_e0.base)?new dxc.Color(_e0.base):_e0.base,hsv=_e1.toHsv();var s1=(hsv.s-30>9)?hsv.s-30:hsv.s+30,s2=hsv.s,v1=_d9(hsv.v,20,100),v2=(hsv.v-20>20)?hsv.v-20:hsv.v+60,v3=(hsv.v-50>20)?hsv.v-50:hsv.v+30;return new dxc.Palette([dxc.fromHsv(hsv.h,s1,v1),dxc.fromHsv(hsv.h,s2,v3),_e1,dxc.fromHsv(hsv.h,s1,v3),dxc.fromHsv(hsv.h,s2,v2)]);},triadic:function(_e2){var _e3=_c7.isString(_e2.base)?new dxc.Color(_e2.base):_e2.base,hsv=_e3.toHsv();var h1=(hsv.h+57+360)%360,h2=(hsv.h-157+360)%360,s1=(hsv.s>20)?hsv.s-10:hsv.s+10,s2=(hsv.s>90)?hsv.s-10:hsv.s+10,s3=(hsv.s>95)?hsv.s-5:hsv.s+5,v1=(hsv.v-20>20)?hsv.v-20:hsv.v+20,v2=(hsv.v-30>20)?hsv.v-30:hsv.v+30,v3=(hsv.v-30>70)?hsv.v-30:hsv.v+30;return new dxc.Palette([dxc.fromHsv(h1,s1,hsv.v),dxc.fromHsv(hsv.h,s2,v2),_e3,dxc.fromHsv(h2,s2,v1),dxc.fromHsv(h2,s3,v3)]);},complementary:function(_e4){var _e5=_c7.isString(_e4.base)?new dxc.Color(_e4.base):_e4.base,hsv=_e5.toHsv();var h1=((hsv.h*2)+137<360)?(hsv.h*2)+137:Math.floor(hsv.h/2)-137,s1=Math.max(hsv.s-10,0),s2=_d9(hsv.s,10,100),s3=Math.min(100,hsv.s+20),v1=Math.min(100,hsv.v+30),v2=(hsv.v>20)?hsv.v-30:hsv.v+30;return new dxc.Palette([dxc.fromHsv(hsv.h,s1,v1),dxc.fromHsv(hsv.h,s2,v2),_e5,dxc.fromHsv(h1,s3,v2),dxc.fromHsv(h1,hsv.s,hsv.v)]);},splitComplementary:function(_e6){var _e7=_c7.isString(_e6.base)?new dxc.Color(_e6.base):_e6.base,_e8=_e6.da||30,hsv=_e7.toHsv();var _e9=((hsv.h*2)+137<360)?(hsv.h*2)+137:Math.floor(hsv.h/2)-137,h1=(_e9-_e8+360)%360,h2=(_e9+_e8)%360,s1=Math.max(hsv.s-10,0),s2=_d9(hsv.s,10,100),s3=Math.min(100,hsv.s+20),v1=Math.min(100,hsv.v+30),v2=(hsv.v>20)?hsv.v-30:hsv.v+30;return new dxc.Palette([dxc.fromHsv(h1,s1,v1),dxc.fromHsv(h1,s2,v2),_e7,dxc.fromHsv(h2,s3,v2),dxc.fromHsv(h2,hsv.s,hsv.v)]);},compound:function(_ea){var _eb=_c7.isString(_ea.base)?new dxc.Color(_ea.base):_ea.base,hsv=_eb.toHsv();var h1=((hsv.h*2)+18<360)?(hsv.h*2)+18:Math.floor(hsv.h/2)-18,h2=((hsv.h*2)+120<360)?(hsv.h*2)+120:Math.floor(hsv.h/2)-120,h3=((hsv.h*2)+99<360)?(hsv.h*2)+99:Math.floor(hsv.h/2)-99,s1=(hsv.s-40>10)?hsv.s-40:hsv.s+40,s2=(hsv.s-10>80)?hsv.s-10:hsv.s+10,s3=(hsv.s-25>10)?hsv.s-25:hsv.s+25,v1=(hsv.v-40>10)?hsv.v-40:hsv.v+40,v2=(hsv.v-20>80)?hsv.v-20:hsv.v+20,v3=Math.max(hsv.v,20);return new dxc.Palette([dxc.fromHsv(h1,s1,v1),dxc.fromHsv(h1,s2,v2),_eb,dxc.fromHsv(h2,s3,v3),dxc.fromHsv(h3,s2,v2)]);},shades:function(_ec){var _ed=_c7.isString(_ec.base)?new dxc.Color(_ec.base):_ec.base,hsv=_ed.toHsv();var s=(hsv.s==100&&hsv.v==0)?0:hsv.s,v1=(hsv.v-50>20)?hsv.v-50:hsv.v+30,v2=(hsv.v-25>=20)?hsv.v-25:hsv.v+55,v3=(hsv.v-75>=20)?hsv.v-75:hsv.v+5,v4=Math.max(hsv.v-10,20);return new dxc.Palette([new dxc.fromHsv(hsv.h,s,v1),new dxc.fromHsv(hsv.h,s,v2),_ed,new dxc.fromHsv(hsv.h,s,v3),new dxc.fromHsv(hsv.h,s,v4)]);}},generate:function(_ee,_ef){if(_c7.isFunction(_ef)){return _ef({base:_ee});}else{if(dxc.Palette.generators[_ef]){return dxc.Palette.generators[_ef]({base:_ee});}}throw new Error("dojox.color.Palette.generate: the specified generator ('"+_ef+"') does not exist.");}});return dxc.Palette;});},"dojox/charting/themes/common":function(){define(["dojo/_base/lang"],function(_f0){return _f0.getObject("dojox.charting.themes",true);});},"dojox/charting/themes/PlotKit/base":function(){define(["dojo/_base/lang","dojo/_base/Color","../../Theme","../common"],function(_f1,_f2,_f3,_f4){var pk=_f1.getObject("PlotKit",true,_f4);pk.base=new _f3({chart:{stroke:null,fill:"yellow"},plotarea:{stroke:null,fill:"yellow"},axis:{stroke:{color:"#fff",width:1},line:{color:"#fff",width:0.5},majorTick:{color:"#fff",width:0.5,length:6},minorTick:{color:"#fff",width:0.5,length:3},tick:{font:"normal normal normal 7pt Helvetica,Arial,sans-serif",fontColor:"#999"}},series:{stroke:{width:2.5,color:"#fff"},fill:"#666",font:"normal normal normal 7.5pt Helvetica,Arial,sans-serif",fontColor:"#666"},marker:{stroke:{width:2},fill:"#333",font:"normal normal normal 7pt Helvetica,Arial,sans-serif",fontColor:"#666"},colors:["red","green","blue"]});pk.base.next=function(_f5,_f6,_f7){var _f8=_f3.prototype.next.apply(this,arguments);if(_f5=="line"){_f8.marker.outline={width:2,color:"#fff"};_f8.series.stroke.width=3.5;_f8.marker.stroke.width=2;}else{if(_f5=="candlestick"){_f8.series.stroke.width=1;}else{if(_f8.series.stroke.color&&(_f8.series.stroke.color.toString()==new _f2(this.colors[(this._current-1)%this.colors.length]).toString())){_f8.series.stroke.color="#fff";}}}return _f8;};return pk;});},"dojox/charting/themes/PlotKit/green":function(){define(["./base","../../Theme"],function(pk,_f9){pk.green=pk.base.clone();pk.green.chart.fill=pk.green.plotarea.fill="#eff5e6";pk.green.colors=_f9.defineColors({hue:82,saturation:60,low:40,high:88});return pk.green;});},"dojox/charting/widget/Chart2D":function(){define(["dojo/_base/kernel","dojo/_base/lang","./Chart","../Chart2D","../action2d/Highlight","../action2d/Magnify","../action2d/MoveSlice","../action2d/Shake","../action2d/Tooltip"],function(_fa,_fb,_fc){_fa.deprecated("dojox.charting.widget.Chart2D","Use dojo.charting.widget.Chart instead and require all other components explicitly","2.0");return _fb.setObject("dojox.charting.widget.Chart2D",_fc);});},"dojox/charting/widget/Chart":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/dom-attr","dojo/_base/declare","dojo/query","dijit/_WidgetBase","../Chart","dojo/has","dojo/has!dojo-bidi?../bidi/widget/Chart","dojox/lang/utils","dojox/lang/functional","dojox/lang/functional/lambda"],function(_fd,_fe,arr,_ff,_100,_101,_102,_103,has,_104,du,df,dfl){var _105,_106,_107,_108,_109,_10a=function(o){return o;},dc=_fe.getObject("dojox.charting");_105=function(node,type,kw){var dp=eval("("+type+".prototype.defaultParams)");var x,attr;for(x in dp){if(x in kw){continue;}attr=node.getAttribute(x);kw[x]=du.coerceType(dp[x],attr==null||typeof attr=="undefined"?dp[x]:attr);}var op=eval("("+type+".prototype.optionalParams)");for(x in op){if(x in kw){continue;}attr=node.getAttribute(x);if(attr!=null){kw[x]=du.coerceType(op[x],attr);}}};_106=function(node){var name=node.getAttribute("name"),type=node.getAttribute("type");if(!name){return null;}var o={name:name,kwArgs:{}},kw=o.kwArgs;if(type){if(dc.axis2d[type]){type=_fd._scopeName+"x.charting.axis2d."+type;}var axis=eval("("+type+")");if(axis){kw.type=axis;}}else{type=_fd._scopeName+"x.charting.axis2d.Default";}_105(node,type,kw);if(kw.font||kw.fontColor){if(!kw.tick){kw.tick={};}if(kw.font){kw.tick.font=kw.font;}if(kw.fontColor){kw.tick.fontColor=kw.fontColor;}}return o;};_107=function(node){var name=node.getAttribute("name"),type=node.getAttribute("type");if(!name){return null;}var o={name:name,kwArgs:{}},kw=o.kwArgs;if(type){if(dc.plot2d&&dc.plot2d[type]){type=_fd._scopeName+"x.charting.plot2d."+type;}var plot=eval("("+type+")");if(plot){kw.type=plot;}}else{type=_fd._scopeName+"x.charting.plot2d.Default";}_105(node,type,kw);var dp=eval("("+type+".prototype.baseParams)");var x,attr;for(x in dp){if(x in kw){continue;}attr=node.getAttribute(x);kw[x]=du.coerceType(dp[x],attr==null||typeof attr=="undefined"?dp[x]:attr);}return o;};_108=function(node){var plot=node.getAttribute("plot"),type=node.getAttribute("type");if(!plot){plot="default";}var o={plot:plot,kwArgs:{}},kw=o.kwArgs;if(type){if(dc.action2d[type]){type=_fd._scopeName+"x.charting.action2d."+type;}var _10b=eval("("+type+")");if(!_10b){return null;}o.action=_10b;}else{return null;}_105(node,type,kw);return o;};_109=function(node){var ga=_fe.partial(_ff.get,node);var name=ga("name");if(!name){return null;}var o={name:name,kwArgs:{}},kw=o.kwArgs,t;t=ga("plot");if(t!=null){kw.plot=t;}t=ga("marker");if(t!=null){kw.marker=t;}t=ga("stroke");if(t!=null){kw.stroke=eval("("+t+")");}t=ga("outline");if(t!=null){kw.outline=eval("("+t+")");}t=ga("shadow");if(t!=null){kw.shadow=eval("("+t+")");}t=ga("fill");if(t!=null){kw.fill=eval("("+t+")");}t=ga("font");if(t!=null){kw.font=t;}t=ga("fontColor");if(t!=null){kw.fontColor=eval("("+t+")");}t=ga("legend");if(t!=null){kw.legend=t;}t=ga("data");if(t!=null){o.type="data";o.data=t?arr.map(String(t).split(","),Number):[];return o;}t=ga("array");if(t!=null){o.type="data";o.data=eval("("+t+")");return o;}t=ga("store");if(t!=null){o.type="store";o.data=eval("("+t+")");t=ga("field");o.field=t!=null?t:"value";t=ga("query");if(!!t){kw.query=t;}t=ga("queryOptions");if(!!t){kw.queryOptions=eval("("+t+")");}t=ga("start");if(!!t){kw.start=Number(t);}t=ga("count");if(!!t){kw.count=Number(t);}t=ga("sort");if(!!t){kw.sort=eval("("+t+")");}t=ga("valueFn");if(!!t){kw.valueFn=dfl.lambda(t);}return o;}return null;};var _10c=_100(has("dojo-bidi")?"dojox.charting.widget.NonBidiChart":"dojox.charting.widget.Chart",_102,{theme:null,margins:null,stroke:undefined,fill:undefined,buildRendering:function(){this.inherited(arguments);var n=this.domNode;var axes=_101("> .axis",n).map(_106).filter(_10a),_10d=_101("> .plot",n).map(_107).filter(_10a),_10e=_101("> .action",n).map(_108).filter(_10a),_10f=_101("> .series",n).map(_109).filter(_10a);n.innerHTML="";var c=this.chart=new _103(n,{margins:this.margins,stroke:this.stroke,fill:this.fill,textDir:this.textDir});if(this.theme){c.setTheme(this.theme);}axes.forEach(function(axis){c.addAxis(axis.name,axis.kwArgs);});_10d.forEach(function(plot){c.addPlot(plot.name,plot.kwArgs);});this.actions=_10e.map(function(_110){return new _110.action(c,_110.plot,_110.kwArgs);});var _111=df.foldl(_10f,function(_112,_113){if(_113.type=="data"){c.addSeries(_113.name,_113.data,_113.kwArgs);_112=true;}else{c.addSeries(_113.name,[0],_113.kwArgs);var kw={};du.updateWithPattern(kw,_113.kwArgs,{"query":"","queryOptions":null,"start":0,"count":1},true);if(_113.kwArgs.sort){kw.sort=_fe.clone(_113.kwArgs.sort);}_fe.mixin(kw,{onComplete:function(data){var _114;if("valueFn" in _113.kwArgs){var fn=_113.kwArgs.valueFn;_114=arr.map(data,function(x){return fn(_113.data.getValue(x,_113.field,0));});}else{_114=arr.map(data,function(x){return _113.data.getValue(x,_113.field,0);});}c.addSeries(_113.name,_114,_113.kwArgs).render();}});_113.data.fetch(kw);}return _112;},false);if(_111){c.render();}},destroy:function(){this.chart.destroy();this.inherited(arguments);},resize:function(box){this.chart.resize.apply(this.chart,arguments);}});return has("dojo-bidi")?_100("dojox.charting.widget.Chart",[_10c,_104]):_10c;});},"dojox/charting/Chart":function(){define(["../main","dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/dom-style","dojo/dom","dojo/dom-geometry","dojo/dom-construct","dojo/_base/Color","dojo/sniff","./Element","./SimpleTheme","./Series","./axis2d/common","dojox/gfx/shape","dojox/gfx","dojo/has!dojo-bidi?./bidi/Chart","dojox/lang/functional","dojox/lang/functional/fold","dojox/lang/functional/reversed"],function(_115,lang,arr,_116,_117,dom,_118,_119,_11a,has,_11b,_11c,_11d,_11e,_11f,g,_120,func){var dc=lang.getObject("charting",true,_115),_121=func.lambda("item.clear()"),_122=func.lambda("item.purgeGroup()"),_123=func.lambda("item.destroy()"),_124=func.lambda("item.dirty = false"),_125=func.lambda("item.dirty = true"),_126=func.lambda("item.name");var _127=_116(has("dojo-bidi")?"dojox.charting.NonBidiChart":"dojox.charting.Chart",null,{constructor:function(node,_128){if(!_128){_128={};}this.margins=_128.margins?_128.margins:{l:10,t:10,r:10,b:10};this.stroke=_128.stroke;this.fill=_128.fill;this.delayInMs=_128.delayInMs||200;this.title=_128.title;this.titleGap=_128.titleGap;this.titlePos=_128.titlePos;this.titleFont=_128.titleFont;this.titleFontColor=_128.titleFontColor;this.chartTitle=null;this.htmlLabels=true;if("htmlLabels" in _128){this.htmlLabels=_128.htmlLabels;}this.theme=null;this.axes={};this.stack=[];this.plots={};this.series=[];this.runs={};this.dirty=true;this.node=dom.byId(node);var box=_118.getMarginBox(node);this.surface=g.createSurface(this.node,box.w||400,box.h||300);if(this.surface.declaredClass.indexOf("vml")==-1){this._nativeClip=true;}},destroy:function(){arr.forEach(this.series,_123);arr.forEach(this.stack,_123);func.forIn(this.axes,_123);this.surface.destroy();if(this.chartTitle&&this.chartTitle.tagName){_119.destroy(this.chartTitle);}},getCoords:function(){var node=this.node;var s=_117.getComputedStyle(node),_129=_118.getMarginBox(node,s);var abs=_118.position(node,true);_129.x=abs.x;_129.y=abs.y;return _129;},setTheme:function(_12a){this.theme=_12a.clone();this.dirty=true;return this;},addAxis:function(name,_12b){var axis,_12c=_12b&&_12b.type||"Default";if(typeof _12c=="string"){if(!dc.axis2d||!dc.axis2d[_12c]){throw Error("Can't find axis: "+_12c+" - Check "+"require() dependencies.");}axis=new dc.axis2d[_12c](this,_12b);}else{axis=new _12c(this,_12b);}axis.name=name;axis.dirty=true;if(name in this.axes){this.axes[name].destroy();}this.axes[name]=axis;this.dirty=true;return this;},getAxis:function(name){return this.axes[name];},removeAxis:function(name){if(name in this.axes){this.axes[name].destroy();delete this.axes[name];this.dirty=true;}return this;},addPlot:function(name,_12d){var plot,_12e=_12d&&_12d.type||"Default";if(typeof _12e=="string"){if(!dc.plot2d||!dc.plot2d[_12e]){throw Error("Can't find plot: "+_12e+" - didn't you forget to dojo"+".require() it?");}plot=new dc.plot2d[_12e](this,_12d);}else{plot=new _12e(this,_12d);}plot.name=name;plot.dirty=true;if(name in this.plots){this.stack[this.plots[name]].destroy();this.stack[this.plots[name]]=plot;}else{this.plots[name]=this.stack.length;this.stack.push(plot);}this.dirty=true;return this;},getPlot:function(name){return this.stack[this.plots[name]];},removePlot:function(name){if(name in this.plots){var _12f=this.plots[name];delete this.plots[name];this.stack[_12f].destroy();this.stack.splice(_12f,1);func.forIn(this.plots,function(idx,name,_130){if(idx>_12f){_130[name]=idx-1;}});var ns=arr.filter(this.series,function(run){return run.plot!=name;});if(ns.length<this.series.length){arr.forEach(this.series,function(run){if(run.plot==name){run.destroy();}});this.runs={};arr.forEach(ns,function(run,_131){this.runs[run.plot]=_131;},this);this.series=ns;}this.dirty=true;}return this;},getPlotOrder:function(){return func.map(this.stack,_126);},setPlotOrder:function(_132){var _133={},_134=func.filter(_132,function(name){if(!(name in this.plots)||(name in _133)){return false;}_133[name]=1;return true;},this);if(_134.length<this.stack.length){func.forEach(this.stack,function(plot){var name=plot.name;if(!(name in _133)){_134.push(name);}});}var _135=func.map(_134,function(name){return this.stack[this.plots[name]];},this);func.forEach(_135,function(plot,i){this.plots[plot.name]=i;},this);this.stack=_135;this.dirty=true;return this;},movePlotToFront:function(name){if(name in this.plots){var _136=this.plots[name];if(_136){var _137=this.getPlotOrder();_137.splice(_136,1);_137.unshift(name);return this.setPlotOrder(_137);}}return this;},movePlotToBack:function(name){if(name in this.plots){var _138=this.plots[name];if(_138<this.stack.length-1){var _139=this.getPlotOrder();_139.splice(_138,1);_139.push(name);return this.setPlotOrder(_139);}}return this;},addSeries:function(name,data,_13a){var run=new _11d(this,data,_13a);run.name=name;if(name in this.runs){this.series[this.runs[name]].destroy();this.series[this.runs[name]]=run;}else{this.runs[name]=this.series.length;this.series.push(run);}this.dirty=true;if(!("ymin" in run)&&"min" in run){run.ymin=run.min;}if(!("ymax" in run)&&"max" in run){run.ymax=run.max;}return this;},getSeries:function(name){return this.series[this.runs[name]];},removeSeries:function(name){if(name in this.runs){var _13b=this.runs[name];delete this.runs[name];this.series[_13b].destroy();this.series.splice(_13b,1);func.forIn(this.runs,function(idx,name,runs){if(idx>_13b){runs[name]=idx-1;}});this.dirty=true;}return this;},updateSeries:function(name,data,_13c){if(name in this.runs){var run=this.series[this.runs[name]];run.update(data);if(_13c){this.dirty=true;}else{this._invalidateDependentPlots(run.plot,false);this._invalidateDependentPlots(run.plot,true);}}return this;},getSeriesOrder:function(_13d){return func.map(func.filter(this.series,function(run){return run.plot==_13d;}),_126);},setSeriesOrder:function(_13e){var _13f,_140={},_141=func.filter(_13e,function(name){if(!(name in this.runs)||(name in _140)){return false;}var run=this.series[this.runs[name]];if(_13f){if(run.plot!=_13f){return false;}}else{_13f=run.plot;}_140[name]=1;return true;},this);func.forEach(this.series,function(run){var name=run.name;if(!(name in _140)&&run.plot==_13f){_141.push(name);}});var _142=func.map(_141,function(name){return this.series[this.runs[name]];},this);this.series=_142.concat(func.filter(this.series,function(run){return run.plot!=_13f;}));func.forEach(this.series,function(run,i){this.runs[run.name]=i;},this);this.dirty=true;return this;},moveSeriesToFront:function(name){if(name in this.runs){var _143=this.runs[name],_144=this.getSeriesOrder(this.series[_143].plot);if(name!=_144[0]){_144.splice(_143,1);_144.unshift(name);return this.setSeriesOrder(_144);}}return this;},moveSeriesToBack:function(name){if(name in this.runs){var _145=this.runs[name],_146=this.getSeriesOrder(this.series[_145].plot);if(name!=_146[_146.length-1]){_146.splice(_145,1);_146.push(name);return this.setSeriesOrder(_146);}}return this;},resize:function(_147,_148){switch(arguments.length){case 1:_118.setMarginBox(this.node,_147);break;case 2:_118.setMarginBox(this.node,{w:_147,h:_148});break;}var box=_118.getMarginBox(this.node);var d=this.surface.getDimensions();if(d.width!=box.w||d.height!=box.h){this.surface.setDimensions(box.w,box.h);this.dirty=true;return this.render();}else{return this;}},getGeometry:function(){var ret={};func.forIn(this.axes,function(axis){if(axis.initialized()){ret[axis.name]={name:axis.name,vertical:axis.vertical,scaler:axis.scaler,ticks:axis.ticks};}});return ret;},setAxisWindow:function(name,_149,_14a,zoom){var axis=this.axes[name];if(axis){axis.setWindow(_149,_14a);arr.forEach(this.stack,function(plot){if(plot.hAxis==name||plot.vAxis==name){plot.zoom=zoom;}});}return this;},setWindow:function(sx,sy,dx,dy,zoom){if(!("plotArea" in this)){this.calculateGeometry();}func.forIn(this.axes,function(axis){var _14b,_14c,_14d=axis.getScaler().bounds,s=_14d.span/(_14d.upper-_14d.lower);if(axis.vertical){_14b=sy;_14c=dy/s/_14b;}else{_14b=sx;_14c=dx/s/_14b;}axis.setWindow(_14b,_14c);});arr.forEach(this.stack,function(plot){plot.zoom=zoom;});return this;},zoomIn:function(name,_14e,_14f){var axis=this.axes[name];if(axis){var _150,_151,_152=axis.getScaler().bounds;var _153=Math.min(_14e[0],_14e[1]);var _154=Math.max(_14e[0],_14e[1]);_153=_14e[0]<_152.lower?_152.lower:_153;_154=_14e[1]>_152.upper?_152.upper:_154;_150=(_152.upper-_152.lower)/(_154-_153);_151=_153-_152.lower;this.setAxisWindow(name,_150,_151);if(_14f){this.delayedRender();}else{this.render();}}},calculateGeometry:function(){if(this.dirty){return this.fullGeometry();}var _155=arr.filter(this.stack,function(plot){return plot.dirty||(plot.hAxis&&this.axes[plot.hAxis].dirty)||(plot.vAxis&&this.axes[plot.vAxis].dirty);},this);_156(_155,this.plotArea);return this;},fullGeometry:function(){this._makeDirty();arr.forEach(this.stack,_121);if(!this.theme){this.setTheme(new _11c());}arr.forEach(this.series,function(run){if(!(run.plot in this.plots)){if(!dc.plot2d||!dc.plot2d.Default){throw Error("Can't find plot: Default - didn't you forget to dojo"+".require() it?");}var plot=new dc.plot2d.Default(this,{});plot.name=run.plot;this.plots[run.plot]=this.stack.length;this.stack.push(plot);}this.stack[this.plots[run.plot]].addSeries(run);},this);arr.forEach(this.stack,function(plot){if(plot.assignAxes){plot.assignAxes(this.axes);}},this);var dim=this.dim=this.surface.getDimensions();dim.width=g.normalizedLength(dim.width);dim.height=g.normalizedLength(dim.height);func.forIn(this.axes,_121);_156(this.stack,dim);var _157=this.offsets={l:0,r:0,t:0,b:0};var self=this;func.forIn(this.axes,function(axis){if(has("dojo-bidi")){self._resetLeftBottom(axis);}func.forIn(axis.getOffsets(),function(o,i){_157[i]=Math.max(o,_157[i]);});});if(this.title){this.titleGap=(this.titleGap==0)?0:this.titleGap||this.theme.chart.titleGap||20;this.titlePos=this.titlePos||this.theme.chart.titlePos||"top";this.titleFont=this.titleFont||this.theme.chart.titleFont;this.titleFontColor=this.titleFontColor||this.theme.chart.titleFontColor||"black";var _158=g.normalizedLength(g.splitFontString(this.titleFont).size);_157[this.titlePos=="top"?"t":"b"]+=(_158+this.titleGap);}func.forIn(this.margins,function(o,i){_157[i]+=o;});this.plotArea={width:dim.width-_157.l-_157.r,height:dim.height-_157.t-_157.b};func.forIn(this.axes,_121);_156(this.stack,this.plotArea);return this;},render:function(){if(this._delayedRenderHandle){clearTimeout(this._delayedRenderHandle);this._delayedRenderHandle=null;}if(this.theme){this.theme.clear();}if(this.dirty){return this.fullRender();}this.calculateGeometry();func.forEachRev(this.stack,function(plot){plot.render(this.dim,this.offsets);},this);func.forIn(this.axes,function(axis){axis.render(this.dim,this.offsets);},this);this._makeClean();return this;},fullRender:function(){this.fullGeometry();var _159=this.offsets,dim=this.dim;var w=Math.max(0,dim.width-_159.l-_159.r),h=Math.max(0,dim.height-_159.t-_159.b);arr.forEach(this.series,_122);func.forIn(this.axes,_122);arr.forEach(this.stack,_122);var _15a=this.surface.children;if(_11f.dispose){for(var i=0;i<_15a.length;++i){_11f.dispose(_15a[i]);}}if(this.chartTitle&&this.chartTitle.tagName){_119.destroy(this.chartTitle);}this.surface.clear();this.chartTitle=null;this._renderChartBackground(dim,_159);if(this._nativeClip){this._renderPlotBackground(dim,_159,w,h);}else{this._renderPlotBackground(dim,_159,w,h);}func.foldr(this.stack,function(z,plot){return plot.render(dim,_159),0;},0);if(!this._nativeClip){this._renderChartBackground(dim,_159);}if(this.title){var _15b=(g.renderer=="canvas")&&this.htmlLabels,_15c=_15b||!has("ie")&&!has("opera")&&this.htmlLabels?"html":"gfx",_15d=g.normalizedLength(g.splitFontString(this.titleFont).size);this.chartTitle=_11e.createText[_15c](this,this.surface,dim.width/2,this.titlePos=="top"?_15d+this.margins.t:dim.height-this.margins.b,"middle",this.title,this.titleFont,this.titleFontColor);}func.forIn(this.axes,function(axis){axis.render(dim,_159);});this._makeClean();return this;},_renderChartBackground:function(dim,_15e){var t=this.theme,rect;var fill=this.fill!==undefined?this.fill:(t.chart&&t.chart.fill);var _15f=this.stroke!==undefined?this.stroke:(t.chart&&t.chart.stroke);if(fill=="inherit"){var node=this.node;fill=new _11a(_117.get(node,"backgroundColor"));while(fill.a==0&&node!=document.documentElement){fill=new _11a(_117.get(node,"backgroundColor"));node=node.parentNode;}}if(fill){if(this._nativeClip){fill=_11b.prototype._shapeFill(_11b.prototype._plotFill(fill,dim),{x:0,y:0,width:dim.width+1,height:dim.height+1});this.surface.createRect({width:dim.width+1,height:dim.height+1}).setFill(fill);}else{fill=_11b.prototype._plotFill(fill,dim,_15e);if(_15e.l){rect={x:0,y:0,width:_15e.l,height:dim.height+1};this.surface.createRect(rect).setFill(_11b.prototype._shapeFill(fill,rect));}if(_15e.r){rect={x:dim.width-_15e.r,y:0,width:_15e.r+1,height:dim.height+2};this.surface.createRect(rect).setFill(_11b.prototype._shapeFill(fill,rect));}if(_15e.t){rect={x:0,y:0,width:dim.width+1,height:_15e.t};this.surface.createRect(rect).setFill(_11b.prototype._shapeFill(fill,rect));}if(_15e.b){rect={x:0,y:dim.height-_15e.b,width:dim.width+1,height:_15e.b+2};this.surface.createRect(rect).setFill(_11b.prototype._shapeFill(fill,rect));}}}if(_15f){this.surface.createRect({width:dim.width-1,height:dim.height-1}).setStroke(_15f);}},_renderPlotBackground:function(dim,_160,w,h){var t=this.theme;var fill=t.plotarea&&t.plotarea.fill;var _161=t.plotarea&&t.plotarea.stroke;var rect={x:_160.l-1,y:_160.t-1,width:w+2,height:h+2};if(fill){fill=_11b.prototype._shapeFill(_11b.prototype._plotFill(fill,dim,_160),rect);this.surface.createRect(rect).setFill(fill);}if(_161){this.surface.createRect({x:_160.l,y:_160.t,width:w+1,height:h+1}).setStroke(_161);}},delayedRender:function(){if(!this._delayedRenderHandle){this._delayedRenderHandle=setTimeout(lang.hitch(this,function(){this.render();}),this.delayInMs);}return this;},connectToPlot:function(name,_162,_163){return name in this.plots?this.stack[this.plots[name]].connect(_162,_163):null;},fireEvent:function(_164,_165,_166){if(_164 in this.runs){var _167=this.series[this.runs[_164]].plot;if(_167 in this.plots){var plot=this.stack[this.plots[_167]];if(plot){plot.fireEvent(_164,_165,_166);}}}return this;},_makeClean:function(){arr.forEach(this.axes,_124);arr.forEach(this.stack,_124);arr.forEach(this.series,_124);this.dirty=false;},_makeDirty:function(){arr.forEach(this.axes,_125);arr.forEach(this.stack,_125);arr.forEach(this.series,_125);this.dirty=true;},_invalidateDependentPlots:function(_168,_169){if(_168 in this.plots){var plot=this.stack[this.plots[_168]],axis,_16a=_169?"vAxis":"hAxis";if(plot[_16a]){axis=this.axes[plot[_16a]];if(axis&&axis.dependOnData()){axis.dirty=true;arr.forEach(this.stack,function(p){if(p[_16a]&&p[_16a]==plot[_16a]){p.dirty=true;}});}}else{plot.dirty=true;}}},setDir:function(dir){return this;},_resetLeftBottom:function(axis){},formatTruncatedLabel:function(_16b,_16c,_16d){}});function _16e(_16f){return {min:_16f.hmin,max:_16f.hmax};};function _170(_171){return {min:_171.vmin,max:_171.vmax};};function _172(_173,h){_173.hmin=h.min;_173.hmax=h.max;};function _174(_175,v){_175.vmin=v.min;_175.vmax=v.max;};function _176(_177,_178){if(_177&&_178){_177.min=Math.min(_177.min,_178.min);_177.max=Math.max(_177.max,_178.max);}return _177||_178;};function _156(_179,_17a){var _17b={},axes={};arr.forEach(_179,function(plot){var _17c=_17b[plot.name]=plot.getSeriesStats();if(plot.hAxis){axes[plot.hAxis]=_176(axes[plot.hAxis],_16e(_17c));}if(plot.vAxis){axes[plot.vAxis]=_176(axes[plot.vAxis],_170(_17c));}});arr.forEach(_179,function(plot){var _17d=_17b[plot.name];if(plot.hAxis){_172(_17d,axes[plot.hAxis]);}if(plot.vAxis){_174(_17d,axes[plot.vAxis]);}plot.initializeScalers(_17a,_17d);});};return has("dojo-bidi")?_116("dojox.charting.Chart",[_127,_120]):_127;});},"dojox/charting/Element":function(){define(["dojo/_base/array","dojo/dom-construct","dojo/_base/declare","dojox/gfx","dojox/gfx/shape"],function(arr,_17e,_17f,gfx,_180){return _17f("dojox.charting.Element",null,{chart:null,group:null,htmlElements:null,dirty:true,renderingOptions:null,constructor:function(_181,_182){this.chart=_181;this.group=null;this.htmlElements=[];this.dirty=true;this.trailingSymbol="...";this._events=[];if(_182&&_182.renderingOptions){this.renderingOptions=_182.renderingOptions;}},purgeGroup:function(){this.destroyHtmlElements();if(this.group){this.getGroup().removeShape();var _183=this.getGroup().children;if(_180.dispose){for(var i=0;i<_183.length;++i){_180.dispose(_183[i],true);}}if(this.getGroup().rawNode){_17e.empty(this.getGroup().rawNode);}this.getGroup().clear();if(_180.dispose){_180.dispose(this.getGroup(),true);}if(this.getGroup()!=this.group){if(this.group.rawNode){_17e.empty(this.group.rawNode);}this.group.clear();if(_180.dispose){_180.dispose(this.group,true);}}this.group=null;}this.dirty=true;if(this._events.length){arr.forEach(this._events,function(item){item.shape.disconnect(item.handle);});this._events=[];}return this;},cleanGroup:function(_184){this.destroyHtmlElements();if(!_184){_184=this.chart.surface;}if(this.group){var _185;var _186=this.getGroup().children;if(_180.dispose){for(var i=0;i<_186.length;++i){_180.dispose(_186[i],true);}}if(this.getGroup().rawNode){_185=this.getGroup().bgNode;_17e.empty(this.getGroup().rawNode);}this.getGroup().clear();if(_185){this.getGroup().rawNode.appendChild(_185);}}else{this.group=_184.createGroup();if(this.renderingOptions&&this.group.rawNode&&this.group.rawNode.namespaceURI=="http://www.w3.org/2000/svg"){for(var key in this.renderingOptions){this.group.rawNode.setAttribute(key,this.renderingOptions[key]);}}}this.dirty=true;return this;},getGroup:function(){return this.group;},destroyHtmlElements:function(){if(this.htmlElements.length){arr.forEach(this.htmlElements,_17e.destroy);this.htmlElements=[];}},destroy:function(){this.purgeGroup();},getTextWidth:function(s,font){return gfx._base._getTextBox(s,{font:font}).w||0;},getTextWithLimitLength:function(s,font,_187,_188){if(!s||s.length<=0){return {text:"",truncated:_188||false};}if(!_187||_187<=0){return {text:s,truncated:_188||false};}var _189=2,_18a=0.618,_18b=s.substring(0,1)+this.trailingSymbol,_18c=this.getTextWidth(_18b,font);if(_187<=_18c){return {text:_18b,truncated:true};}var _18d=this.getTextWidth(s,font);if(_18d<=_187){return {text:s,truncated:_188||false};}else{var _18e=0,end=s.length;while(_18e<end){if(end-_18e<=_189){while(this.getTextWidth(s.substring(0,_18e)+this.trailingSymbol,font)>_187){_18e-=1;}return {text:(s.substring(0,_18e)+this.trailingSymbol),truncated:true};}var _18f=_18e+Math.round((end-_18e)*_18a),_190=this.getTextWidth(s.substring(0,_18f),font);if(_190<_187){_18e=_18f;end=end;}else{_18e=_18e;end=_18f;}}}},getTextWithLimitCharCount:function(s,font,_191,_192){if(!s||s.length<=0){return {text:"",truncated:_192||false};}if(!_191||_191<=0||s.length<=_191){return {text:s,truncated:_192||false};}return {text:s.substring(0,_191)+this.trailingSymbol,truncated:true};},_plotFill:function(fill,dim,_193){if(!fill||!fill.type||!fill.space){return fill;}var _194=fill.space,span;switch(fill.type){case "linear":if(_194==="plot"||_194==="shapeX"||_194==="shapeY"){fill=gfx.makeParameters(gfx.defaultLinearGradient,fill);fill.space=_194;if(_194==="plot"||_194==="shapeX"){span=dim.height-_193.t-_193.b;fill.y1=_193.t+span*fill.y1/100;fill.y2=_193.t+span*fill.y2/100;}if(_194==="plot"||_194==="shapeY"){span=dim.width-_193.l-_193.r;fill.x1=_193.l+span*fill.x1/100;fill.x2=_193.l+span*fill.x2/100;}}break;case "radial":if(_194==="plot"){fill=gfx.makeParameters(gfx.defaultRadialGradient,fill);fill.space=_194;var _195=dim.width-_193.l-_193.r,_196=dim.height-_193.t-_193.b;fill.cx=_193.l+_195*fill.cx/100;fill.cy=_193.t+_196*fill.cy/100;fill.r=fill.r*Math.sqrt(_195*_195+_196*_196)/200;}break;case "pattern":if(_194==="plot"||_194==="shapeX"||_194==="shapeY"){fill=gfx.makeParameters(gfx.defaultPattern,fill);fill.space=_194;if(_194==="plot"||_194==="shapeX"){span=dim.height-_193.t-_193.b;fill.y=_193.t+span*fill.y/100;fill.height=span*fill.height/100;}if(_194==="plot"||_194==="shapeY"){span=dim.width-_193.l-_193.r;fill.x=_193.l+span*fill.x/100;fill.width=span*fill.width/100;}}break;}return fill;},_shapeFill:function(fill,bbox){if(!fill||!fill.space){return fill;}var _197=fill.space,span;switch(fill.type){case "linear":if(_197==="shape"||_197==="shapeX"||_197==="shapeY"){fill=gfx.makeParameters(gfx.defaultLinearGradient,fill);fill.space=_197;if(_197==="shape"||_197==="shapeX"){span=bbox.width;fill.x1=bbox.x+span*fill.x1/100;fill.x2=bbox.x+span*fill.x2/100;}if(_197==="shape"||_197==="shapeY"){span=bbox.height;fill.y1=bbox.y+span*fill.y1/100;fill.y2=bbox.y+span*fill.y2/100;}}break;case "radial":if(_197==="shape"){fill=gfx.makeParameters(gfx.defaultRadialGradient,fill);fill.space=_197;fill.cx=bbox.x+bbox.width/2;fill.cy=bbox.y+bbox.height/2;fill.r=fill.r*bbox.width/200;}break;case "pattern":if(_197==="shape"||_197==="shapeX"||_197==="shapeY"){fill=gfx.makeParameters(gfx.defaultPattern,fill);fill.space=_197;if(_197==="shape"||_197==="shapeX"){span=bbox.width;fill.x=bbox.x+span*fill.x/100;fill.width=span*fill.width/100;}if(_197==="shape"||_197==="shapeY"){span=bbox.height;fill.y=bbox.y+span*fill.y/100;fill.height=span*fill.height/100;}}break;}return fill;},_pseudoRadialFill:function(fill,_198,_199,_19a,end){if(!fill||fill.type!=="radial"||fill.space!=="shape"){return fill;}var _19b=fill.space;fill=gfx.makeParameters(gfx.defaultRadialGradient,fill);fill.space=_19b;if(arguments.length<4){fill.cx=_198.x;fill.cy=_198.y;fill.r=fill.r*_199/100;return fill;}var _19c=arguments.length<5?_19a:(end+_19a)/2;return {type:"linear",x1:_198.x,y1:_198.y,x2:_198.x+fill.r*_199*Math.cos(_19c)/100,y2:_198.y+fill.r*_199*Math.sin(_19c)/100,colors:fill.colors};}});});},"dojox/gfx":function(){define(["dojo/_base/lang","./gfx/_base","./gfx/renderer!"],function(lang,_19d,_19e){_19d.switchTo(_19e);return _19d;});},"dojox/gfx/renderer":function(){define(["./_base","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/_base/config"],function(g,lang,has,win,_19f){var _1a0=null;has.add("vml",function(_1a1,_1a2,_1a3){_1a3.innerHTML="<v:shape adj=\"1\"/>";var _1a4=("adj" in _1a3.firstChild);_1a3.innerHTML="";return _1a4;});return {load:function(id,_1a5,load){if(_1a0&&id!="force"){load(_1a0);return;}var _1a6=_19f.forceGfxRenderer,_1a7=!_1a6&&(lang.isString(_19f.gfxRenderer)?_19f.gfxRenderer:"svg,vml,canvas,silverlight").split(","),_1a8,_1a9;while(!_1a6&&_1a7.length){switch(_1a7.shift()){case "svg":if("SVGAngle" in win.global){_1a6="svg";}break;case "vml":if(has("vml")){_1a6="vml";}break;case "silverlight":try{if(has("ie")){_1a8=new ActiveXObject("AgControl.AgControl");if(_1a8&&_1a8.IsVersionSupported("1.0")){_1a9=true;}}else{if(navigator.plugins["Silverlight Plug-In"]){_1a9=true;}}}catch(e){_1a9=false;}finally{_1a8=null;}if(_1a9){_1a6="silverlight";}break;case "canvas":if(win.global.CanvasRenderingContext2D){_1a6="canvas";}break;}}if(_1a6==="canvas"&&_19f.canvasEvents!==false){_1a6="canvasWithEvents";}if(_19f.isDebug){}function _1aa(){_1a5(["dojox/gfx/"+_1a6],function(_1ab){g.renderer=_1a6;_1a0=_1ab;load(_1ab);});};if(_1a6=="svg"&&typeof window.svgweb!="undefined"){window.svgweb.addOnLoad(_1aa);}else{_1aa();}}};});},"dojox/gfx/shape":function(){define(["./_base","dojo/_base/lang","dojo/_base/declare","dojo/_base/kernel","dojo/_base/sniff","dojo/on","dojo/_base/array","dojo/dom-construct","dojo/_base/Color","./matrix"],function(g,lang,_1ac,_1ad,has,on,arr,_1ae,_1af,_1b0){var _1b1=g.shape={};_1b1.Shape=_1ac("dojox.gfx.shape.Shape",null,{constructor:function(){this.rawNode=null;this.shape=null;this.matrix=null;this.fillStyle=null;this.strokeStyle=null;this.bbox=null;this.parent=null;this.parentMatrix=null;if(has("gfxRegistry")){var uid=_1b1.register(this);this.getUID=function(){return uid;};}},destroy:function(){if(has("gfxRegistry")){_1b1.dispose(this);}if(this.rawNode&&"__gfxObject__" in this.rawNode){this.rawNode.__gfxObject__=null;}this.rawNode=null;},getNode:function(){return this.rawNode;},getShape:function(){return this.shape;},getTransform:function(){return this.matrix;},getFill:function(){return this.fillStyle;},getStroke:function(){return this.strokeStyle;},getParent:function(){return this.parent;},getBoundingBox:function(){return this.bbox;},getTransformedBoundingBox:function(){var b=this.getBoundingBox();if(!b){return null;}var m=this._getRealMatrix(),gm=_1b0;return [gm.multiplyPoint(m,b.x,b.y),gm.multiplyPoint(m,b.x+b.width,b.y),gm.multiplyPoint(m,b.x+b.width,b.y+b.height),gm.multiplyPoint(m,b.x,b.y+b.height)];},getEventSource:function(){return this.rawNode;},setClip:function(clip){this.clip=clip;},getClip:function(){return this.clip;},setShape:function(_1b2){this.shape=g.makeParameters(this.shape,_1b2);this.bbox=null;return this;},setFill:function(fill){if(!fill){this.fillStyle=null;return this;}var f=null;if(typeof (fill)=="object"&&"type" in fill){switch(fill.type){case "linear":f=g.makeParameters(g.defaultLinearGradient,fill);break;case "radial":f=g.makeParameters(g.defaultRadialGradient,fill);break;case "pattern":f=g.makeParameters(g.defaultPattern,fill);break;}}else{f=g.normalizeColor(fill);}this.fillStyle=f;return this;},setStroke:function(_1b3){if(!_1b3){this.strokeStyle=null;return this;}if(typeof _1b3=="string"||lang.isArray(_1b3)||_1b3 instanceof _1af){_1b3={color:_1b3};}var s=this.strokeStyle=g.makeParameters(g.defaultStroke,_1b3);s.color=g.normalizeColor(s.color);return this;},setTransform:function(_1b4){this.matrix=_1b0.clone(_1b4?_1b0.normalize(_1b4):_1b0.identity);return this._applyTransform();},_applyTransform:function(){return this;},moveToFront:function(){var p=this.getParent();if(p){p._moveChildToFront(this);this._moveToFront();}return this;},moveToBack:function(){var p=this.getParent();if(p){p._moveChildToBack(this);this._moveToBack();}return this;},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(_1b5){return _1b5?this.setTransform([this.matrix,_1b5]):this;},applyLeftTransform:function(_1b6){return _1b6?this.setTransform([_1b6,this.matrix]):this;},applyTransform:function(_1b7){return _1b7?this.setTransform([this.matrix,_1b7]):this;},removeShape:function(_1b8){if(this.parent){this.parent.remove(this,_1b8);}return this;},_setParent:function(_1b9,_1ba){this.parent=_1b9;return this._updateParentMatrix(_1ba);},_updateParentMatrix:function(_1bb){this.parentMatrix=_1bb?_1b0.clone(_1bb):null;return this._applyTransform();},_getRealMatrix:function(){var m=this.matrix;var p=this.parent;while(p){if(p.matrix){m=_1b0.multiply(p.matrix,m);}p=p.parent;}return m;}});_1b1._eventsProcessing={on:function(type,_1bc){return on(this.getEventSource(),type,_1b1.fixCallback(this,g.fixTarget,_1bc));},connect:function(name,_1bd,_1be){if(name.substring(0,2)=="on"){name=name.substring(2);}return this.on(name,_1be?lang.hitch(_1bd,_1be):_1bd);},disconnect:function(_1bf){return _1bf.remove();}};_1b1.fixCallback=function(_1c0,_1c1,_1c2,_1c3){if(!_1c3){_1c3=_1c2;_1c2=null;}if(lang.isString(_1c3)){_1c2=_1c2||_1ad.global;if(!_1c2[_1c3]){throw (["dojox.gfx.shape.fixCallback: scope[\"",_1c3,"\"] is null (scope=\"",_1c2,"\")"].join(""));}return function(e){return _1c1(e,_1c0)?_1c2[_1c3].apply(_1c2,arguments||[]):undefined;};}return !_1c2?function(e){return _1c1(e,_1c0)?_1c3.apply(_1c2,arguments):undefined;}:function(e){return _1c1(e,_1c0)?_1c3.apply(_1c2,arguments||[]):undefined;};};lang.extend(_1b1.Shape,_1b1._eventsProcessing);_1b1.Container={_init:function(){this.children=[];this._batch=0;},openBatch:function(){return this;},closeBatch:function(){return this;},add:function(_1c4){var _1c5=_1c4.getParent();if(_1c5){_1c5.remove(_1c4,true);}this.children.push(_1c4);return _1c4._setParent(this,this._getRealMatrix());},remove:function(_1c6,_1c7){for(var i=0;i<this.children.length;++i){if(this.children[i]==_1c6){if(_1c7){}else{_1c6.parent=null;_1c6.parentMatrix=null;}this.children.splice(i,1);break;}}return this;},clear:function(_1c8){var _1c9;for(var i=0;i<this.children.length;++i){_1c9=this.children[i];_1c9.parent=null;_1c9.parentMatrix=null;if(_1c8){_1c9.destroy();}}this.children=[];return this;},getBoundingBox:function(){if(this.children){var _1ca=null;arr.forEach(this.children,function(_1cb){var bb=_1cb.getBoundingBox();if(bb){var ct=_1cb.getTransform();if(ct){bb=_1b0.multiplyRectangle(ct,bb);}if(_1ca){_1ca.x=Math.min(_1ca.x,bb.x);_1ca.y=Math.min(_1ca.y,bb.y);_1ca.endX=Math.max(_1ca.endX,bb.x+bb.width);_1ca.endY=Math.max(_1ca.endY,bb.y+bb.height);}else{_1ca={x:bb.x,y:bb.y,endX:bb.x+bb.width,endY:bb.y+bb.height};}}});if(_1ca){_1ca.width=_1ca.endX-_1ca.x;_1ca.height=_1ca.endY-_1ca.y;}return _1ca;}return null;},_moveChildToFront:function(_1cc){for(var i=0;i<this.children.length;++i){if(this.children[i]==_1cc){this.children.splice(i,1);this.children.push(_1cc);break;}}return this;},_moveChildToBack:function(_1cd){for(var i=0;i<this.children.length;++i){if(this.children[i]==_1cd){this.children.splice(i,1);this.children.unshift(_1cd);break;}}return this;}};_1b1.Surface=_1ac("dojox.gfx.shape.Surface",null,{constructor:function(){this.rawNode=null;this._parent=null;this._nodes=[];this._events=[];},destroy:function(){arr.forEach(this._nodes,_1ae.destroy);this._nodes=[];arr.forEach(this._events,function(h){if(h){h.remove();}});this._events=[];this.rawNode=null;if(has("ie")){while(this._parent.lastChild){_1ae.destroy(this._parent.lastChild);}}else{this._parent.innerHTML="";}this._parent=null;},getEventSource:function(){return this.rawNode;},_getRealMatrix:function(){return null;},isLoaded:true,onLoad:function(_1ce){},whenLoaded:function(_1cf,_1d0){var f=lang.hitch(_1cf,_1d0);if(this.isLoaded){f(this);}else{on.once(this,"load",function(_1d1){f(_1d1);});}}});lang.extend(_1b1.Surface,_1b1._eventsProcessing);_1b1.Rect=_1ac("dojox.gfx.shape.Rect",_1b1.Shape,{constructor:function(_1d2){this.shape=g.getDefault("Rect");this.rawNode=_1d2;},getBoundingBox:function(){return this.shape;}});_1b1.Ellipse=_1ac("dojox.gfx.shape.Ellipse",_1b1.Shape,{constructor:function(_1d3){this.shape=g.getDefault("Ellipse");this.rawNode=_1d3;},getBoundingBox:function(){if(!this.bbox){var _1d4=this.shape;this.bbox={x:_1d4.cx-_1d4.rx,y:_1d4.cy-_1d4.ry,width:2*_1d4.rx,height:2*_1d4.ry};}return this.bbox;}});_1b1.Circle=_1ac("dojox.gfx.shape.Circle",_1b1.Shape,{constructor:function(_1d5){this.shape=g.getDefault("Circle");this.rawNode=_1d5;},getBoundingBox:function(){if(!this.bbox){var _1d6=this.shape;this.bbox={x:_1d6.cx-_1d6.r,y:_1d6.cy-_1d6.r,width:2*_1d6.r,height:2*_1d6.r};}return this.bbox;}});_1b1.Line=_1ac("dojox.gfx.shape.Line",_1b1.Shape,{constructor:function(_1d7){this.shape=g.getDefault("Line");this.rawNode=_1d7;},getBoundingBox:function(){if(!this.bbox){var _1d8=this.shape;this.bbox={x:Math.min(_1d8.x1,_1d8.x2),y:Math.min(_1d8.y1,_1d8.y2),width:Math.abs(_1d8.x2-_1d8.x1),height:Math.abs(_1d8.y2-_1d8.y1)};}return this.bbox;}});_1b1.Polyline=_1ac("dojox.gfx.shape.Polyline",_1b1.Shape,{constructor:function(_1d9){this.shape=g.getDefault("Polyline");this.rawNode=_1d9;},setShape:function(_1da,_1db){if(_1da&&_1da instanceof Array){this.inherited(arguments,[{points:_1da}]);if(_1db&&this.shape.points.length){this.shape.points.push(this.shape.points[0]);}}else{this.inherited(arguments,[_1da]);}return this;},_normalizePoints:function(){var p=this.shape.points,l=p&&p.length;if(l&&typeof p[0]=="number"){var _1dc=[];for(var i=0;i<l;i+=2){_1dc.push({x:p[i],y:p[i+1]});}this.shape.points=_1dc;}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){var p=this.shape.points;var l=p.length;var t=p[0];var bbox={l:t.x,t:t.y,r:t.x,b:t.y};for(var i=1;i<l;++i){t=p[i];if(bbox.l>t.x){bbox.l=t.x;}if(bbox.r<t.x){bbox.r=t.x;}if(bbox.t>t.y){bbox.t=t.y;}if(bbox.b<t.y){bbox.b=t.y;}}this.bbox={x:bbox.l,y:bbox.t,width:bbox.r-bbox.l,height:bbox.b-bbox.t};}return this.bbox;}});_1b1.Image=_1ac("dojox.gfx.shape.Image",_1b1.Shape,{constructor:function(_1dd){this.shape=g.getDefault("Image");this.rawNode=_1dd;},getBoundingBox:function(){return this.shape;},setStroke:function(){return this;},setFill:function(){return this;}});_1b1.Text=_1ac(_1b1.Shape,{constructor:function(_1de){this.fontStyle=null;this.shape=g.getDefault("Text");this.rawNode=_1de;},getFont:function(){return this.fontStyle;},setFont:function(_1df){this.fontStyle=typeof _1df=="string"?g.splitFontString(_1df):g.makeParameters(g.defaultFont,_1df);this._setFont();return this;},getBoundingBox:function(){var bbox=null,s=this.getShape();if(s.text){bbox=g._base._computeTextBoundingBox(this);}return bbox;}});_1b1.Creator={createShape:function(_1e0){switch(_1e0.type){case g.defaultPath.type:return this.createPath(_1e0);case g.defaultRect.type:return this.createRect(_1e0);case g.defaultCircle.type:return this.createCircle(_1e0);case g.defaultEllipse.type:return this.createEllipse(_1e0);case g.defaultLine.type:return this.createLine(_1e0);case g.defaultPolyline.type:return this.createPolyline(_1e0);case g.defaultImage.type:return this.createImage(_1e0);case g.defaultText.type:return this.createText(_1e0);case g.defaultTextPath.type:return this.createTextPath(_1e0);}return null;},createGroup:function(){return this.createObject(g.Group);},createRect:function(rect){return this.createObject(g.Rect,rect);},createEllipse:function(_1e1){return this.createObject(g.Ellipse,_1e1);},createCircle:function(_1e2){return this.createObject(g.Circle,_1e2);},createLine:function(line){return this.createObject(g.Line,line);},createPolyline:function(_1e3){return this.createObject(g.Polyline,_1e3);},createImage:function(_1e4){return this.createObject(g.Image,_1e4);},createText:function(text){return this.createObject(g.Text,text);},createPath:function(path){return this.createObject(g.Path,path);},createTextPath:function(text){return this.createObject(g.TextPath,{}).setText(text);},createObject:function(_1e5,_1e6){return null;}};return _1b1;});},"dojox/charting/Series":function(){define(["dojo/_base/lang","dojo/_base/declare","./Element"],function(lang,_1e7,_1e8){return _1e7("dojox.charting.Series",_1e8,{constructor:function(_1e9,data,_1ea){lang.mixin(this,_1ea);if(typeof this.plot!="string"){this.plot="default";}this.update(data);},clear:function(){this.dyn={};},update:function(data){if(lang.isArray(data)){this.data=data;}else{this.source=data;this.data=this.source.data;if(this.source.setSeriesObject){this.source.setSeriesObject(this);}}this.dirty=true;this.clear();}});});},"dojox/charting/axis2d/common":function(){define(["dojo/_base/lang","dojo/_base/window","dojo/dom-geometry","dojox/gfx","dojo/has"],function(lang,win,_1eb,g,has){var _1ec=lang.getObject("dojox.charting.axis2d.common",true);var _1ed=function(s){s.marginLeft="0px";s.marginTop="0px";s.marginRight="0px";s.marginBottom="0px";s.paddingLeft="0px";s.paddingTop="0px";s.paddingRight="0px";s.paddingBottom="0px";s.borderLeftWidth="0px";s.borderTopWidth="0px";s.borderRightWidth="0px";s.borderBottomWidth="0px";};var _1ee=function(n){if(n["getBoundingClientRect"]){var bcr=n.getBoundingClientRect();return bcr.width||(bcr.right-bcr.left);}else{return _1eb.getMarginBox(n).w;}};return lang.mixin(_1ec,{createText:{gfx:function(_1ef,_1f0,x,y,_1f1,text,font,_1f2){return _1f0.createText({x:x,y:y,text:text,align:_1f1}).setFont(font).setFill(_1f2);},html:function(_1f3,_1f4,x,y,_1f5,text,font,_1f6,_1f7){var p=win.doc.createElement("div"),s=p.style,_1f8;if(_1f3.getTextDir){p.dir=_1f3.getTextDir(text);}_1ed(s);s.font=font;p.innerHTML=String(text).replace(/\s/g,"&nbsp;");s.color=_1f6;s.position="absolute";s.left="-10000px";win.body().appendChild(p);var size=g.normalizedLength(g.splitFontString(font).size);if(!_1f7){_1f8=_1ee(p);}if(p.dir=="rtl"){x+=_1f7?_1f7:_1f8;}win.body().removeChild(p);s.position="relative";if(_1f7){s.width=_1f7+"px";switch(_1f5){case "middle":s.textAlign="center";s.left=(x-_1f7/2)+"px";break;case "end":s.textAlign="right";s.left=(x-_1f7)+"px";break;default:s.left=x+"px";s.textAlign="left";break;}}else{switch(_1f5){case "middle":s.left=Math.floor(x-_1f8/2)+"px";break;case "end":s.left=Math.floor(x-_1f8)+"px";break;default:s.left=Math.floor(x)+"px";break;}}s.top=Math.floor(y-size)+"px";s.whiteSpace="nowrap";var wrap=win.doc.createElement("div"),w=wrap.style;_1ed(w);w.width="0px";w.height="0px";wrap.appendChild(p);_1f3.node.insertBefore(wrap,_1f3.node.firstChild);if(has("dojo-bidi")){_1f3.htmlElementsRegistry.push([wrap,x,y,_1f5,text,font,_1f6]);}return wrap;}}});});},"dojox/lang/functional":function(){define(["./functional/lambda","./functional/array","./functional/object"],function(df){return df;});},"dojox/lang/functional/lambda":function(){define(["../..","dojo/_base/lang","dojo/_base/array"],function(_1f9,lang,arr){var df=lang.getObject("lang.functional",true,_1f9);var _1fa={};var _1fb="ab".split(/a*/).length>1?String.prototype.split:function(sep){var r=this.split.call(this,sep),m=sep.exec(this);if(m&&m.index==0){r.unshift("");}return r;};var _1fc=function(s){var args=[],_1fd=_1fb.call(s,/\s*->\s*/m);if(_1fd.length>1){while(_1fd.length){s=_1fd.pop();args=_1fd.pop().split(/\s*,\s*|\s+/m);if(_1fd.length){_1fd.push("(function("+args.join(", ")+"){ return ("+s+"); })");}}}else{if(s.match(/\b_\b/)){args=["_"];}else{var l=s.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m),r=s.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(l||r){if(l){args.push("$1");s="$1"+s;}if(r){args.push("$2");s=s+"$2";}}else{var vars=s.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,"").match(/([a-z_$][a-z_$\d]*)/gi)||[],t={};arr.forEach(vars,function(v){if(!t.hasOwnProperty(v)){args.push(v);t[v]=1;}});}}}return {args:args,body:s};};var _1fe=function(a){return a.length?function(){var i=a.length-1,x=df.lambda(a[i]).apply(this,arguments);for(--i;i>=0;--i){x=df.lambda(a[i]).call(this,x);}return x;}:function(x){return x;};};lang.mixin(df,{rawLambda:function(s){return _1fc(s);},buildLambda:function(s){var l=_1fc(s);return "function("+l.args.join(",")+"){return ("+l.body+");}";},lambda:function(s){if(typeof s=="function"){return s;}if(s instanceof Array){return _1fe(s);}if(_1fa.hasOwnProperty(s)){return _1fa[s];}var l=_1fc(s);return _1fa[s]=new Function(l.args,"return ("+l.body+");");},clearLambdaCache:function(){_1fa={};}});return df;});},"dojox/lang/functional/array":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","./lambda"],function(_1ff,lang,arr,df){var _200={};lang.mixin(df,{filter:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_1ff.global;f=df.lambda(f);var t=[],v,i,n;if(lang.isArray(a)){for(i=0,n=a.length;i<n;++i){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();){v=a.next();if(f.call(o,v,i++,a)){t.push(v);}}}else{for(i in a){if(!(i in _200)){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}}}}return t;},forEach:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_1ff.global;f=df.lambda(f);var i,n;if(lang.isArray(a)){for(i=0,n=a.length;i<n;f.call(o,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();f.call(o,a.next(),i++,a)){}}else{for(i in a){if(!(i in _200)){f.call(o,a[i],i,a);}}}}return o;},map:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_1ff.global;f=df.lambda(f);var t,n,i;if(lang.isArray(a)){t=new Array(n=a.length);for(i=0;i<n;t[i]=f.call(o,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){t=[];for(i=0;a.hasNext();t.push(f.call(o,a.next(),i++,a))){}}else{t=[];for(i in a){if(!(i in _200)){t.push(f.call(o,a[i],i,a));}}}}return t;},every:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_1ff.global;f=df.lambda(f);var i,n;if(lang.isArray(a)){for(i=0,n=a.length;i<n;++i){if(!f.call(o,a[i],i,a)){return false;}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();){if(!f.call(o,a.next(),i++,a)){return false;}}}else{for(i in a){if(!(i in _200)){if(!f.call(o,a[i],i,a)){return false;}}}}}return true;},some:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_1ff.global;f=df.lambda(f);var i,n;if(lang.isArray(a)){for(i=0,n=a.length;i<n;++i){if(f.call(o,a[i],i,a)){return true;}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();){if(f.call(o,a.next(),i++,a)){return true;}}}else{for(i in a){if(!(i in _200)){if(f.call(o,a[i],i,a)){return true;}}}}}return false;}});return df;});},"dojox/lang/functional/object":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(_201,lang,df){var _202={};lang.mixin(df,{keys:function(obj){var t=[];for(var i in obj){if(!(i in _202)){t.push(i);}}return t;},values:function(obj){var t=[];for(var i in obj){if(!(i in _202)){t.push(obj[i]);}}return t;},filterIn:function(obj,f,o){o=o||_201.global;f=df.lambda(f);var t={},v,i;for(i in obj){if(!(i in _202)){v=obj[i];if(f.call(o,v,i,obj)){t[i]=v;}}}return t;},forIn:function(obj,f,o){o=o||_201.global;f=df.lambda(f);for(var i in obj){if(!(i in _202)){f.call(o,obj[i],i,obj);}}return o;},mapIn:function(obj,f,o){o=o||_201.global;f=df.lambda(f);var t={},i;for(i in obj){if(!(i in _202)){t[i]=f.call(o,obj[i],i,obj);}}return t;}});return df;});},"dojox/lang/functional/fold":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/kernel","./lambda"],function(lang,arr,_203,df){var _204={};lang.mixin(df,{foldl:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||_203.global;f=df.lambda(f);var i,n;if(lang.isArray(a)){for(i=0,n=a.length;i<n;z=f.call(o,z,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();z=f.call(o,z,a.next(),i++,a)){}}else{for(i in a){if(!(i in _204)){z=f.call(o,z,a[i],i,a);}}}}return z;},foldl1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_203.global;f=df.lambda(f);var z,i,n;if(lang.isArray(a)){z=a[0];for(i=1,n=a.length;i<n;z=f.call(o,z,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){if(a.hasNext()){z=a.next();for(i=1;a.hasNext();z=f.call(o,z,a.next(),i++,a)){}}}else{var _205=true;for(i in a){if(!(i in _204)){if(_205){z=a[i];_205=false;}else{z=f.call(o,z,a[i],i,a);}}}}}return z;},foldr:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||_203.global;f=df.lambda(f);for(var i=a.length;i>0;--i,z=f.call(o,z,a[i],i,a)){}return z;},foldr1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_203.global;f=df.lambda(f);var n=a.length,z=a[n-1],i=n-1;for(;i>0;--i,z=f.call(o,z,a[i],i,a)){}return z;},reduce:function(a,f,z){return arguments.length<3?df.foldl1(a,f):df.foldl(a,f,z);},reduceRight:function(a,f,z){return arguments.length<3?df.foldr1(a,f):df.foldr(a,f,z);},unfold:function(pr,f,g,z,o){o=o||_203.global;f=df.lambda(f);g=df.lambda(g);pr=df.lambda(pr);var t=[];for(;!pr.call(o,z);t.push(f.call(o,z)),z=g.call(o,z)){}return t;}});});},"dojox/lang/functional/reversed":function(){define(["dojo/_base/lang","dojo/_base/kernel","./lambda"],function(lang,_206,df){lang.mixin(df,{filterRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_206.global;f=df.lambda(f);var t=[],v,i=a.length-1;for(;i>=0;--i){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}return t;},forEachRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_206.global;f=df.lambda(f);for(var i=a.length-1;i>=0;f.call(o,a[i],i,a),--i){}},mapRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_206.global;f=df.lambda(f);var n=a.length,t=new Array(n),i=n-1,j=0;for(;i>=0;t[j++]=f.call(o,a[i],i,a),--i){}return t;},everyRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_206.global;f=df.lambda(f);for(var i=a.length-1;i>=0;--i){if(!f.call(o,a[i],i,a)){return false;}}return true;},someRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_206.global;f=df.lambda(f);for(var i=a.length-1;i>=0;--i){if(f.call(o,a[i],i,a)){return true;}}return false;}});return df;});},"dojox/charting/Chart2D":function(){define(["dojo/_base/kernel","dojo/_base/lang","..","./Chart","./axis2d/Default","./axis2d/Invisible","./plot2d/Default","./plot2d/Lines","./plot2d/Areas","./plot2d/Markers","./plot2d/MarkersOnly","./plot2d/Scatter","./plot2d/Stacked","./plot2d/StackedLines","./plot2d/StackedAreas","./plot2d/Columns","./plot2d/StackedColumns","./plot2d/ClusteredColumns","./plot2d/Bars","./plot2d/StackedBars","./plot2d/ClusteredBars","./plot2d/Grid","./plot2d/Pie","./plot2d/Bubble","./plot2d/Candlesticks","./plot2d/OHLC","./plot2d/Spider"],function(_207,lang,_208,_209){_207.deprecated("dojox.charting.Chart2D","Use dojox.charting.Chart instead and require all other components explicitly","2.0");return lang.setObject("dojox.charting.Chart2D",_209);});},"dojox/charting/axis2d/Default":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/sniff","dojo/_base/declare","dojo/_base/connect","dojo/dom-geometry","./Invisible","../scaler/linear","./common","dojox/gfx","dojox/lang/utils","dojox/lang/functional","dojo/has!dojo-bidi?../bidi/axis2d/Default"],function(lang,arr,has,_20a,_20b,_20c,_20d,lin,_20e,g,du,df,_20f){var _210=45;var _211=_20a(has("dojo-bidi")?"dojox.charting.axis2d.NonBidiDefault":"dojox.charting.axis2d.Default",_20d,{defaultParams:{vertical:false,fixUpper:"none",fixLower:"none",natural:false,leftBottom:true,includeZero:false,fixed:true,majorLabels:true,minorTicks:true,minorLabels:true,microTicks:false,rotation:0,htmlLabels:true,enableCache:false,dropLabels:true,labelSizeChange:false,position:"leftOrBottom"},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1,labels:[],labelFunc:null,maxLabelSize:0,maxLabelCharCount:0,trailingSymbol:null,stroke:{},majorTick:{},minorTick:{},microTick:{},tick:{},font:"",fontColor:"",title:"",titleGap:0,titleFont:"",titleFontColor:"",titleOrientation:""},constructor:function(_212,_213){this.opt=lang.clone(this.defaultParams);du.updateWithObject(this.opt,_213);du.updateWithPattern(this.opt,_213,this.optionalParams);if(this.opt.enableCache){this._textFreePool=[];this._lineFreePool=[];this._textUsePool=[];this._lineUsePool=[];}this._invalidMaxLabelSize=true;if(!(_213&&("position" in _213))){this.opt.position=this.opt.leftBottom?"leftOrBottom":"rightOrTop";}this.renderingOptions={"shape-rendering":"crispEdges"};},setWindow:function(_214,_215){if(_214!=this.scale){this._invalidMaxLabelSize=true;}return this.inherited(arguments);},_groupLabelWidth:function(_216,font,_217){if(!_216.length){return 0;}if(_216.length>50){_216.length=50;}if(lang.isObject(_216[0])){_216=df.map(_216,function(_218){return _218.text;});}if(_217){_216=df.map(_216,function(_219){return lang.trim(_219).length==0?"":_219.substring(0,_217)+this.trailingSymbol;},this);}var s=_216.join("<br>");return g._base._getTextBox(s,{font:font}).w||0;},_getMaxLabelSize:function(min,max,span,_21a,font,size){if(this._maxLabelSize==null&&arguments.length==6){var o=this.opt;this.scaler.minMinorStep=this._prevMinMinorStep=0;var ob=lang.clone(o);delete ob.to;delete ob.from;var sb=lin.buildScaler(min,max,span,ob,o.to-o.from);sb.minMinorStep=0;this._majorStart=sb.major.start;var tb=lin.buildTicks(sb,o);if(size&&tb){var _21b=0,_21c=0;var _21d=function(tick){if(tick.label){this.push(tick.label);}};var _21e=[];if(this.opt.majorLabels){arr.forEach(tb.major,_21d,_21e);_21b=this._groupLabelWidth(_21e,font,ob.maxLabelCharCount);if(ob.maxLabelSize){_21b=Math.min(ob.maxLabelSize,_21b);}}_21e=[];if(this.opt.dropLabels&&this.opt.minorLabels){arr.forEach(tb.minor,_21d,_21e);_21c=this._groupLabelWidth(_21e,font,ob.maxLabelCharCount);if(ob.maxLabelSize){_21c=Math.min(ob.maxLabelSize,_21c);}}this._maxLabelSize={majLabelW:_21b,minLabelW:_21c,majLabelH:size,minLabelH:size};}else{this._maxLabelSize=null;}}return this._maxLabelSize;},calculate:function(min,max,span){this.inherited(arguments);this.scaler.minMinorStep=this._prevMinMinorStep;if((this._invalidMaxLabelSize||span!=this._oldSpan)&&(min!=Infinity&&max!=-Infinity)){this._invalidMaxLabelSize=false;if(this.opt.labelSizeChange){this._maxLabelSize=null;}this._oldSpan=span;var o=this.opt;var ta=this.chart.theme.axis,_21f=o.rotation%360,_220=this.chart.theme.axis.tick.labelGap,font=o.font||(ta.majorTick&&ta.majorTick.font)||(ta.tick&&ta.tick.font),size=font?g.normalizedLength(g.splitFontString(font).size):0,_221=this._getMaxLabelSize(min,max,span,_21f,font,size);if(typeof _220!="number"){_220=4;}if(_221&&o.dropLabels){var cosr=Math.abs(Math.cos(_21f*Math.PI/180)),sinr=Math.abs(Math.sin(_21f*Math.PI/180));var _222,_223;if(_21f<0){_21f+=360;}switch(_21f){case 0:case 180:if(this.vertical){_222=_223=size;}else{_222=_221.majLabelW;_223=_221.minLabelW;}break;case 90:case 270:if(this.vertical){_222=_221.majLabelW;_223=_221.minLabelW;}else{_222=_223=size;}break;default:_222=this.vertical?Math.min(_221.majLabelW,size/cosr):Math.min(_221.majLabelW,size/sinr);var gap1=Math.sqrt(_221.minLabelW*_221.minLabelW+size*size),gap2=this.vertical?size*cosr+_221.minLabelW*sinr:_221.minLabelW*cosr+size*sinr;_223=Math.min(gap1,gap2);break;}this.scaler.minMinorStep=this._prevMinMinorStep=Math.max(_222,_223)+_220;var _224=this.scaler.minMinorStep<=this.scaler.minor.tick*this.scaler.bounds.scale;if(!_224){this._skipInterval=Math.floor((_222+_220)/(this.scaler.major.tick*this.scaler.bounds.scale));}else{this._skipInterval=0;}}else{this._skipInterval=0;}}this.ticks=lin.buildTicks(this.scaler,this.opt);return this;},getOffsets:function(){var s=this.scaler,_225={l:0,r:0,t:0,b:0};if(!s){return _225;}var o=this.opt,ta=this.chart.theme.axis,_226=this.chart.theme.axis.tick.labelGap,_227=o.titleFont||(ta.title&&ta.title.font),_228=(o.titleGap==0)?0:o.titleGap||(ta.title&&ta.title.gap),_229=this.chart.theme.getTick("major",o),_22a=this.chart.theme.getTick("minor",o),_22b=_227?g.normalizedLength(g.splitFontString(_227).size):0,_22c=o.rotation%360,_22d=o.position,_22e=_22d!=="rightOrTop",cosr=Math.abs(Math.cos(_22c*Math.PI/180)),sinr=Math.abs(Math.sin(_22c*Math.PI/180));this.trailingSymbol=(o.trailingSymbol===undefined||o.trailingSymbol===null)?this.trailingSymbol:o.trailingSymbol;if(typeof _226!="number"){_226=4;}if(_22c<0){_22c+=360;}var _22f=this._getMaxLabelSize();if(_22f){var side;var _230=Math.ceil(Math.max(_22f.majLabelW,_22f.minLabelW))+1,size=Math.ceil(Math.max(_22f.majLabelH,_22f.minLabelH))+1;if(this.vertical){side=_22e?"l":"r";switch(_22c){case 0:case 180:_225[side]=_22d==="center"?0:_230;_225.t=_225.b=size/2;break;case 90:case 270:_225[side]=size;_225.t=_225.b=_230/2;break;default:if(_22c<=_210||(180<_22c&&_22c<=(180+_210))){_225[side]=size*sinr/2+_230*cosr;_225[_22e?"t":"b"]=size*cosr/2+_230*sinr;_225[_22e?"b":"t"]=size*cosr/2;}else{if(_22c>(360-_210)||(180>_22c&&_22c>(180-_210))){_225[side]=size*sinr/2+_230*cosr;_225[_22e?"b":"t"]=size*cosr/2+_230*sinr;_225[_22e?"t":"b"]=size*cosr/2;}else{if(_22c<90||(180<_22c&&_22c<270)){_225[side]=size*sinr+_230*cosr;_225[_22e?"t":"b"]=size*cosr+_230*sinr;}else{_225[side]=size*sinr+_230*cosr;_225[_22e?"b":"t"]=size*cosr+_230*sinr;}}}break;}if(_22d==="center"){_225[side]=0;}else{_225[side]+=_226+Math.max(_229.length>0?_229.length:0,_22a.length>0?_22a.length:0)+(o.title?(_22b+_228):0);}}else{side=_22e?"b":"t";switch(_22c){case 0:case 180:_225[side]=_22d==="center"?0:size;_225.l=_225.r=_230/2;break;case 90:case 270:_225[side]=_230;_225.l=_225.r=size/2;break;default:if((90-_210)<=_22c&&_22c<=90||(270-_210)<=_22c&&_22c<=270){_225[side]=size*cosr/2+_230*sinr;_225[_22e?"r":"l"]=size*sinr/2+_230*cosr;_225[_22e?"l":"r"]=size*sinr/2;}else{if(90<=_22c&&_22c<=(90+_210)||270<=_22c&&_22c<=(270+_210)){_225[side]=size*cosr/2+_230*sinr;_225[_22e?"l":"r"]=size*sinr/2+_230*cosr;_225[_22e?"r":"l"]=size*sinr/2;}else{if(_22c<_210||(180<_22c&&_22c<(180+_210))){_225[side]=size*cosr+_230*sinr;_225[_22e?"r":"l"]=size*sinr+_230*cosr;}else{_225[side]=size*cosr+_230*sinr;_225[_22e?"l":"r"]=size*sinr+_230*cosr;}}}break;}if(_22d==="center"){_225[side]=0;}else{_225[side]+=_226+Math.max(_229.length>0?_229.length:0,_22a.length>0?_22a.length:0)+(o.title?(_22b+_228):0);}}}return _225;},cleanGroup:function(_231){if(this.opt.enableCache&&this.group){this._lineFreePool=this._lineFreePool.concat(this._lineUsePool);this._lineUsePool=[];this._textFreePool=this._textFreePool.concat(this._textUsePool);this._textUsePool=[];}this.inherited(arguments);},createText:function(_232,_233,x,y,_234,_235,font,_236,_237){if(!this.opt.enableCache||_232=="html"){return _20e.createText[_232](this.chart,_233,x,y,_234,_235,font,_236,_237);}var text;if(this._textFreePool.length>0){text=this._textFreePool.pop();text.setShape({x:x,y:y,text:_235,align:_234});_233.add(text);}else{text=_20e.createText[_232](this.chart,_233,x,y,_234,_235,font,_236);}this._textUsePool.push(text);return text;},createLine:function(_238,_239){var line;if(this.opt.enableCache&&this._lineFreePool.length>0){line=this._lineFreePool.pop();line.setShape(_239);_238.add(line);}else{line=_238.createLine(_239);}if(this.opt.enableCache){this._lineUsePool.push(line);}return line;},render:function(dim,_23a){var _23b=this._isRtl();if(!this.dirty||!this.scaler){return this;}var o=this.opt,ta=this.chart.theme.axis,_23c=o.position,_23d=_23c!=="rightOrTop",_23e=o.rotation%360,_23f,stop,_240,_241=0,_242,_243,_244,_245,_246,_247,_248=this.chart.theme.axis.tick.labelGap,_249=o.font||(ta.majorTick&&ta.majorTick.font)||(ta.tick&&ta.tick.font),_24a=o.titleFont||(ta.title&&ta.title.font),_24b=o.fontColor||(ta.majorTick&&ta.majorTick.fontColor)||(ta.tick&&ta.tick.fontColor)||"black",_24c=o.titleFontColor||(ta.title&&ta.title.fontColor)||"black",_24d=(o.titleGap==0)?0:o.titleGap||(ta.title&&ta.title.gap)||15,_24e=o.titleOrientation||(ta.title&&ta.title.orientation)||"axis",_24f=this.chart.theme.getTick("major",o),_250=this.chart.theme.getTick("minor",o),_251=this.chart.theme.getTick("micro",o),_252="stroke" in o?o.stroke:ta.stroke,size=_249?g.normalizedLength(g.splitFontString(_249).size):0,cosr=Math.abs(Math.cos(_23e*Math.PI/180)),sinr=Math.abs(Math.sin(_23e*Math.PI/180)),_253=_24a?g.normalizedLength(g.splitFontString(_24a).size):0;if(typeof _248!="number"){_248=4;}if(_23e<0){_23e+=360;}var _254=this._getMaxLabelSize();_254=_254&&_254.majLabelW;if(this.vertical){_23f={y:dim.height-_23a.b};stop={y:_23a.t};_240={y:(dim.height-_23a.b+_23a.t)/2};_242=size*sinr+(_254||0)*cosr+_248+Math.max(_24f.length>0?_24f.length:0,_250.length>0?_250.length:0)+_253+_24d;_243={x:0,y:-1};_246={x:0,y:0};_244={x:1,y:0};_245={x:_248,y:0};switch(_23e){case 0:_247="end";_246.y=size*0.4;break;case 90:_247="middle";_246.x=-size;break;case 180:_247="start";_246.y=-size*0.4;break;case 270:_247="middle";break;default:if(_23e<_210){_247="end";_246.y=size*0.4;}else{if(_23e<90){_247="end";_246.y=size*0.4;}else{if(_23e<(180-_210)){_247="start";}else{if(_23e<(180+_210)){_247="start";_246.y=-size*0.4;}else{if(_23e<270){_247="start";_246.x=_23d?0:size*0.4;}else{if(_23e<(360-_210)){_247="end";_246.x=_23d?0:size*0.4;}else{_247="end";_246.y=size*0.4;}}}}}}}if(_23d){_23f.x=stop.x=_23c==="center"?dim.width/2:_23a.l;_241=(_24e&&_24e=="away")?90:270;_240.x=_23a.l-_242+(_241==270?_253:0);_244.x=-1;_245.x=-_245.x;}else{_23f.x=stop.x=dim.width-_23a.r;_241=(_24e&&_24e=="axis")?90:270;_240.x=dim.width-_23a.r+_242-(_241==270?0:_253);switch(_247){case "start":_247="end";break;case "end":_247="start";break;case "middle":_246.x+=size;break;}}}else{_23f={x:_23a.l};stop={x:dim.width-_23a.r};_240={x:(dim.width-_23a.r+_23a.l)/2};_242=size*cosr+(_254||0)*sinr+_248+Math.max(_24f.length>0?_24f.length:0,_250.length>0?_250.length:0)+_253+_24d;_243={x:_23b?-1:1,y:0};_246={x:0,y:0};_244={x:0,y:1};_245={x:0,y:_248};switch(_23e){case 0:_247="middle";_246.y=size;break;case 90:_247="start";_246.x=-size*0.4;break;case 180:_247="middle";break;case 270:_247="end";_246.x=size*0.4;break;default:if(_23e<(90-_210)){_247="start";_246.y=_23d?size:0;}else{if(_23e<(90+_210)){_247="start";_246.x=-size*0.4;}else{if(_23e<180){_247="start";_246.y=_23d?0:-size;}else{if(_23e<(270-_210)){_247="end";_246.y=_23d?0:-size;}else{if(_23e<(270+_210)){_247="end";_246.y=_23d?size*0.4:0;}else{_247="end";_246.y=_23d?size:0;}}}}}}if(_23d){_23f.y=stop.y=_23c==="center"?dim.height/2:dim.height-_23a.b;_241=(_24e&&_24e=="axis")?180:0;_240.y=dim.height-_23a.b+_242-(_241?_253:0);}else{_23f.y=stop.y=_23a.t;_241=(_24e&&_24e=="away")?180:0;_240.y=_23a.t-_242+(_241?0:_253);_244.y=-1;_245.y=-_245.y;switch(_247){case "start":_247="end";break;case "end":_247="start";break;case "middle":_246.y-=size;break;}}}this.cleanGroup();var s=this.group,c=this.scaler,t=this.ticks,f=lin.getTransformerFromModel(this.scaler),_255=(!o.title||!_241)&&!_23e&&this.opt.htmlLabels&&!has("ie")&&!has("opera")?"html":"gfx",dx=_244.x*_24f.length,dy=_244.y*_24f.length,skip=this._skipInterval;s.createLine({x1:_23f.x,y1:_23f.y,x2:stop.x,y2:stop.y}).setStroke(_252);if(o.title){var _256=_20e.createText[_255](this.chart,s,_240.x,_240.y,"middle",o.title,_24a,_24c);if(_255=="html"){this.htmlElements.push(_256);}else{_256.setTransform(g.matrix.rotategAt(_241,_240.x,_240.y));}}if(t==null){this.dirty=false;return this;}var rel=(t.major.length>0)?(t.major[0].value-this._majorStart)/c.major.tick:0;var _257=this.opt.majorLabels;arr.forEach(t.major,function(tick,i){var _258=f(tick.value),elem,x=(_23b?stop.x:_23f.x)+_243.x*_258,y=_23f.y+_243.y*_258;i+=rel;this.createLine(s,{x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_24f);if(tick.label&&(!skip||(i-(1+skip))%(1+skip)==0)){var _259=o.maxLabelCharCount?this.getTextWithLimitCharCount(tick.label,_249,o.maxLabelCharCount):{text:tick.label,truncated:false};_259=o.maxLabelSize?this.getTextWithLimitLength(_259.text,_249,o.maxLabelSize,_259.truncated):_259;elem=this.createText(_255,s,x+(_24f.length>0?dx:0)+_245.x+(_23e?0:_246.x),y+(_24f.length>0?dy:0)+_245.y+(_23e?0:_246.y),_247,_259.text,_249,_24b);if(_259.truncated){this.chart.formatTruncatedLabel(elem,tick.label,_255);}_259.truncated&&this.labelTooltip(elem,this.chart,tick.label,_259.text,_249,_255);if(_255=="html"){this.htmlElements.push(elem);}else{if(_23e){elem.setTransform([{dx:_246.x,dy:_246.y},g.matrix.rotategAt(_23e,x+(_24f.length>0?dx:0)+_245.x,y+(_24f.length>0?dy:0)+_245.y)]);}}}},this);dx=_244.x*_250.length;dy=_244.y*_250.length;_257=this.opt.minorLabels&&c.minMinorStep<=c.minor.tick*c.bounds.scale;arr.forEach(t.minor,function(tick){var _25a=f(tick.value),elem,x=(_23b?stop.x:_23f.x)+_243.x*_25a,y=_23f.y+_243.y*_25a;this.createLine(s,{x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_250);if(_257&&tick.label){var _25b=o.maxLabelCharCount?this.getTextWithLimitCharCount(tick.label,_249,o.maxLabelCharCount):{text:tick.label,truncated:false};_25b=o.maxLabelSize?this.getTextWithLimitLength(_25b.text,_249,o.maxLabelSize,_25b.truncated):_25b;elem=this.createText(_255,s,x+(_250.length>0?dx:0)+_245.x+(_23e?0:_246.x),y+(_250.length>0?dy:0)+_245.y+(_23e?0:_246.y),_247,_25b.text,_249,_24b);if(_25b.truncated){this.chart.formatTruncatedLabel(elem,tick.label,_255);}_25b.truncated&&this.labelTooltip(elem,this.chart,tick.label,_25b.text,_249,_255);if(_255=="html"){this.htmlElements.push(elem);}else{if(_23e){elem.setTransform([{dx:_246.x,dy:_246.y},g.matrix.rotategAt(_23e,x+(_250.length>0?dx:0)+_245.x,y+(_250.length>0?dy:0)+_245.y)]);}}}},this);dx=_244.x*_251.length;dy=_244.y*_251.length;arr.forEach(t.micro,function(tick){var _25c=f(tick.value),x=_23f.x+_243.x*_25c,y=_23f.y+_243.y*_25c;this.createLine(s,{x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_251);},this);this.dirty=false;return this;},labelTooltip:function(elem,_25d,_25e,_25f,font,_260){var _261=["dijit/Tooltip"];var _262={type:"rect"},_263=["above","below"],_264=g._base._getTextBox(_25f,{font:font}).w||0,_265=font?g.normalizedLength(g.splitFontString(font).size):0;if(_260=="html"){lang.mixin(_262,_20c.position(elem.firstChild,true));_262.width=Math.ceil(_264);_262.height=Math.ceil(_265);this._events.push({shape:dojo,handle:_20b.connect(elem.firstChild,"onmouseover",this,function(e){require(_261,function(_266){_266.show(_25e,_262,_263);});})});this._events.push({shape:dojo,handle:_20b.connect(elem.firstChild,"onmouseout",this,function(e){require(_261,function(_267){_267.hide(_262);});})});}else{var shp=elem.getShape(),lt=_25d.getCoords();_262=lang.mixin(_262,{x:shp.x-_264/2,y:shp.y});_262.x+=lt.x;_262.y+=lt.y;_262.x=Math.round(_262.x);_262.y=Math.round(_262.y);_262.width=Math.ceil(_264);_262.height=Math.ceil(_265);this._events.push({shape:elem,handle:elem.connect("onmouseenter",this,function(e){require(_261,function(_268){_268.show(_25e,_262,_263);});})});this._events.push({shape:elem,handle:elem.connect("onmouseleave",this,function(e){require(_261,function(_269){_269.hide(_262);});})});}},_isRtl:function(){return false;}});return has("dojo-bidi")?_20a("dojox.charting.axis2d.Default",[_211,_20f]):_211;});},"dojox/charting/axis2d/Invisible":function(){define(["dojo/_base/lang","dojo/_base/declare","./Base","../scaler/linear","dojox/lang/utils"],function(lang,_26a,Base,lin,du){return _26a("dojox.charting.axis2d.Invisible",Base,{defaultParams:{vertical:false,fixUpper:"none",fixLower:"none",natural:false,leftBottom:true,includeZero:false,fixed:true},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1},constructor:function(_26b,_26c){this.opt=lang.clone(this.defaultParams);du.updateWithObject(this.opt,_26c);du.updateWithPattern(this.opt,_26c,this.optionalParams);},dependOnData:function(){return !("min" in this.opt)||!("max" in this.opt);},clear:function(){delete this.scaler;delete this.ticks;this.dirty=true;return this;},initialized:function(){return "scaler" in this&&!(this.dirty&&this.dependOnData());},setWindow:function(_26d,_26e){this.scale=_26d;this.offset=_26e;return this.clear();},getWindowScale:function(){return "scale" in this?this.scale:1;},getWindowOffset:function(){return "offset" in this?this.offset:0;},calculate:function(min,max,span){if(this.initialized()){return this;}var o=this.opt;this.labels=o.labels;this.scaler=lin.buildScaler(min,max,span,o);var tsb=this.scaler.bounds;if("scale" in this){o.from=tsb.lower+this.offset;o.to=(tsb.upper-tsb.lower)/this.scale+o.from;if(!isFinite(o.from)||isNaN(o.from)||!isFinite(o.to)||isNaN(o.to)||o.to-o.from>=tsb.upper-tsb.lower){delete o.from;delete o.to;delete this.scale;delete this.offset;}else{if(o.from<tsb.lower){o.to+=tsb.lower-o.from;o.from=tsb.lower;}else{if(o.to>tsb.upper){o.from+=tsb.upper-o.to;o.to=tsb.upper;}}this.offset=o.from-tsb.lower;}this.scaler=lin.buildScaler(min,max,span,o);tsb=this.scaler.bounds;if(this.scale==1&&this.offset==0){delete this.scale;delete this.offset;}}return this;},getScaler:function(){return this.scaler;},getTicks:function(){return this.ticks;}});});},"dojox/charting/axis2d/Base":function(){define(["dojo/_base/declare","../Element"],function(_26f,_270){return _26f("dojox.charting.axis2d.Base",_270,{constructor:function(_271,_272){this.vertical=_272&&_272.vertical;this.opt={};this.opt.min=_272&&_272.min;this.opt.max=_272&&_272.max;},clear:function(){return this;},initialized:function(){return false;},calculate:function(min,max,span){return this;},getScaler:function(){return null;},getTicks:function(){return null;},getOffsets:function(){return {l:0,r:0,t:0,b:0};},render:function(dim,_273){this.dirty=false;return this;}});});},"dojox/charting/scaler/linear":function(){define(["dojo/_base/lang","./common"],function(lang,_274){var _275=lang.getObject("dojox.charting.scaler.linear",true);var _276=3,_277=_274.getNumericLabel;function _278(val,text){val=val.toLowerCase();for(var i=text.length-1;i>=0;--i){if(val===text[i]){return true;}}return false;};var _279=function(min,max,_27a,_27b,_27c,_27d,span){_27a=lang.delegate(_27a);if(!_27b){if(_27a.fixUpper=="major"){_27a.fixUpper="minor";}if(_27a.fixLower=="major"){_27a.fixLower="minor";}}if(!_27c){if(_27a.fixUpper=="minor"){_27a.fixUpper="micro";}if(_27a.fixLower=="minor"){_27a.fixLower="micro";}}if(!_27d){if(_27a.fixUpper=="micro"){_27a.fixUpper="none";}if(_27a.fixLower=="micro"){_27a.fixLower="none";}}var _27e=_278(_27a.fixLower,["major"])?Math.floor(_27a.min/_27b)*_27b:_278(_27a.fixLower,["minor"])?Math.floor(_27a.min/_27c)*_27c:_278(_27a.fixLower,["micro"])?Math.floor(_27a.min/_27d)*_27d:_27a.min,_27f=_278(_27a.fixUpper,["major"])?Math.ceil(_27a.max/_27b)*_27b:_278(_27a.fixUpper,["minor"])?Math.ceil(_27a.max/_27c)*_27c:_278(_27a.fixUpper,["micro"])?Math.ceil(_27a.max/_27d)*_27d:_27a.max;if(_27a.useMin){min=_27e;}if(_27a.useMax){max=_27f;}var _280=(!_27b||_27a.useMin&&_278(_27a.fixLower,["major"]))?min:Math.ceil(min/_27b)*_27b,_281=(!_27c||_27a.useMin&&_278(_27a.fixLower,["major","minor"]))?min:Math.ceil(min/_27c)*_27c,_282=(!_27d||_27a.useMin&&_278(_27a.fixLower,["major","minor","micro"]))?min:Math.ceil(min/_27d)*_27d,_283=!_27b?0:(_27a.useMax&&_278(_27a.fixUpper,["major"])?Math.round((max-_280)/_27b):Math.floor((max-_280)/_27b))+1,_284=!_27c?0:(_27a.useMax&&_278(_27a.fixUpper,["major","minor"])?Math.round((max-_281)/_27c):Math.floor((max-_281)/_27c))+1,_285=!_27d?0:(_27a.useMax&&_278(_27a.fixUpper,["major","minor","micro"])?Math.round((max-_282)/_27d):Math.floor((max-_282)/_27d))+1,_286=_27c?Math.round(_27b/_27c):0,_287=_27d?Math.round(_27c/_27d):0,_288=_27b?Math.floor(Math.log(_27b)/Math.LN10):0,_289=_27c?Math.floor(Math.log(_27c)/Math.LN10):0,_28a=span/(max-min);if(!isFinite(_28a)){_28a=1;}return {bounds:{lower:_27e,upper:_27f,from:min,to:max,scale:_28a,span:span},major:{tick:_27b,start:_280,count:_283,prec:_288},minor:{tick:_27c,start:_281,count:_284,prec:_289},micro:{tick:_27d,start:_282,count:_285,prec:0},minorPerMajor:_286,microPerMinor:_287,scaler:_275};};return lang.mixin(_275,{buildScaler:function(min,max,span,_28b,_28c,_28d){var h={fixUpper:"none",fixLower:"none",natural:false};if(_28b){if("fixUpper" in _28b){h.fixUpper=String(_28b.fixUpper);}if("fixLower" in _28b){h.fixLower=String(_28b.fixLower);}if("natural" in _28b){h.natural=Boolean(_28b.natural);}}_28d=!_28d||_28d<_276?_276:_28d;if("min" in _28b){min=_28b.min;}if("max" in _28b){max=_28b.max;}if(_28b.includeZero){if(min>0){min=0;}if(max<0){max=0;}}h.min=min;h.useMin=true;h.max=max;h.useMax=true;if("from" in _28b){min=_28b.from;h.useMin=false;}if("to" in _28b){max=_28b.to;h.useMax=false;}if(max<=min){return _279(min,max,h,0,0,0,span);}if(!_28c){_28c=max-min;}var mag=Math.floor(Math.log(_28c)/Math.LN10),_28e=_28b&&("majorTickStep" in _28b)?_28b.majorTickStep:Math.pow(10,mag),_28f=0,_290=0,_291;if(_28b&&("minorTickStep" in _28b)){_28f=_28b.minorTickStep;}else{do{_28f=_28e/10;if(!h.natural||_28f>0.9){_291=_279(min,max,h,_28e,_28f,0,span);if(_291.bounds.scale*_291.minor.tick>_28d){break;}}_28f=_28e/5;if(!h.natural||_28f>0.9){_291=_279(min,max,h,_28e,_28f,0,span);if(_291.bounds.scale*_291.minor.tick>_28d){break;}}_28f=_28e/2;if(!h.natural||_28f>0.9){_291=_279(min,max,h,_28e,_28f,0,span);if(_291.bounds.scale*_291.minor.tick>_28d){break;}}return _279(min,max,h,_28e,0,0,span);}while(false);}if(_28b&&("microTickStep" in _28b)){_290=_28b.microTickStep;_291=_279(min,max,h,_28e,_28f,_290,span);}else{do{_290=_28f/10;if(!h.natural||_290>0.9){_291=_279(min,max,h,_28e,_28f,_290,span);if(_291.bounds.scale*_291.micro.tick>_276){break;}}_290=_28f/5;if(!h.natural||_290>0.9){_291=_279(min,max,h,_28e,_28f,_290,span);if(_291.bounds.scale*_291.micro.tick>_276){break;}}_290=_28f/2;if(!h.natural||_290>0.9){_291=_279(min,max,h,_28e,_28f,_290,span);if(_291.bounds.scale*_291.micro.tick>_276){break;}}_290=0;}while(false);}return _290?_291:_279(min,max,h,_28e,_28f,0,span);},buildTicks:function(_292,_293){var step,next,tick,_294=_292.major.start,_295=_292.minor.start,_296=_292.micro.start;if(_293.microTicks&&_292.micro.tick){step=_292.micro.tick,next=_296;}else{if(_293.minorTicks&&_292.minor.tick){step=_292.minor.tick,next=_295;}else{if(_292.major.tick){step=_292.major.tick,next=_294;}else{return null;}}}var _297=1/_292.bounds.scale;if(_292.bounds.to<=_292.bounds.from||isNaN(_297)||!isFinite(_297)||step<=0||isNaN(step)||!isFinite(step)){return null;}var _298=[],_299=[],_29a=[];while(next<=_292.bounds.to+_297){if(Math.abs(_294-next)<step/2){tick={value:_294};if(_293.majorLabels){tick.label=_277(_294,_292.major.prec,_293);}_298.push(tick);_294+=_292.major.tick;_295+=_292.minor.tick;_296+=_292.micro.tick;}else{if(Math.abs(_295-next)<step/2){if(_293.minorTicks){tick={value:_295};if(_293.minorLabels&&(_292.minMinorStep<=_292.minor.tick*_292.bounds.scale)){tick.label=_277(_295,_292.minor.prec,_293);}_299.push(tick);}_295+=_292.minor.tick;_296+=_292.micro.tick;}else{if(_293.microTicks){_29a.push({value:_296});}_296+=_292.micro.tick;}}next+=step;}return {major:_298,minor:_299,micro:_29a};},getTransformerFromModel:function(_29b){var _29c=_29b.bounds.from,_29d=_29b.bounds.scale;return function(x){return (x-_29c)*_29d;};},getTransformerFromPlot:function(_29e){var _29f=_29e.bounds.from,_2a0=_29e.bounds.scale;return function(x){return x/_2a0+_29f;};}});});},"dojox/charting/scaler/common":function(){define(["dojo/_base/lang"],function(lang){var eq=function(a,b){return Math.abs(a-b)<=0.000001*(Math.abs(a)+Math.abs(b));};var _2a1=lang.getObject("dojox.charting.scaler.common",true);var _2a2={};return lang.mixin(_2a1,{doIfLoaded:function(_2a3,_2a4,_2a5){if(_2a2[_2a3]==undefined){try{_2a2[_2a3]=require(_2a3);}catch(e){_2a2[_2a3]=null;}}if(_2a2[_2a3]){return _2a4(_2a2[_2a3]);}else{return _2a5();}},getNumericLabel:function(_2a6,_2a7,_2a8){var def="";_2a1.doIfLoaded("dojo/number",function(_2a9){def=(_2a8.fixed?_2a9.format(_2a6,{places:_2a7<0?-_2a7:0}):_2a9.format(_2a6))||"";},function(){def=_2a8.fixed?_2a6.toFixed(_2a7<0?-_2a7:0):_2a6.toString();});if(_2a8.labelFunc){var r=_2a8.labelFunc(def,_2a6,_2a7);if(r){return r;}}if(_2a8.labels){var l=_2a8.labels,lo=0,hi=l.length;while(lo<hi){var mid=Math.floor((lo+hi)/2),val=l[mid].value;if(val<_2a6){lo=mid+1;}else{hi=mid;}}if(lo<l.length&&eq(l[lo].value,_2a6)){return l[lo].text;}--lo;if(lo>=0&&lo<l.length&&eq(l[lo].value,_2a6)){return l[lo].text;}lo+=2;if(lo<l.length&&eq(l[lo].value,_2a6)){return l[lo].text;}}return def;}});});},"dojox/charting/plot2d/Default":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/has","./CartesianBase","./_PlotEvents","./common","dojox/lang/functional","dojox/lang/functional/reversed","dojox/lang/utils","dojox/gfx/fx"],function(lang,_2aa,arr,has,_2ab,_2ac,dc,df,dfr,du,fx){var _2ad=dfr.lambda("item.purgeGroup()");var _2ae=1200;return _2aa("dojox.charting.plot2d.Default",[_2ab,_2ac],{defaultParams:{lines:true,areas:false,markers:false,tension:"",animate:false,enableCache:false,interpolate:false},optionalParams:{stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:"",marker:"",markerStroke:{},markerOutline:{},markerShadow:{},markerFill:{},markerFont:"",markerFontColor:""},constructor:function(_2af,_2b0){this.opt=lang.clone(lang.mixin(this.opt,this.defaultParams));du.updateWithObject(this.opt,_2b0);du.updateWithPattern(this.opt,_2b0,this.optionalParams);this.animate=this.opt.animate;},createPath:function(run,_2b1,_2b2){var path;if(this.opt.enableCache&&run._pathFreePool.length>0){path=run._pathFreePool.pop();path.setShape(_2b2);_2b1.add(path);}else{path=_2b1.createPath(_2b2);}if(this.opt.enableCache){run._pathUsePool.push(path);}return path;},buildSegments:function(i,_2b3){var run=this.series[i],min=_2b3?Math.max(0,Math.floor(this._hScaler.bounds.from-1)):0,max=_2b3?Math.min(run.data.length,Math.ceil(this._hScaler.bounds.to)):run.data.length,rseg=null,_2b4=[];for(var j=min;j<max;j++){if(run.data[j]!=null&&(_2b3||run.data[j].y!=null)){if(!rseg){rseg=[];_2b4.push({index:j,rseg:rseg});}rseg.push((_2b3&&run.data[j].hasOwnProperty("y"))?run.data[j].y:run.data[j]);}else{if(!this.opt.interpolate||_2b3){rseg=null;}}}return _2b4;},render:function(dim,_2b5){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_2b5);}this.resetEvents();this.dirty=this.isDirty();var s;if(this.dirty){arr.forEach(this.series,_2ad);this._eventSeries={};this.cleanGroup();this.getGroup().setTransform(null);s=this.getGroup();df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_2b6,_2b7,_2b8=this.events();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();if(this.opt.enableCache){run._pathFreePool=(run._pathFreePool?run._pathFreePool:[]).concat(run._pathUsePool?run._pathUsePool:[]);run._pathUsePool=[];}if(!run.data.length){run.dirty=false;t.skip();continue;}var _2b9=t.next(this.opt.areas?"area":"line",[this.opt,run],true),_2ba,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_2bb=this._eventSeries[run.name]=new Array(run.data.length);s=run.group;if(run.hidden){if(this.opt.lines){run.dyn.stroke=_2b9.series.stroke;}if(this.opt.markers){run.dyn.markerFill=_2b9.marker.fill;run.dyn.markerStroke=_2b9.marker.stroke;run.dyn.marker=_2b9.symbol;}if(this.opt.areas){run.dyn.fill=_2b9.series.fill;}continue;}var _2bc=arr.some(run.data,function(item){return typeof item=="number"||(item&&!item.hasOwnProperty("x"));});var _2bd=this.buildSegments(i,_2bc);for(var seg=0;seg<_2bd.length;seg++){var _2be=_2bd[seg];if(_2bc){_2ba=arr.map(_2be.rseg,function(v,i){return {x:ht(i+_2be.index+1)+_2b5.l,y:dim.height-_2b5.b-vt(v),data:v};},this);}else{_2ba=arr.map(_2be.rseg,function(v){return {x:ht(v.x)+_2b5.l,y:dim.height-_2b5.b-vt(v.y),data:v};},this);}if(_2bc&&this.opt.interpolate){while(seg<_2bd.length){seg++;_2be=_2bd[seg];if(_2be){_2ba=_2ba.concat(arr.map(_2be.rseg,function(v,i){return {x:ht(i+_2be.index+1)+_2b5.l,y:dim.height-_2b5.b-vt(v),data:v};},this));}}}var _2bf=this.opt.tension?dc.curve(_2ba,this.opt.tension):"";if(this.opt.areas&&_2ba.length>1){var fill=this._plotFill(_2b9.series.fill,dim,_2b5),_2c0=lang.clone(_2ba);if(this.opt.tension){var _2c1="L"+_2c0[_2c0.length-1].x+","+(dim.height-_2b5.b)+" L"+_2c0[0].x+","+(dim.height-_2b5.b)+" L"+_2c0[0].x+","+_2c0[0].y;run.dyn.fill=s.createPath(_2bf+" "+_2c1).setFill(fill).getFill();}else{_2c0.push({x:_2ba[_2ba.length-1].x,y:dim.height-_2b5.b});_2c0.push({x:_2ba[0].x,y:dim.height-_2b5.b});_2c0.push(_2ba[0]);run.dyn.fill=s.createPolyline(_2c0).setFill(fill).getFill();}}if(this.opt.lines||this.opt.markers){_2b6=_2b9.series.stroke;if(_2b9.series.outline){_2b7=run.dyn.outline=dc.makeStroke(_2b9.series.outline);_2b7.width=2*_2b7.width+_2b6.width;}}if(this.opt.markers){run.dyn.marker=_2b9.symbol;}var _2c2=null,_2c3=null,_2c4=null;if(_2b6&&_2b9.series.shadow&&_2ba.length>1){var _2c5=_2b9.series.shadow,_2c6=arr.map(_2ba,function(c){return {x:c.x+_2c5.dx,y:c.y+_2c5.dy};});if(this.opt.lines){if(this.opt.tension){run.dyn.shadow=s.createPath(dc.curve(_2c6,this.opt.tension)).setStroke(_2c5).getStroke();}else{run.dyn.shadow=s.createPolyline(_2c6).setStroke(_2c5).getStroke();}}if(this.opt.markers&&_2b9.marker.shadow){_2c5=_2b9.marker.shadow;_2c4=arr.map(_2c6,function(c){return this.createPath(run,s,"M"+c.x+" "+c.y+" "+_2b9.symbol).setStroke(_2c5).setFill(_2c5.color);},this);}}if(this.opt.lines&&_2ba.length>1){var _2c7;if(_2b7){if(this.opt.tension){run.dyn.outline=s.createPath(_2bf).setStroke(_2b7).getStroke();}else{run.dyn.outline=s.createPolyline(_2ba).setStroke(_2b7).getStroke();}}if(this.opt.tension){run.dyn.stroke=(_2c7=s.createPath(_2bf)).setStroke(_2b6).getStroke();}else{run.dyn.stroke=(_2c7=s.createPolyline(_2ba)).setStroke(_2b6).getStroke();}if(_2c7.setFilter&&_2b9.series.filter){_2c7.setFilter(_2b9.series.filter);}}var _2c8=null;if(this.opt.markers){var _2c9=_2b9;_2c2=new Array(_2ba.length);_2c3=new Array(_2ba.length);_2b7=null;if(_2c9.marker.outline){_2b7=dc.makeStroke(_2c9.marker.outline);_2b7.width=2*_2b7.width+(_2c9.marker.stroke?_2c9.marker.stroke.width:0);}arr.forEach(_2ba,function(c,i){if(this.opt.styleFunc||typeof c.data!="number"){var _2ca=typeof c.data!="number"?[c.data]:[];if(this.opt.styleFunc){_2ca.push(this.opt.styleFunc(c.data));}_2c9=t.addMixin(_2b9,"marker",_2ca,true);}else{_2c9=t.post(_2b9,"marker");}var path="M"+c.x+" "+c.y+" "+_2c9.symbol;if(_2b7){_2c3[i]=this.createPath(run,s,path).setStroke(_2b7);}_2c2[i]=this.createPath(run,s,path).setStroke(_2c9.marker.stroke).setFill(_2c9.marker.fill);},this);run.dyn.markerFill=_2c9.marker.fill;run.dyn.markerStroke=_2c9.marker.stroke;if(!_2c8&&this.opt.labels){_2c8=_2c2[0].getBoundingBox();}if(_2b8){arr.forEach(_2c2,function(s,i){var o={element:"marker",index:i+_2be.index,run:run,shape:s,outline:_2c3[i]||null,shadow:_2c4&&_2c4[i]||null,cx:_2ba[i].x,cy:_2ba[i].y};if(_2bc){o.x=i+_2be.index+1;o.y=run.data[i+_2be.index];}else{o.x=_2be.rseg[i].x;o.y=run.data[i+_2be.index].y;}this._connectEvents(o);_2bb[i+_2be.index]=o;},this);}else{delete this._eventSeries[run.name];}}if(this.opt.labels){var _2cb=_2c8?_2c8.width:2;var _2cc=_2c8?_2c8.height:2;arr.forEach(_2ba,function(c,i){if(this.opt.styleFunc||typeof c.data!="number"){var _2cd=typeof c.data!="number"?[c.data]:[];if(this.opt.styleFunc){_2cd.push(this.opt.styleFunc(c.data));}_2c9=t.addMixin(_2b9,"marker",_2cd,true);}else{_2c9=t.post(_2b9,"marker");}this.createLabel(s,_2be.rseg[i],{x:c.x-_2cb/2,y:c.y-_2cc/2,width:_2cb,height:_2cc},_2c9);},this);}}run.dirty=false;}if(has("dojo-bidi")){this._checkOrientation(this.group,dim,_2b5);}if(this.animate){var _2ce=this.getGroup();fx.animateTransform(lang.delegate({shape:_2ce,duration:_2ae,transform:[{name:"translate",start:[0,dim.height-_2b5.b],end:[0,0]},{name:"scale",start:[1,0],end:[1,1]},{name:"original"}]},this.animate)).play();}this.dirty=false;return this;}});});},"dojox/charting/plot2d/CartesianBase":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/connect","dojo/has","./Base","../scaler/primitive","dojox/gfx","dojox/gfx/fx","dojox/lang/utils"],function(lang,_2cf,hub,has,Base,_2d0,gfx,fx,du){return _2cf("dojox.charting.plot2d.CartesianBase",Base,{baseParams:{hAxis:"x",vAxis:"y",labels:false,labelOffset:10,fixed:true,precision:1,labelStyle:"inside",htmlLabels:true,omitLabels:true,labelFunc:null},constructor:function(_2d1,_2d2){this.axes=["hAxis","vAxis"];this.zoom=null;this.zoomQueue=[];this.lastWindow={vscale:1,hscale:1,xoffset:0,yoffset:0};this.hAxis=(_2d2&&_2d2.hAxis)||"x";this.vAxis=(_2d2&&_2d2.vAxis)||"y";this.series=[];this.opt=lang.clone(this.baseParams);du.updateWithObject(this.opt,_2d2);},clear:function(){this.inherited(arguments);this._hAxis=null;this._vAxis=null;return this;},cleanGroup:function(_2d3,_2d4){this.inherited(arguments);if(!_2d4&&this.chart._nativeClip){var _2d5=this.chart.offsets,dim=this.chart.dim;var w=Math.max(0,dim.width-_2d5.l-_2d5.r),h=Math.max(0,dim.height-_2d5.t-_2d5.b);this.group.setClip({x:_2d5.l,y:_2d5.t,width:w,height:h});if(!this._clippedGroup){this._clippedGroup=this.group.createGroup();}}},purgeGroup:function(){this.inherited(arguments);this._clippedGroup=null;},getGroup:function(){return this._clippedGroup||this.group;},setAxis:function(axis){if(axis){this[axis.vertical?"_vAxis":"_hAxis"]=axis;}return this;},toPage:function(_2d6){var ah=this._hAxis,av=this._vAxis,sh=ah.getScaler(),sv=av.getScaler(),th=sh.scaler.getTransformerFromModel(sh),tv=sv.scaler.getTransformerFromModel(sv),c=this.chart.getCoords(),o=this.chart.offsets,dim=this.chart.dim;var t=function(_2d7){var r={};r.x=th(_2d7[ah.name])+c.x+o.l;r.y=c.y+dim.height-o.b-tv(_2d7[av.name]);return r;};return _2d6?t(_2d6):t;},toData:function(_2d8){var ah=this._hAxis,av=this._vAxis,sh=ah.getScaler(),sv=av.getScaler(),th=sh.scaler.getTransformerFromPlot(sh),tv=sv.scaler.getTransformerFromPlot(sv),c=this.chart.getCoords(),o=this.chart.offsets,dim=this.chart.dim;var t=function(_2d9){var r={};r[ah.name]=th(_2d9.x-c.x-o.l);r[av.name]=tv(c.y+dim.height-_2d9.y-o.b);return r;};return _2d8?t(_2d8):t;},isDirty:function(){return this.dirty||this._hAxis&&this._hAxis.dirty||this._vAxis&&this._vAxis.dirty;},createLabel:function(_2da,_2db,bbox,_2dc){if(this.opt.labels){var x,y,_2dd=this.opt.labelFunc?this.opt.labelFunc.apply(this,[_2db,this.opt.fixed,this.opt.precision]):this._getLabel(isNaN(_2db.y)?_2db:_2db.y);if(this.opt.labelStyle=="inside"){var lbox=gfx._base._getTextBox(_2dd,{font:_2dc.series.font});x=bbox.x+bbox.width/2;y=bbox.y+bbox.height/2+lbox.h/4;if(lbox.w>bbox.width||lbox.h>bbox.height){return;}}else{x=bbox.x+bbox.width/2;y=bbox.y-this.opt.labelOffset;}this.renderLabel(_2da,x,y,_2dd,_2dc,this.opt.labelStyle=="inside");}},performZoom:function(dim,_2de){var vs=this._vAxis.scale||1,hs=this._hAxis.scale||1,_2df=dim.height-_2de.b,_2e0=this._hScaler.bounds,_2e1=(_2e0.from-_2e0.lower)*_2e0.scale,_2e2=this._vScaler.bounds,_2e3=(_2e2.from-_2e2.lower)*_2e2.scale,_2e4=vs/this.lastWindow.vscale,_2e5=hs/this.lastWindow.hscale,_2e6=(this.lastWindow.xoffset-_2e1)/((this.lastWindow.hscale==1)?hs:this.lastWindow.hscale),_2e7=(_2e3-this.lastWindow.yoffset)/((this.lastWindow.vscale==1)?vs:this.lastWindow.vscale),_2e8=this.getGroup(),anim=fx.animateTransform(lang.delegate({shape:_2e8,duration:1200,transform:[{name:"translate",start:[0,0],end:[_2de.l*(1-_2e5),_2df*(1-_2e4)]},{name:"scale",start:[1,1],end:[_2e5,_2e4]},{name:"original"},{name:"translate",start:[0,0],end:[_2e6,_2e7]}]},this.zoom));lang.mixin(this.lastWindow,{vscale:vs,hscale:hs,xoffset:_2e1,yoffset:_2e3});this.zoomQueue.push(anim);hub.connect(anim,"onEnd",this,function(){this.zoom=null;this.zoomQueue.shift();if(this.zoomQueue.length>0){this.zoomQueue[0].play();}});if(this.zoomQueue.length==1){this.zoomQueue[0].play();}return this;},initializeScalers:function(dim,_2e9){if(this._hAxis){if(!this._hAxis.initialized()){this._hAxis.calculate(_2e9.hmin,_2e9.hmax,dim.width);}this._hScaler=this._hAxis.getScaler();}else{this._hScaler=_2d0.buildScaler(_2e9.hmin,_2e9.hmax,dim.width);}if(this._vAxis){if(!this._vAxis.initialized()){this._vAxis.calculate(_2e9.vmin,_2e9.vmax,dim.height);}this._vScaler=this._vAxis.getScaler();}else{this._vScaler=_2d0.buildScaler(_2e9.vmin,_2e9.vmax,dim.height);}return this;}});});},"dojox/charting/plot2d/Base":function(){define(["dojo/_base/declare","dojo/_base/array","dojox/gfx","../Element","./common","../axis2d/common","dojo/has"],function(_2ea,arr,gfx,_2eb,_2ec,ac,has){var Base=_2ea("dojox.charting.plot2d.Base",_2eb,{constructor:function(_2ed,_2ee){if(_2ee&&_2ee.tooltipFunc){this.tooltipFunc=_2ee.tooltipFunc;}},clear:function(){this.series=[];this.dirty=true;return this;},setAxis:function(axis){return this;},assignAxes:function(axes){arr.forEach(this.axes,function(axis){if(this[axis]){this.setAxis(axes[this[axis]]);}},this);},addSeries:function(run){this.series.push(run);return this;},getSeriesStats:function(){return _2ec.collectSimpleStats(this.series);},calculateAxes:function(dim){this.initializeScalers(dim,this.getSeriesStats());return this;},initializeScalers:function(){return this;},isDataDirty:function(){return arr.some(this.series,function(item){return item.dirty;});},render:function(dim,_2ef){return this;},renderLabel:function(_2f0,x,y,_2f1,_2f2,_2f3,_2f4){var elem=ac.createText[this.opt.htmlLabels&&gfx.renderer!="vml"?"html":"gfx"](this.chart,_2f0,x,y,_2f4?_2f4:"middle",_2f1,_2f2.series.font,_2f2.series.fontColor);if(_2f3){if(this.opt.htmlLabels&&gfx.renderer!="vml"){elem.style.pointerEvents="none";}else{if(elem.rawNode){elem.rawNode.style.pointerEvents="none";}}}if(this.opt.htmlLabels&&gfx.renderer!="vml"){this.htmlElements.push(elem);}return elem;},getRequiredColors:function(){return this.series.length;},_getLabel:function(_2f5){return _2ec.getLabel(_2f5,this.opt.fixed,this.opt.precision);}});if(has("dojo-bidi")){Base.extend({_checkOrientation:function(_2f6,dim,_2f7){this.chart.applyMirroring(this.group,dim,_2f7);}});}return Base;});},"dojox/charting/plot2d/common":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/Color","dojox/gfx","dojox/lang/functional","../scaler/common"],function(lang,arr,_2f8,g,df,sc){var _2f9=lang.getObject("dojox.charting.plot2d.common",true);return lang.mixin(_2f9,{doIfLoaded:sc.doIfLoaded,makeStroke:function(_2fa){if(!_2fa){return _2fa;}if(typeof _2fa=="string"||_2fa instanceof _2f8){_2fa={color:_2fa};}return g.makeParameters(g.defaultStroke,_2fa);},augmentColor:function(_2fb,_2fc){var t=new _2f8(_2fb),c=new _2f8(_2fc);c.a=t.a;return c;},augmentStroke:function(_2fd,_2fe){var s=_2f9.makeStroke(_2fd);if(s){s.color=_2f9.augmentColor(s.color,_2fe);}return s;},augmentFill:function(fill,_2ff){var fc,c=new _2f8(_2ff);if(typeof fill=="string"||fill instanceof _2f8){return _2f9.augmentColor(fill,_2ff);}return fill;},defaultStats:{vmin:Number.POSITIVE_INFINITY,vmax:Number.NEGATIVE_INFINITY,hmin:Number.POSITIVE_INFINITY,hmax:Number.NEGATIVE_INFINITY},collectSimpleStats:function(_300){var _301=lang.delegate(_2f9.defaultStats);for(var i=0;i<_300.length;++i){var run=_300[i];for(var j=0;j<run.data.length;j++){if(run.data[j]!==null){if(typeof run.data[j]=="number"){var _302=_301.vmin,_303=_301.vmax;arr.forEach(run.data,function(val,i){if(val!==null){var x=i+1,y=val;if(isNaN(y)){y=0;}_301.hmin=Math.min(_301.hmin,x);_301.hmax=Math.max(_301.hmax,x);_301.vmin=Math.min(_301.vmin,y);_301.vmax=Math.max(_301.vmax,y);}});if("ymin" in run){_301.vmin=Math.min(_302,run.ymin);}if("ymax" in run){_301.vmax=Math.max(_303,run.ymax);}}else{var _304=_301.hmin,_305=_301.hmax,_302=_301.vmin,_303=_301.vmax;if(!("xmin" in run)||!("xmax" in run)||!("ymin" in run)||!("ymax" in run)){arr.forEach(run.data,function(val,i){if(val!==null){var x="x" in val?val.x:i+1,y=val.y;if(isNaN(x)){x=0;}if(isNaN(y)){y=0;}_301.hmin=Math.min(_301.hmin,x);_301.hmax=Math.max(_301.hmax,x);_301.vmin=Math.min(_301.vmin,y);_301.vmax=Math.max(_301.vmax,y);}});}if("xmin" in run){_301.hmin=Math.min(_304,run.xmin);}if("xmax" in run){_301.hmax=Math.max(_305,run.xmax);}if("ymin" in run){_301.vmin=Math.min(_302,run.ymin);}if("ymax" in run){_301.vmax=Math.max(_303,run.ymax);}}break;}}}return _301;},calculateBarSize:function(_306,opt,_307){if(!_307){_307=1;}var gap=opt.gap,size=(_306-2*gap)/_307;if("minBarSize" in opt){size=Math.max(size,opt.minBarSize);}if("maxBarSize" in opt){size=Math.min(size,opt.maxBarSize);}size=Math.max(size,1);gap=(_306-size*_307)/2;return {size:size,gap:gap};},collectStackedStats:function(_308){var _309=lang.clone(_2f9.defaultStats);if(_308.length){_309.hmin=Math.min(_309.hmin,1);_309.hmax=df.foldl(_308,"seed, run -> Math.max(seed, run.data.length)",_309.hmax);for(var i=0;i<_309.hmax;++i){var v=_308[0].data[i];v=v&&(typeof v=="number"?v:v.y);if(isNaN(v)){v=0;}_309.vmin=Math.min(_309.vmin,v);for(var j=1;j<_308.length;++j){var t=_308[j].data[i];t=t&&(typeof t=="number"?t:t.y);if(isNaN(t)){t=0;}v+=t;}_309.vmax=Math.max(_309.vmax,v);}}return _309;},curve:function(a,_30a){var _30b=a.slice(0);if(_30a=="x"){_30b[_30b.length]=_30b[0];}var p=arr.map(_30b,function(item,i){if(i==0){return "M"+item.x+","+item.y;}if(!isNaN(_30a)){var dx=item.x-_30b[i-1].x,dy=_30b[i-1].y;return "C"+(item.x-(_30a-1)*(dx/_30a))+","+dy+" "+(item.x-(dx/_30a))+","+item.y+" "+item.x+","+item.y;}else{if(_30a=="X"||_30a=="x"||_30a=="S"){var p0,p1=_30b[i-1],p2=_30b[i],p3;var bz1x,bz1y,bz2x,bz2y;var f=1/6;if(i==1){if(_30a=="x"){p0=_30b[_30b.length-2];}else{p0=p1;}f=1/3;}else{p0=_30b[i-2];}if(i==(_30b.length-1)){if(_30a=="x"){p3=_30b[1];}else{p3=p2;}f=1/3;}else{p3=_30b[i+1];}var p1p2=Math.sqrt((p2.x-p1.x)*(p2.x-p1.x)+(p2.y-p1.y)*(p2.y-p1.y));var p0p2=Math.sqrt((p2.x-p0.x)*(p2.x-p0.x)+(p2.y-p0.y)*(p2.y-p0.y));var p1p3=Math.sqrt((p3.x-p1.x)*(p3.x-p1.x)+(p3.y-p1.y)*(p3.y-p1.y));var _30c=p0p2*f;var _30d=p1p3*f;if(_30c>p1p2/2&&_30d>p1p2/2){_30c=p1p2/2;_30d=p1p2/2;}else{if(_30c>p1p2/2){_30c=p1p2/2;_30d=p1p2/2*p1p3/p0p2;}else{if(_30d>p1p2/2){_30d=p1p2/2;_30c=p1p2/2*p0p2/p1p3;}}}if(_30a=="S"){if(p0==p1){_30c=0;}if(p2==p3){_30d=0;}}bz1x=p1.x+_30c*(p2.x-p0.x)/p0p2;bz1y=p1.y+_30c*(p2.y-p0.y)/p0p2;bz2x=p2.x-_30d*(p3.x-p1.x)/p1p3;bz2y=p2.y-_30d*(p3.y-p1.y)/p1p3;}}return "C"+(bz1x+","+bz1y+" "+bz2x+","+bz2y+" "+p2.x+","+p2.y);});return p.join(" ");},getLabel:function(_30e,_30f,_310){return sc.doIfLoaded("dojo/number",function(_311){return (_30f?_311.format(_30e,{places:_310}):_311.format(_30e))||"";},function(){return _30f?_30e.toFixed(_310):_30e.toString();});}});});},"dojox/charting/scaler/primitive":function(){define(["dojo/_base/lang"],function(lang){var _312=lang.getObject("dojox.charting.scaler.primitive",true);return lang.mixin(_312,{buildScaler:function(min,max,span,_313){if(min==max){min-=0.5;max+=0.5;}return {bounds:{lower:min,upper:max,from:min,to:max,scale:span/(max-min),span:span},scaler:_312};},buildTicks:function(_314,_315){return {major:[],minor:[],micro:[]};},getTransformerFromModel:function(_316){var _317=_316.bounds.from,_318=_316.bounds.scale;return function(x){return (x-_317)*_318;};},getTransformerFromPlot:function(_319){var _31a=_319.bounds.from,_31b=_319.bounds.scale;return function(x){return x/_31b+_31a;};}});});},"dojox/gfx/fx":function(){define(["dojo/_base/lang","./_base","./matrix","dojo/_base/Color","dojo/_base/array","dojo/_base/fx","dojo/_base/connect","dojo/sniff"],function(lang,g,m,_31c,arr,fx,Hub,has){var fxg=g.fx={};function _31d(_31e,end){this.start=_31e,this.end=end;};_31d.prototype.getValue=function(r){return (this.end-this.start)*r+this.start;};function _31f(_320,end,_321){this.start=_320,this.end=end;this.units=_321;};_31f.prototype.getValue=function(r){return (this.end-this.start)*r+this.start+this.units;};function _322(_323,end){this.start=_323,this.end=end;this.temp=new _31c();};_322.prototype.getValue=function(r){return _31c.blendColors(this.start,this.end,r,this.temp);};function _324(_325){this.values=_325;this.length=_325.length;};_324.prototype.getValue=function(r){return this.values[Math.min(Math.floor(r*this.length),this.length-1)];};function _326(_327,def){this.values=_327;this.def=def?def:{};};_326.prototype.getValue=function(r){var ret=lang.clone(this.def);for(var i in this.values){ret[i]=this.values[i].getValue(r);}return ret;};function _328(_329,_32a){this.stack=_329;this.original=_32a;};_328.prototype.getValue=function(r){var ret=[];arr.forEach(this.stack,function(t){if(t instanceof m.Matrix2D){ret.push(t);return;}if(t.name=="original"&&this.original){ret.push(this.original);return;}if(t.name=="matrix"){if((t.start instanceof m.Matrix2D)&&(t.end instanceof m.Matrix2D)){var _32b=new m.Matrix2D();for(var p in t.start){_32b[p]=(t.end[p]-t.start[p])*r+t.start[p];}ret.push(_32b);}return;}if(!(t.name in m)){return;}var f=m[t.name];if(typeof f!="function"){ret.push(f);return;}var val=arr.map(t.start,function(v,i){return (t.end[i]-v)*r+v;}),_32c=f.apply(m,val);if(_32c instanceof m.Matrix2D){ret.push(_32c);}},this);return ret;};var _32d=new _31c(0,0,0,0);function _32e(prop,obj,name,def){if(prop.values){return new _324(prop.values);}var _32f,_330,end;if(prop.start){_330=g.normalizeColor(prop.start);}else{_330=_32f=obj?(name?obj[name]:obj):def;}if(prop.end){end=g.normalizeColor(prop.end);}else{if(!_32f){_32f=obj?(name?obj[name]:obj):def;}end=_32f;}return new _322(_330,end);};function _331(prop,obj,name,def){if(prop.values){return new _324(prop.values);}var _332,_333,end;if(prop.start){_333=prop.start;}else{_333=_332=obj?obj[name]:def;}if(prop.end){end=prop.end;}else{if(typeof _332!="number"){_332=obj?obj[name]:def;}end=_332;}return new _31d(_333,end);};fxg.animateStroke=function(args){if(!args.easing){args.easing=fx._defaultEasing;}var anim=new fx.Animation(args),_334=args.shape,_335;Hub.connect(anim,"beforeBegin",anim,function(){_335=_334.getStroke();var prop=args.color,_336={},_337,_338,end;if(prop){_336.color=_32e(prop,_335,"color",_32d);}prop=args.style;if(prop&&prop.values){_336.style=new _324(prop.values);}prop=args.width;if(prop){_336.width=_331(prop,_335,"width",1);}prop=args.cap;if(prop&&prop.values){_336.cap=new _324(prop.values);}prop=args.join;if(prop){if(prop.values){_336.join=new _324(prop.values);}else{_338=prop.start?prop.start:(_335&&_335.join||0);end=prop.end?prop.end:(_335&&_335.join||0);if(typeof _338=="number"&&typeof end=="number"){_336.join=new _31d(_338,end);}}}this.curve=new _326(_336,_335);});Hub.connect(anim,"onAnimate",_334,"setStroke");return anim;};fxg.animateFill=function(args){if(!args.easing){args.easing=fx._defaultEasing;}var anim=new fx.Animation(args),_339=args.shape,fill;Hub.connect(anim,"beforeBegin",anim,function(){fill=_339.getFill();var prop=args.color,_33a={};if(prop){this.curve=_32e(prop,fill,"",_32d);}});Hub.connect(anim,"onAnimate",_339,"setFill");return anim;};fxg.animateFont=function(args){if(!args.easing){args.easing=fx._defaultEasing;}var anim=new fx.Animation(args),_33b=args.shape,font;Hub.connect(anim,"beforeBegin",anim,function(){font=_33b.getFont();var prop=args.style,_33c={},_33d,_33e,end;if(prop&&prop.values){_33c.style=new _324(prop.values);}prop=args.variant;if(prop&&prop.values){_33c.variant=new _324(prop.values);}prop=args.weight;if(prop&&prop.values){_33c.weight=new _324(prop.values);}prop=args.family;if(prop&&prop.values){_33c.family=new _324(prop.values);}prop=args.size;if(prop&&prop.units){_33e=parseFloat(prop.start?prop.start:(_33b.font&&_33b.font.size||"0"));end=parseFloat(prop.end?prop.end:(_33b.font&&_33b.font.size||"0"));_33c.size=new _31f(_33e,end,prop.units);}this.curve=new _326(_33c,font);});Hub.connect(anim,"onAnimate",_33b,"setFont");return anim;};fxg.animateTransform=function(args){if(!args.easing){args.easing=fx._defaultEasing;}var anim=new fx.Animation(args),_33f=args.shape,_340;Hub.connect(anim,"beforeBegin",anim,function(){_340=_33f.getTransform();this.curve=new _328(args.transform,_340);});Hub.connect(anim,"onAnimate",_33f,"setTransform");if(g.renderer==="svg"&&has("ie")>=10){var _341=[Hub.connect(anim,"onBegin",anim,function(){var _342=_33f.getParent();while(_342&&_342.getParent){_342=_342.getParent();}if(_342){_33f.__svgContainer=_342.rawNode.parentNode;}}),Hub.connect(anim,"onAnimate",anim,function(){try{if(_33f.__svgContainer){var ov=_33f.__svgContainer.style.visibility;_33f.__svgContainer.style.visibility="visible";var _343=_33f.__svgContainer.offsetHeight;_33f.__svgContainer.style.visibility=ov;}}catch(e){}}),Hub.connect(anim,"onEnd",anim,function(){arr.forEach(_341,Hub.disconnect);if(_33f.__svgContainer){var ov=_33f.__svgContainer.style.visibility;var sn=_33f.__svgContainer;_33f.__svgContainer.style.visibility="visible";setTimeout(function(){try{sn.style.visibility=ov;sn=null;}catch(e){}},100);}delete _33f.__svgContainer;})];}return anim;};return fxg;});},"dojox/charting/plot2d/_PlotEvents":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/connect"],function(lang,arr,_344,hub){return _344("dojox.charting.plot2d._PlotEvents",null,{constructor:function(){this._shapeEvents=[];this._eventSeries={};},destroy:function(){this.resetEvents();this.inherited(arguments);},plotEvent:function(o){},raiseEvent:function(o){this.plotEvent(o);var t=lang.delegate(o);t.originalEvent=o.type;t.originalPlot=o.plot;t.type="onindirect";arr.forEach(this.chart.stack,function(plot){if(plot!==this&&plot.plotEvent){t.plot=plot;plot.plotEvent(t);}},this);},connect:function(_345,_346){this.dirty=true;return hub.connect(this,"plotEvent",_345,_346);},events:function(){return !!this.plotEvent.after;},resetEvents:function(){if(this._shapeEvents.length){arr.forEach(this._shapeEvents,function(item){item.shape.disconnect(item.handle);});this._shapeEvents=[];}this.raiseEvent({type:"onplotreset",plot:this});},_connectSingleEvent:function(o,_347){this._shapeEvents.push({shape:o.eventMask,handle:o.eventMask.connect(_347,this,function(e){o.type=_347;o.event=e;this.raiseEvent(o);o.event=null;})});},_connectEvents:function(o){if(o){o.chart=this.chart;o.plot=this;o.hAxis=this.hAxis||null;o.vAxis=this.vAxis||null;o.eventMask=o.eventMask||o.shape;this._connectSingleEvent(o,"onmouseover");this._connectSingleEvent(o,"onmouseout");this._connectSingleEvent(o,"onclick");}},_reconnectEvents:function(_348){var a=this._eventSeries[_348];if(a){arr.forEach(a,this._connectEvents,this);}},fireEvent:function(_349,_34a,_34b,_34c){var s=this._eventSeries[_349];if(s&&s.length&&_34b<s.length){var o=s[_34b];o.type=_34a;o.event=_34c||null;this.raiseEvent(o);o.event=null;}}});});},"dojox/charting/plot2d/Lines":function(){define(["dojo/_base/declare","./Default"],function(_34d,_34e){return _34d("dojox.charting.plot2d.Lines",_34e,{constructor:function(){this.opt.lines=true;}});});},"dojox/charting/plot2d/Areas":function(){define(["dojo/_base/declare","./Default"],function(_34f,_350){return _34f("dojox.charting.plot2d.Areas",_350,{constructor:function(){this.opt.lines=true;this.opt.areas=true;}});});},"dojox/charting/plot2d/Markers":function(){define(["dojo/_base/declare","./Default"],function(_351,_352){return _351("dojox.charting.plot2d.Markers",_352,{constructor:function(){this.opt.markers=true;}});});},"dojox/charting/plot2d/MarkersOnly":function(){define(["dojo/_base/declare","./Default"],function(_353,_354){return _353("dojox.charting.plot2d.MarkersOnly",_354,{constructor:function(){this.opt.lines=false;this.opt.markers=true;}});});},"dojox/charting/plot2d/Scatter":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/has","./CartesianBase","./_PlotEvents","./common","dojox/lang/functional","dojox/lang/functional/reversed","dojox/lang/utils","dojox/gfx/fx","dojox/gfx/gradutils"],function(lang,arr,_355,has,_356,_357,dc,df,dfr,du,fx,_358){var _359=dfr.lambda("item.purgeGroup()");return _355("dojox.charting.plot2d.Scatter",[_356,_357],{defaultParams:{shadows:null,animate:null},optionalParams:{markerStroke:{},markerOutline:{},markerShadow:{},markerFill:{},markerFont:"",markerFontColor:"",styleFunc:null},constructor:function(_35a,_35b){this.opt=lang.clone(lang.mixin(this.opt,this.defaultParams));du.updateWithObject(this.opt,_35b);du.updateWithPattern(this.opt,_35b,this.optionalParams);this.animate=this.opt.animate;},render:function(dim,_35c){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_35c);}this.resetEvents();this.dirty=this.isDirty();var s;if(this.dirty){arr.forEach(this.series,_359);this._eventSeries={};this.cleanGroup();s=this.getGroup();df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_35d=this.events();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();if(!run.data.length){run.dirty=false;t.skip();continue;}var _35e=t.next("marker",[this.opt,run]),_35f,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);if(run.hidden){run.dyn.marker=_35e.symbol;run.dyn.markerFill=_35e.marker.fill;run.dyn.markerStroke=_35e.marker.stroke;continue;}s=run.group;if(typeof run.data[0]=="number"){_35f=arr.map(run.data,function(v,i){return {x:ht(i+1)+_35c.l,y:dim.height-_35c.b-vt(v)};},this);}else{_35f=arr.map(run.data,function(v,i){return {x:ht(v.x)+_35c.l,y:dim.height-_35c.b-vt(v.y)};},this);}var _360=new Array(_35f.length),_361=new Array(_35f.length),_362=new Array(_35f.length);arr.forEach(_35f,function(c,i){var _363=run.data[i],_364;if(this.opt.styleFunc||typeof _363!="number"){var _365=typeof _363!="number"?[_363]:[];if(this.opt.styleFunc){_365.push(this.opt.styleFunc(_363));}_364=t.addMixin(_35e,"marker",_365,true);}else{_364=t.post(_35e,"marker");}var path="M"+c.x+" "+c.y+" "+_364.symbol;if(_364.marker.shadow){_360[i]=s.createPath("M"+(c.x+_364.marker.shadow.dx)+" "+(c.y+_364.marker.shadow.dy)+" "+_364.symbol).setStroke(_364.marker.shadow).setFill(_364.marker.shadow.color);if(this.animate){this._animateScatter(_360[i],dim.height-_35c.b);}}if(_364.marker.outline){var _366=dc.makeStroke(_364.marker.outline);_366.width=2*_366.width+_364.marker.stroke.width;_362[i]=s.createPath(path).setStroke(_366);if(this.animate){this._animateScatter(_362[i],dim.height-_35c.b);}}var _367=dc.makeStroke(_364.marker.stroke),fill=this._plotFill(_364.marker.fill,dim,_35c);if(fill&&(fill.type==="linear"||fill.type=="radial")){var _368=_358.getColor(fill,{x:c.x,y:c.y});if(_367){_367.color=_368;}_361[i]=s.createPath(path).setStroke(_367).setFill(_368);}else{_361[i]=s.createPath(path).setStroke(_367).setFill(fill);}if(this.opt.labels){var _369=_361[i].getBoundingBox();this.createLabel(s,_363,_369,_364);}if(this.animate){this._animateScatter(_361[i],dim.height-_35c.b);}},this);if(_361.length){run.dyn.marker=_35e.symbol;run.dyn.markerStroke=_361[_361.length-1].getStroke();run.dyn.markerFill=_361[_361.length-1].getFill();}if(_35d){var _36a=new Array(_361.length);arr.forEach(_361,function(s,i){var o={element:"marker",index:i,run:run,shape:s,outline:_362&&_362[i]||null,shadow:_360&&_360[i]||null,cx:_35f[i].x,cy:_35f[i].y};if(typeof run.data[0]=="number"){o.x=i+1;o.y=run.data[i];}else{o.x=run.data[i].x;o.y=run.data[i].y;}this._connectEvents(o);_36a[i]=o;},this);this._eventSeries[run.name]=_36a;}else{delete this._eventSeries[run.name];}run.dirty=false;}this.dirty=false;if(has("dojo-bidi")){this._checkOrientation(this.group,dim,_35c);}return this;},_animateScatter:function(_36b,_36c){fx.animateTransform(lang.delegate({shape:_36b,duration:1200,transform:[{name:"translate",start:[0,_36c],end:[0,0]},{name:"scale",start:[0,0],end:[1,1]},{name:"original"}]},this.animate)).play();}});});},"dojox/charting/plot2d/Stacked":function(){define(["dojo/_base/declare","./Default","./commonStacked"],function(_36d,_36e,_36f){return _36d("dojox.charting.plot2d.Stacked",_36e,{getSeriesStats:function(){var _370=_36f.collectStats(this.series);return _370;},buildSegments:function(i,_371){var run=this.series[i],min=_371?Math.max(0,Math.floor(this._hScaler.bounds.from-1)):0,max=_371?Math.min(run.data.length-1,Math.ceil(this._hScaler.bounds.to)):run.data.length-1,rseg=null,_372=[];for(var j=min;j<=max;j++){var _373=_371?_36f.getIndexValue(this.series,i,j):_36f.getValue(this.series,i,run.data[j]?run.data[j].x:null);if(_373[0]!=null&&(_371||_373[0].y!=null)){if(!rseg){rseg=[];_372.push({index:j,rseg:rseg});}rseg.push(_373[0]);}else{if(!this.opt.interpolate||_371){rseg=null;}}}return _372;}});});},"dojox/charting/plot2d/commonStacked":function(){define(["dojo/_base/lang","./common"],function(lang,_374){var _375=lang.getObject("dojox.charting.plot2d.commonStacked",true);return lang.mixin(_375,{collectStats:function(_376){var _377=lang.delegate(_374.defaultStats);for(var i=0;i<_376.length;++i){var run=_376[i];for(var j=0;j<run.data.length;j++){var x,y;if(run.data[j]!==null){if(typeof run.data[j]=="number"||!run.data[j].hasOwnProperty("x")){y=_375.getIndexValue(_376,i,j)[0];x=j+1;}else{x=run.data[j].x;if(x!==null){y=_375.getValue(_376,i,x)[0];y=y!=null&&y.y?y.y:null;}}_377.hmin=Math.min(_377.hmin,x);_377.hmax=Math.max(_377.hmax,x);_377.vmin=Math.min(_377.vmin,y);_377.vmax=Math.max(_377.vmax,y);}}}return _377;},getIndexValue:function(_378,i,_379){var _37a=0,v,j,_37b;for(j=0;j<=i;++j){if(_378[j].hidden){continue;}_37b=_37a;v=_378[j].data[_379];if(v!=null){if(isNaN(v)){v=v.y||0;}_37a+=v;}}return [_37a,_37b];},getValue:function(_37c,i,x){var _37d=null,j,z,v,_37e;for(j=0;j<=i;++j){if(_37c[j].hidden){continue;}for(z=0;z<_37c[j].data.length;z++){_37e=_37d;v=_37c[j].data[z];if(v!==null){if(v.x==x){if(!_37d){_37d={x:x};}if(v.y!=null){if(_37d.y==null){_37d.y=0;}_37d.y+=v.y;}break;}else{if(v.x>x){break;}}}}}return [_37d,_37e];}});});},"dojox/charting/plot2d/StackedLines":function(){define(["dojo/_base/declare","./Stacked"],function(_37f,_380){return _37f("dojox.charting.plot2d.StackedLines",_380,{constructor:function(){this.opt.lines=true;}});});},"dojox/charting/plot2d/StackedAreas":function(){define(["dojo/_base/declare","./Stacked"],function(_381,_382){return _381("dojox.charting.plot2d.StackedAreas",_382,{constructor:function(){this.opt.lines=true;this.opt.areas=true;}});});},"dojox/charting/plot2d/Columns":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/has","./CartesianBase","./_PlotEvents","./common","dojox/lang/functional","dojox/lang/functional/reversed","dojox/lang/utils","dojox/gfx/fx"],function(lang,arr,_383,has,_384,_385,dc,df,dfr,du,fx){var _386=dfr.lambda("item.purgeGroup()");return _383("dojox.charting.plot2d.Columns",[_384,_385],{defaultParams:{gap:0,animate:null,enableCache:false},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:""},constructor:function(_387,_388){this.opt=lang.clone(lang.mixin(this.opt,this.defaultParams));du.updateWithObject(this.opt,_388);du.updateWithPattern(this.opt,_388,this.optionalParams);this.animate=this.opt.animate;this.renderingOptions={"shape-rendering":"crispEdges"};},getSeriesStats:function(){var _389=dc.collectSimpleStats(this.series);_389.hmin-=0.5;_389.hmax+=0.5;return _389;},createRect:function(run,_38a,_38b){var rect;if(this.opt.enableCache&&run._rectFreePool.length>0){rect=run._rectFreePool.pop();rect.setShape(_38b);_38a.add(rect);}else{rect=_38a.createRect(_38b);}if(this.opt.enableCache){run._rectUsePool.push(rect);}return rect;},render:function(dim,_38c){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_38c);}this.resetEvents();this.dirty=this.isDirty();var s;if(this.dirty){arr.forEach(this.series,_386);this._eventSeries={};this.cleanGroup();s=this.getGroup();df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_38d=Math.max(0,this._vScaler.bounds.lower),_38e=vt(_38d),_38f=this.events(),bar=this.getBarProperties();var z=this.series.length;arr.forEach(this.series,function(_390){if(_390.hidden){z--;}});for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();if(this.opt.enableCache){run._rectFreePool=(run._rectFreePool?run._rectFreePool:[]).concat(run._rectUsePool?run._rectUsePool:[]);run._rectUsePool=[];}var _391=t.next("column",[this.opt,run]),_392=new Array(run.data.length);if(run.hidden){run.dyn.fill=_391.series.fill;continue;}z--;s=run.group;var _393=arr.some(run.data,function(item){return typeof item=="number"||(item&&!item.hasOwnProperty("x"));});var min=_393?Math.max(0,Math.floor(this._hScaler.bounds.from-1)):0;var max=_393?Math.min(run.data.length,Math.ceil(this._hScaler.bounds.to)):run.data.length;for(var j=min;j<max;++j){var _394=run.data[j];if(_394!=null){var val=this.getValue(_394,j,i,_393),vv=vt(val.y),h=Math.abs(vv-_38e),_395,_396;if(this.opt.styleFunc||typeof _394!="number"){var _397=typeof _394!="number"?[_394]:[];if(this.opt.styleFunc){_397.push(this.opt.styleFunc(_394));}_395=t.addMixin(_391,"column",_397,true);}else{_395=t.post(_391,"column");}if(bar.width>=1&&h>=0){var rect={x:_38c.l+ht(val.x+0.5)+bar.gap+bar.thickness*z,y:dim.height-_38c.b-(val.y>_38d?vv:_38e),width:bar.width,height:h};if(_395.series.shadow){var _398=lang.clone(rect);_398.x+=_395.series.shadow.dx;_398.y+=_395.series.shadow.dy;_396=this.createRect(run,s,_398).setFill(_395.series.shadow.color).setStroke(_395.series.shadow);if(this.animate){this._animateColumn(_396,dim.height-_38c.b+_38e,h);}}var _399=this._plotFill(_395.series.fill,dim,_38c);_399=this._shapeFill(_399,rect);var _39a=this.createRect(run,s,rect).setFill(_399).setStroke(_395.series.stroke);if(_39a.setFilter&&_395.series.filter){_39a.setFilter(_395.series.filter);}run.dyn.fill=_39a.getFill();run.dyn.stroke=_39a.getStroke();if(_38f){var o={element:"column",index:j,run:run,shape:_39a,shadow:_396,cx:val.x+0.5,cy:val.y,x:_393?j:run.data[j].x,y:_393?run.data[j]:run.data[j].y};this._connectEvents(o);_392[j]=o;}if(!isNaN(val.py)&&val.py>_38d){rect.height=vv-vt(val.py);}this.createLabel(s,_394,rect,_395);if(this.animate){this._animateColumn(_39a,dim.height-_38c.b-_38e,h);}}}}this._eventSeries[run.name]=_392;run.dirty=false;}this.dirty=false;if(has("dojo-bidi")){this._checkOrientation(this.group,dim,_38c);}return this;},getValue:function(_39b,j,_39c,_39d){var y,x;if(_39d){if(typeof _39b=="number"){y=_39b;}else{y=_39b.y;}x=j;}else{y=_39b.y;x=_39b.x-1;}return {x:x,y:y};},getBarProperties:function(){var f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);return {gap:f.gap,width:f.size,thickness:0};},_animateColumn:function(_39e,_39f,_3a0){if(_3a0==0){_3a0=1;}fx.animateTransform(lang.delegate({shape:_39e,duration:1200,transform:[{name:"translate",start:[0,_39f-(_39f/_3a0)],end:[0,0]},{name:"scale",start:[1,1/_3a0],end:[1,1]},{name:"original"}]},this.animate)).play();}});});},"dojox/charting/plot2d/StackedColumns":function(){define(["dojo/_base/declare","./Columns","./commonStacked"],function(_3a1,_3a2,_3a3){return _3a1("dojox.charting.plot2d.StackedColumns",_3a2,{getSeriesStats:function(){var _3a4=_3a3.collectStats(this.series);_3a4.hmin-=0.5;_3a4.hmax+=0.5;return _3a4;},getValue:function(_3a5,_3a6,_3a7,_3a8){var x,y;if(_3a8){x=_3a6;y=_3a3.getIndexValue(this.series,_3a7,x);}else{x=_3a5.x-1;y=_3a3.getValue(this.series,_3a7,_3a5.x);y=[y[0]?y[0].y:null,y[1]?y[1]:null];}return {x:x,y:y[0],py:y[1]};}});});},"dojox/charting/plot2d/ClusteredColumns":function(){define(["dojo/_base/declare","dojo/_base/array","./Columns","./common"],function(_3a9,_3aa,_3ab,dc){return _3a9("dojox.charting.plot2d.ClusteredColumns",_3ab,{getBarProperties:function(){var _3ac=this.series.length;_3aa.forEach(this.series,function(_3ad){if(_3ad.hidden){_3ac--;}});var f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt,_3ac);return {gap:f.gap,width:f.size,thickness:f.size,clusterSize:_3ac};}});});},"dojox/charting/plot2d/Bars":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/has","./CartesianBase","./_PlotEvents","./common","dojox/gfx/fx","dojox/lang/utils","dojox/lang/functional","dojox/lang/functional/reversed"],function(lang,arr,_3ae,has,_3af,_3b0,dc,fx,du,df,dfr){var _3b1=dfr.lambda("item.purgeGroup()");return _3ae("dojox.charting.plot2d.Bars",[_3af,_3b0],{defaultParams:{gap:0,animate:null,enableCache:false},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:""},constructor:function(_3b2,_3b3){this.opt=lang.clone(lang.mixin(this.opt,this.defaultParams));du.updateWithObject(this.opt,_3b3);du.updateWithPattern(this.opt,_3b3,this.optionalParams);this.animate=this.opt.animate;this.renderingOptions={"shape-rendering":"crispEdges"};},getSeriesStats:function(){var _3b4=dc.collectSimpleStats(this.series),t;_3b4.hmin-=0.5;_3b4.hmax+=0.5;t=_3b4.hmin,_3b4.hmin=_3b4.vmin,_3b4.vmin=t;t=_3b4.hmax,_3b4.hmax=_3b4.vmax,_3b4.vmax=t;return _3b4;},createRect:function(run,_3b5,_3b6){var rect;if(this.opt.enableCache&&run._rectFreePool.length>0){rect=run._rectFreePool.pop();rect.setShape(_3b6);_3b5.add(rect);}else{rect=_3b5.createRect(_3b6);}if(this.opt.enableCache){run._rectUsePool.push(rect);}return rect;},createLabel:function(_3b7,_3b8,bbox,_3b9){if(this.opt.labels&&this.opt.labelStyle=="outside"){var y=bbox.y+bbox.height/2;var x=bbox.x+bbox.width+this.opt.labelOffset;this.renderLabel(_3b7,x,y,this._getLabel(isNaN(_3b8.y)?_3b8:_3b8.y),_3b9,"start");}else{this.inherited(arguments);}},render:function(dim,_3ba){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_3ba);}this.dirty=this.isDirty();this.resetEvents();var s;if(this.dirty){arr.forEach(this.series,_3b1);this._eventSeries={};this.cleanGroup();s=this.getGroup();df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_3bb=Math.max(0,this._hScaler.bounds.lower),_3bc=ht(_3bb),_3bd=this.events();var bar=this.getBarProperties();var _3be=this.series.length;arr.forEach(this.series,function(_3bf){if(_3bf.hidden){_3be--;}});var z=_3be;for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();if(this.opt.enableCache){run._rectFreePool=(run._rectFreePool?run._rectFreePool:[]).concat(run._rectUsePool?run._rectUsePool:[]);run._rectUsePool=[];}var _3c0=t.next("bar",[this.opt,run]);if(run.hidden){run.dyn.fill=_3c0.series.fill;run.dyn.stroke=_3c0.series.stroke;continue;}z--;var _3c1=new Array(run.data.length);s=run.group;var _3c2=arr.some(run.data,function(item){return typeof item=="number"||(item&&!item.hasOwnProperty("x"));});var min=_3c2?Math.max(0,Math.floor(this._vScaler.bounds.from-1)):0;var max=_3c2?Math.min(run.data.length,Math.ceil(this._vScaler.bounds.to)):run.data.length;for(var j=min;j<max;++j){var _3c3=run.data[j];if(_3c3!=null){var val=this.getValue(_3c3,j,i,_3c2),hv=ht(val.y),w=Math.abs(hv-_3bc),_3c4,_3c5;if(this.opt.styleFunc||typeof _3c3!="number"){var _3c6=typeof _3c3!="number"?[_3c3]:[];if(this.opt.styleFunc){_3c6.push(this.opt.styleFunc(_3c3));}_3c4=t.addMixin(_3c0,"bar",_3c6,true);}else{_3c4=t.post(_3c0,"bar");}if(w>=0&&bar.height>=1){var rect={x:_3ba.l+(val.y<_3bb?hv:_3bc),y:dim.height-_3ba.b-vt(val.x+1.5)+bar.gap+bar.thickness*(_3be-z-1),width:w,height:bar.height};if(_3c4.series.shadow){var _3c7=lang.clone(rect);_3c7.x+=_3c4.series.shadow.dx;_3c7.y+=_3c4.series.shadow.dy;_3c5=this.createRect(run,s,_3c7).setFill(_3c4.series.shadow.color).setStroke(_3c4.series.shadow);if(this.animate){this._animateBar(_3c5,_3ba.l+_3bc,-w);}}var _3c8=this._plotFill(_3c4.series.fill,dim,_3ba);_3c8=this._shapeFill(_3c8,rect);var _3c9=this.createRect(run,s,rect).setFill(_3c8).setStroke(_3c4.series.stroke);if(_3c9.setFilter&&_3c4.series.filter){_3c9.setFilter(_3c4.series.filter);}run.dyn.fill=_3c9.getFill();run.dyn.stroke=_3c9.getStroke();if(_3bd){var o={element:"bar",index:j,run:run,shape:_3c9,shadow:_3c5,cx:val.y,cy:val.x+1.5,x:_3c2?j:run.data[j].x,y:_3c2?run.data[j]:run.data[j].y};this._connectEvents(o);_3c1[j]=o;}if(!isNaN(val.py)&&val.py>_3bb){rect.x+=ht(val.py);rect.width-=ht(val.py);}this.createLabel(s,_3c3,rect,_3c4);if(this.animate){this._animateBar(_3c9,_3ba.l+_3bc,-w);}}}}this._eventSeries[run.name]=_3c1;run.dirty=false;}this.dirty=false;if(has("dojo-bidi")){this._checkOrientation(this.group,dim,_3ba);}return this;},getValue:function(_3ca,j,_3cb,_3cc){var y,x;if(_3cc){if(typeof _3ca=="number"){y=_3ca;}else{y=_3ca.y;}x=j;}else{y=_3ca.y;x=_3ca.x-1;}return {y:y,x:x};},getBarProperties:function(){var f=dc.calculateBarSize(this._vScaler.bounds.scale,this.opt);return {gap:f.gap,height:f.size,thickness:0};},_animateBar:function(_3cd,_3ce,_3cf){if(_3cf==0){_3cf=1;}fx.animateTransform(lang.delegate({shape:_3cd,duration:1200,transform:[{name:"translate",start:[_3ce-(_3ce/_3cf),0],end:[0,0]},{name:"scale",start:[1/_3cf,1],end:[1,1]},{name:"original"}]},this.animate)).play();}});});},"dojox/charting/plot2d/StackedBars":function(){define(["dojo/_base/declare","./Bars","./commonStacked"],function(_3d0,Bars,_3d1){return _3d0("dojox.charting.plot2d.StackedBars",Bars,{getSeriesStats:function(){var _3d2=_3d1.collectStats(this.series),t;_3d2.hmin-=0.5;_3d2.hmax+=0.5;t=_3d2.hmin,_3d2.hmin=_3d2.vmin,_3d2.vmin=t;t=_3d2.hmax,_3d2.hmax=_3d2.vmax,_3d2.vmax=t;return _3d2;},getValue:function(_3d3,_3d4,_3d5,_3d6){var y,x;if(_3d6){x=_3d4;y=_3d1.getIndexValue(this.series,_3d5,x);}else{x=_3d3.x-1;y=_3d1.getValue(this.series,_3d5,_3d3.x);y=[y[0]?y[0].y:null,y[1]?y[1]:null];}return {x:x,y:y[0],py:y[1]};}});});},"dojox/charting/plot2d/ClusteredBars":function(){define(["dojo/_base/declare","dojo/_base/array","./Bars","./common"],function(_3d7,_3d8,Bars,dc){return _3d7("dojox.charting.plot2d.ClusteredBars",Bars,{getBarProperties:function(){var _3d9=this.series.length;_3d8.forEach(this.series,function(_3da){if(_3da.hidden){_3d9--;}});var f=dc.calculateBarSize(this._vScaler.bounds.scale,this.opt,_3d9);return {gap:f.gap,height:f.size,thickness:f.size};}});});},"dojox/charting/plot2d/Grid":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/sniff","./CartesianBase","./common","dojox/lang/utils","dojox/gfx/fx"],function(lang,_3db,arr,has,_3dc,dc,du,fx){var _3dd=function(a,b){return a.value-b.value;};return _3db("dojox.charting.plot2d.Grid",_3dc,{defaultParams:{hMajorLines:true,hMinorLines:false,vMajorLines:true,vMinorLines:false,hStripes:false,vStripes:false,animate:null,enableCache:false,renderOnAxis:true},optionalParams:{majorHLine:{},minorHLine:{},majorVLine:{},minorVLine:{},hFill:{},vFill:{},hAlternateFill:{},vAlternateFill:{}},constructor:function(_3de,_3df){this.opt=lang.clone(this.defaultParams);du.updateWithObject(this.opt,_3df);du.updateWithPattern(this.opt,_3df,this.optionalParams);this.animate=this.opt.animate;if(this.opt.enableCache){this._lineFreePool=[];this._lineUsePool=[];this._rectFreePool=[];this._rectUsePool=[];}},addSeries:function(run){return this;},getSeriesStats:function(){return lang.delegate(dc.defaultStats);},cleanGroup:function(){this.inherited(arguments);if(this.opt.enableCache){this._lineFreePool=this._lineFreePool.concat(this._lineUsePool);this._lineUsePool=[];this._rectFreePool=this._rectFreePool.concat(this._rectUsePool);this._rectUsePool=[];}},createLine:function(_3e0,_3e1){var line;if(this.opt.enableCache&&this._lineFreePool.length>0){line=this._lineFreePool.pop();line.setShape(_3e1);_3e0.add(line);}else{line=_3e0.createLine(_3e1);}if(this.opt.enableCache){this._lineUsePool.push(line);}return line;},createRect:function(_3e2,_3e3){var rect;if(this.opt.enableCache&&this._rectFreePool.length>0){rect=this._rectFreePool.pop();rect.setShape(_3e3);_3e2.add(rect);}else{rect=_3e2.createRect(_3e3);}if(this.opt.enableCache){this._rectUsePool.push(rect);}return rect;},render:function(dim,_3e4){if(this.zoom){return this.performZoom(dim,_3e4);}this.dirty=this.isDirty();if(!this.dirty){return this;}this.cleanGroup();var s=this.getGroup(),ta=this.chart.theme,_3e5,_3e6;if((has("ios")&&has("ios")<6)||has("android")||(has("safari")&&!has("ios"))){var w=Math.max(0,dim.width-_3e4.l-_3e4.r),h=Math.max(0,dim.height-_3e4.t-_3e4.b);s.createRect({x:_3e4.l,y:_3e4.t,width:w,height:h});}if(this._vAxis){_3e6=this._vAxis.getTicks();var _3e7=this._vAxis.getScaler();if(_3e6!=null&&_3e7!=null){var vt=_3e7.scaler.getTransformerFromModel(_3e7);if(this.opt.hStripes){this._renderHRect(_3e6,ta.grid,dim,_3e4,_3e7,vt);}if(this.opt.hMinorLines){_3e5=this.opt.minorHLine||(ta.grid&&ta.grid.minorLine)||ta.axis.minorTick;this._renderHLines(_3e6.minor,_3e5,dim,_3e4,_3e7,vt);}if(this.opt.hMajorLines){_3e5=this.opt.majorHLine||(ta.grid&&ta.grid.majorLine)||ta.axis.majorTick;this._renderHLines(_3e6.major,_3e5,dim,_3e4,_3e7,vt);}}}if(this._hAxis){_3e6=this._hAxis.getTicks();var _3e8=this._hAxis.getScaler();if(_3e6!=null&&_3e8!=null){var ht=_3e8.scaler.getTransformerFromModel(_3e8);if(this.opt.vStripes){this._renderVRect(_3e6,ta.grid,dim,_3e4,_3e8,ht);}if(_3e6&&this.opt.vMinorLines){_3e5=this.opt.minorVLine||(ta.grid&&ta.grid.minorLine)||ta.axis.minorTick;this._renderVLines(_3e6.minor,_3e5,dim,_3e4,_3e8,ht);}if(_3e6&&this.opt.vMajorLines){_3e5=this.opt.majorVLine||(ta.grid&&ta.grid.majorLine)||ta.axis.majorTick;this._renderVLines(_3e6.major,_3e5,dim,_3e4,_3e8,ht);}}}this.dirty=false;return this;},_renderHLines:function(_3e9,_3ea,dim,_3eb,_3ec,vt){var s=this.getGroup();arr.forEach(_3e9,function(tick){if(!this.opt.renderOnAxis&&tick.value==(this._vAxis.opt.leftBottom?_3ec.bounds.from:_3ec.bounds.to)){return;}var y=dim.height-_3eb.b-vt(tick.value);var _3ed=this.createLine(s,{x1:_3eb.l,y1:y,x2:dim.width-_3eb.r,y2:y}).setStroke(_3ea);if(this.animate){this._animateGrid(_3ed,"h",_3eb.l,_3eb.r+_3eb.l-dim.width);}},this);},_renderVLines:function(_3ee,_3ef,dim,_3f0,_3f1,ht){var s=this.getGroup();arr.forEach(_3ee,function(tick){if(!this.opt.renderOnAxis&&tick.value==(this._hAxis.opt.leftBottom?_3f1.bounds.from:_3f1.bounds.to)){return;}var x=_3f0.l+ht(tick.value);var _3f2=this.createLine(s,{x1:x,y1:_3f0.t,x2:x,y2:dim.height-_3f0.b}).setStroke(_3ef);if(this.animate){this._animateGrid(_3f2,"v",dim.height-_3f0.b,dim.height-_3f0.b-_3f0.t);}},this);},_renderHRect:function(_3f3,_3f4,dim,_3f5,_3f6,vt){var fill,tick,y,y2,_3f7;var _3f8=_3f3.major.concat(_3f3.minor);_3f8.sort(_3dd);if(_3f8[0].value>_3f6.bounds.from){_3f8.splice(0,0,{value:_3f6.bounds.from});}if(_3f8[_3f8.length-1].value<_3f6.bounds.to){_3f8.push({value:_3f6.bounds.to});}var s=this.getGroup();for(var j=0;j<_3f8.length-1;j++){tick=_3f8[j];y=dim.height-_3f5.b-vt(tick.value);y2=dim.height-_3f5.b-vt(_3f8[j+1].value);fill=(j%2==0)?(this.opt.hAlternateFill||(_3f4&&_3f4.alternateFill)):(this.opt.hFill||(_3f4&&_3f4.fill));if(fill){_3f7=this.createRect(s,{x:_3f5.l,y:y,width:dim.width-_3f5.r,height:y-y2}).setFill(fill);if(this.animate){this._animateGrid(_3f7,"h",_3f5.l,_3f5.r+_3f5.l-dim.width);}}}},_renderVRect:function(_3f9,_3fa,dim,_3fb,_3fc,ht){var fill,tick,x,x2,_3fd;var _3fe=_3f9.major.concat(_3f9.minor);_3fe.sort(_3dd);if(_3fe[0].value>_3fc.bounds.from){_3fe.splice(0,0,{value:_3fc.bounds.from});}if(_3fe[_3fe.length-1].value<_3fc.bounds.to){_3fe.push({value:_3fc.bounds.to});}var s=this.getGroup();for(var j=0;j<_3fe.length-1;j++){tick=_3fe[j];x=_3fb.l+ht(tick.value);x2=_3fb.l+ht(_3fe[j+1].value);fill=(j%2==0)?(this.opt.vAlternateFill||(_3fa&&_3fa.alternateFill)):(this.opt.vFill||(_3fa&&_3fa.fill));if(fill){_3fd=this.createRect(s,{x:x,y:_3fb.t,width:x2-x,height:dim.width-_3fb.r}).setFill(fill);if(this.animate){this._animateGrid(_3fd,"v",dim.height-_3fb.b,dim.height-_3fb.b-_3fb.t);}}}},_animateGrid:function(_3ff,type,_400,size){var _401=type=="h"?[_400,0]:[0,_400];var _402=type=="h"?[1/size,1]:[1,1/size];fx.animateTransform(lang.delegate({shape:_3ff,duration:1200,transform:[{name:"translate",start:_401,end:[0,0]},{name:"scale",start:_402,end:[1,1]},{name:"original"}]},this.animate)).play();}});});},"dojox/charting/plot2d/Pie":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","./Base","./_PlotEvents","./common","dojox/gfx","dojox/gfx/matrix","dojox/lang/functional","dojox/lang/utils","dojo/has"],function(lang,arr,_403,Base,_404,dc,g,m,df,du,has){var _405=0.2;return _403("dojox.charting.plot2d.Pie",[Base,_404],{defaultParams:{labels:true,ticks:false,fixed:true,precision:1,labelOffset:20,labelStyle:"default",htmlLabels:true,radGrad:"native",fanSize:5,startAngle:0},optionalParams:{radius:0,omitLabels:false,stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:"",labelWiring:{}},constructor:function(_406,_407){this.opt=lang.clone(this.defaultParams);du.updateWithObject(this.opt,_407);du.updateWithPattern(this.opt,_407,this.optionalParams);this.axes=[];this.run=null;this.dyn=[];this.runFilter=[];},clear:function(){this.inherited(arguments);this.dyn=[];this.run=null;return this;},setAxis:function(axis){return this;},addSeries:function(run){this.run=run;return this;},getSeriesStats:function(){return lang.delegate(dc.defaultStats);},getRequiredColors:function(){return this.run?this.run.data.length:0;},render:function(dim,_408){if(!this.dirty){return this;}this.resetEvents();this.dirty=false;this._eventSeries={};this.cleanGroup();var s=this.group,t=this.chart.theme;if(!this.run||!this.run.data.length){return this;}var rx=(dim.width-_408.l-_408.r)/2,ry=(dim.height-_408.t-_408.b)/2,r=Math.min(rx,ry),_409="font" in this.opt?this.opt.font:t.series.font,size,_40a=m._degToRad(this.opt.startAngle),_40b=_40a,_40c,_40d,_40e,_40f,_410,_411=this.events();var run=arr.map(this.run.data,function(item,i){if(typeof item!="number"&&item.hidden){this.runFilter.push(i);item.hidden=false;}if(arr.some(this.runFilter,function(_412){return _412==i;})){if(typeof item=="number"){return 0;}else{return {y:0,text:item.text};}}else{return item;}},this);this.dyn=[];if("radius" in this.opt){r=this.opt.radius;_410=r-this.opt.labelOffset;}var _413={cx:_408.l+rx,cy:_408.t+ry,r:r};if(this.opt.shadow||t.shadow){var _414=this.opt.shadow||t.shadow;var _415=lang.clone(_413);_415.cx+=_414.dx;_415.cy+=_414.dy;s.createCircle(_415).setFill(_414.color).setStroke(_414);}if(s.setFilter&&(this.opt.filter||t.filter)){s.createCircle(_413).setFill(t.series.stroke).setFilter(this.opt.filter||t.filter);}if(typeof run[0]=="number"){_40c=df.map(run,"x ? Math.max(x, 0) : 0");if(df.every(_40c,"<= 0")){s.createCircle(_413).setStroke(t.series.stroke);this.dyn=arr.map(_40c,function(){return {};});return this;}else{_40d=df.map(_40c,"/this",df.foldl(_40c,"+",0));if(this.opt.labels){_40e=arr.map(_40d,function(x){return x>0?this._getLabel(x*100)+"%":"";},this);}}}else{_40c=df.map(run,"x ? Math.max(x.y, 0) : 0");if(df.every(_40c,"<= 0")){s.createCircle(_413).setStroke(t.series.stroke);this.dyn=arr.map(_40c,function(){return {};});return this;}else{_40d=df.map(_40c,"/this",df.foldl(_40c,"+",0));if(this.opt.labels){_40e=arr.map(_40d,function(x,i){if(x<0){return "";}var v=run[i];return "text" in v?v.text:this._getLabel(x*100)+"%";},this);}}}var _416=df.map(run,function(v,i){var _417=[this.opt,this.run];if(v!==null&&typeof v!="number"){_417.push(v);}if(this.opt.styleFunc){_417.push(this.opt.styleFunc(v));}return t.next("slice",_417,true);},this);if(this.opt.labels){size=_409?g.normalizedLength(g.splitFontString(_409).size):0;_40f=df.foldl1(df.map(_40e,function(_418,i){var font=_416[i].series.font;return g._base._getTextBox(_418,{font:font}).w;},this),"Math.max(a, b)")/2;if(this.opt.labelOffset<0){r=Math.min(rx-2*_40f,ry-size)+this.opt.labelOffset;}_410=r-this.opt.labelOffset;}var _419=new Array(_40d.length);arr.some(_40d,function(_41a,i){if(_41a<0){return false;}var v=run[i],_41b=_416[i],_41c,o;if(_41a==0){this.dyn.push({fill:_41b.series.fill,stroke:_41b.series.stroke});return false;}if(_41a>=1){_41c=this._plotFill(_41b.series.fill,dim,_408);_41c=this._shapeFill(_41c,{x:_413.cx-_413.r,y:_413.cy-_413.r,width:2*_413.r,height:2*_413.r});_41c=this._pseudoRadialFill(_41c,{x:_413.cx,y:_413.cy},_413.r);var _41d=s.createCircle(_413).setFill(_41c).setStroke(_41b.series.stroke);this.dyn.push({fill:_41c,stroke:_41b.series.stroke});if(_411){o={element:"slice",index:i,run:this.run,shape:_41d,x:i,y:typeof v=="number"?v:v.y,cx:_413.cx,cy:_413.cy,cr:r};this._connectEvents(o);_419[i]=o;}return false;}var end=_40b+_41a*2*Math.PI;if(i+1==_40d.length){end=_40a+2*Math.PI;}var step=end-_40b,x1=_413.cx+r*Math.cos(_40b),y1=_413.cy+r*Math.sin(_40b),x2=_413.cx+r*Math.cos(end),y2=_413.cy+r*Math.sin(end);var _41e=m._degToRad(this.opt.fanSize);if(_41b.series.fill&&_41b.series.fill.type==="radial"&&this.opt.radGrad==="fan"&&step>_41e){var _41f=s.createGroup(),_420=Math.ceil(step/_41e),_421=step/_420;_41c=this._shapeFill(_41b.series.fill,{x:_413.cx-_413.r,y:_413.cy-_413.r,width:2*_413.r,height:2*_413.r});for(var j=0;j<_420;++j){var _422=j==0?x1:_413.cx+r*Math.cos(_40b+(j-_405)*_421),_423=j==0?y1:_413.cy+r*Math.sin(_40b+(j-_405)*_421),_424=j==_420-1?x2:_413.cx+r*Math.cos(_40b+(j+1+_405)*_421),_425=j==_420-1?y2:_413.cy+r*Math.sin(_40b+(j+1+_405)*_421);_41f.createPath().moveTo(_413.cx,_413.cy).lineTo(_422,_423).arcTo(r,r,0,_421>Math.PI,true,_424,_425).lineTo(_413.cx,_413.cy).closePath().setFill(this._pseudoRadialFill(_41c,{x:_413.cx,y:_413.cy},r,_40b+(j+0.5)*_421,_40b+(j+0.5)*_421));}_41f.createPath().moveTo(_413.cx,_413.cy).lineTo(x1,y1).arcTo(r,r,0,step>Math.PI,true,x2,y2).lineTo(_413.cx,_413.cy).closePath().setStroke(_41b.series.stroke);_41d=_41f;}else{_41d=s.createPath().moveTo(_413.cx,_413.cy).lineTo(x1,y1).arcTo(r,r,0,step>Math.PI,true,x2,y2).lineTo(_413.cx,_413.cy).closePath().setStroke(_41b.series.stroke);_41c=_41b.series.fill;if(_41c&&_41c.type==="radial"){_41c=this._shapeFill(_41c,{x:_413.cx-_413.r,y:_413.cy-_413.r,width:2*_413.r,height:2*_413.r});if(this.opt.radGrad==="linear"){_41c=this._pseudoRadialFill(_41c,{x:_413.cx,y:_413.cy},r,_40b,end);}}else{if(_41c&&_41c.type==="linear"){_41c=this._plotFill(_41c,dim,_408);_41c=this._shapeFill(_41c,_41d.getBoundingBox());}}_41d.setFill(_41c);}this.dyn.push({fill:_41c,stroke:_41b.series.stroke});if(_411){o={element:"slice",index:i,run:this.run,shape:_41d,x:i,y:typeof v=="number"?v:v.y,cx:_413.cx,cy:_413.cy,cr:r};this._connectEvents(o);_419[i]=o;}_40b=end;return false;},this);if(this.opt.labels){var _426=has("dojo-bidi")&&this.chart.isRightToLeft();if(this.opt.labelStyle=="default"){_40b=_40a;arr.some(_40d,function(_427,i){if(_427<=0){return false;}var _428=_416[i];if(_427>=1){this.renderLabel(s,_413.cx,_413.cy+size/2,_40e[i],_428,this.opt.labelOffset>0);return true;}var end=_40b+_427*2*Math.PI;if(i+1==_40d.length){end=_40a+2*Math.PI;}if(this.opt.omitLabels&&end-_40b<0.001){return false;}var _429=(_40b+end)/2,x=_413.cx+_410*Math.cos(_429),y=_413.cy+_410*Math.sin(_429)+size/2;this.renderLabel(s,_426?dim.width-x:x,y,_40e[i],_428,this.opt.labelOffset>0);_40b=end;return false;},this);}else{if(this.opt.labelStyle=="columns"){_40b=_40a;var _42a=this.opt.omitLabels;var _42b=[];arr.forEach(_40d,function(_42c,i){var end=_40b+_42c*2*Math.PI;if(i+1==_40d.length){end=_40a+2*Math.PI;}var _42d=(_40b+end)/2;_42b.push({angle:_42d,left:Math.cos(_42d)<0,theme:_416[i],index:i,omit:_42a?end-_40b<0.001:false});_40b=end;});var _42e=g._base._getTextBox("a",{font:_409}).h;this._getProperLabelRadius(_42b,_42e,_413.r*1.1);arr.forEach(_42b,function(_42f,i){if(!_42f.omit){var _430=_413.cx-_413.r*2,_431=_413.cx+_413.r*2,_432=g._base._getTextBox(_40e[i],{font:_42f.theme.series.font}).w,x=_413.cx+_42f.labelR*Math.cos(_42f.angle),y=_413.cy+_42f.labelR*Math.sin(_42f.angle),_433=(_42f.left)?(_430+_432):(_431-_432),_434=(_42f.left)?_430:_433;var _435=s.createPath().moveTo(_413.cx+_413.r*Math.cos(_42f.angle),_413.cy+_413.r*Math.sin(_42f.angle));if(Math.abs(_42f.labelR*Math.cos(_42f.angle))<_413.r*2-_432){_435.lineTo(x,y);}_435.lineTo(_433,y).setStroke(_42f.theme.series.labelWiring);this.renderLabel(s,_426?dim.width-_432-_434:_434,y,_40e[i],_42f.theme,false,"left");}},this);}}}var esi=0;this._eventSeries[this.run.name]=df.map(run,function(v){return v<=0?null:_419[esi++];});if(has("dojo-bidi")){this._checkOrientation(this.group,dim,_408);}return this;},_getProperLabelRadius:function(_436,_437,_438){var _439,_43a,_43b=1,_43c=1;if(_436.length==1){_436[0].labelR=_438;return;}for(var i=0;i<_436.length;i++){var _43d=Math.abs(Math.sin(_436[i].angle));if(_436[i].left){if(_43b>=_43d){_43b=_43d;_439=_436[i];}}else{if(_43c>=_43d){_43c=_43d;_43a=_436[i];}}}_439.labelR=_43a.labelR=_438;this._calculateLabelR(_439,_436,_437);this._calculateLabelR(_43a,_436,_437);},_calculateLabelR:function(_43e,_43f,_440){var i=_43e.index,_441=_43f.length,_442=_43e.labelR,_443;while(!(_43f[i%_441].left^_43f[(i+1)%_441].left)){if(!_43f[(i+1)%_441].omit){_443=(Math.sin(_43f[i%_441].angle)*_442+((_43f[i%_441].left)?(-_440):_440))/Math.sin(_43f[(i+1)%_441].angle);_442=(_443<_43e.labelR)?_43e.labelR:_443;_43f[(i+1)%_441].labelR=_442;}i++;}i=_43e.index;var j=(i==0)?_441-1:i-1;while(!(_43f[i].left^_43f[j].left)){if(!_43f[j].omit){_443=(Math.sin(_43f[i].angle)*_442+((_43f[i].left)?_440:(-_440)))/Math.sin(_43f[j].angle);_442=(_443<_43e.labelR)?_43e.labelR:_443;_43f[j].labelR=_442;}i--;j--;i=(i<0)?i+_43f.length:i;j=(j<0)?j+_43f.length:j;}}});});},"dojox/charting/plot2d/Bubble":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/has","./CartesianBase","./_PlotEvents","./common","dojox/lang/functional","dojox/lang/functional/reversed","dojox/lang/utils","dojox/gfx/fx"],function(lang,_444,arr,has,_445,_446,dc,df,dfr,du,fx){var _447=dfr.lambda("item.purgeGroup()");return _444("dojox.charting.plot2d.Bubble",[_445,_446],{defaultParams:{animate:null},optionalParams:{stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:"",labelFunc:null},constructor:function(_448,_449){this.opt=lang.clone(lang.mixin(this.opt,this.defaultParams));du.updateWithObject(this.opt,_449);du.updateWithPattern(this.opt,_449,this.optionalParams);if(!this.opt.labelFunc){this.opt.labelFunc=function(_44a,_44b,_44c){return this._getLabel(_44a.size,_44b,_44c);};}this.animate=this.opt.animate;},render:function(dim,_44d){var s;if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_44d);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){arr.forEach(this.series,_447);this._eventSeries={};this.cleanGroup();s=this.getGroup();df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_44e=this.events();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();if(!run.data.length){run.dirty=false;t.skip();continue;}if(typeof run.data[0]=="number"){continue;}var _44f=t.next("circle",[this.opt,run]),_450=arr.map(run.data,function(v){return v?{x:ht(v.x)+_44d.l,y:dim.height-_44d.b-vt(v.y),radius:this._vScaler.bounds.scale*(v.size/2)}:null;},this);if(run.hidden){run.dyn.fill=_44f.series.fill;run.dyn.stroke=_44f.series.stroke;continue;}s=run.group;var _451=null,_452=null,_453=null,_454=this.opt.styleFunc;var _455=function(item){if(_454){return t.addMixin(_44f,"circle",[item,_454(item)],true);}return t.addMixin(_44f,"circle",item,true);};if(_44f.series.shadow){_453=arr.map(_450,function(item,i){if(item!==null){var _456=_455(run.data[i]),_457=_456.series.shadow;var _458=s.createCircle({cx:item.x+_457.dx,cy:item.y+_457.dy,r:item.radius}).setStroke(_457).setFill(_457.color);if(this.animate){this._animateBubble(_458,dim.height-_44d.b,item.radius);}return _458;}return null;},this);if(_453.length){run.dyn.shadow=_453[_453.length-1].getStroke();}}if(_44f.series.outline){_452=arr.map(_450,function(item,i){if(item!==null){var _459=_455(run.data[i]),_45a=dc.makeStroke(_459.series.outline);_45a.width=2*_45a.width+_44f.series.stroke.width;var _45b=s.createCircle({cx:item.x,cy:item.y,r:item.radius}).setStroke(_45a);if(this.animate){this._animateBubble(_45b,dim.height-_44d.b,item.radius);}return _45b;}return null;},this);if(_452.length){run.dyn.outline=_452[_452.length-1].getStroke();}}_451=arr.map(_450,function(item,i){if(item!==null){var _45c=_455(run.data[i]),rect={x:item.x-item.radius,y:item.y-item.radius,width:2*item.radius,height:2*item.radius};var _45d=this._plotFill(_45c.series.fill,dim,_44d);_45d=this._shapeFill(_45d,rect);var _45e=s.createCircle({cx:item.x,cy:item.y,r:item.radius}).setFill(_45d).setStroke(_45c.series.stroke);if(_45e.setFilter&&_45c.series.filter){_45e.setFilter(_45c.series.filter);}if(this.animate){this._animateBubble(_45e,dim.height-_44d.b,item.radius);}this.createLabel(s,run.data[i],rect,_45c);return _45e;}return null;},this);if(_451.length){run.dyn.fill=_451[_451.length-1].getFill();run.dyn.stroke=_451[_451.length-1].getStroke();}if(_44e){var _45f=new Array(_451.length);arr.forEach(_451,function(s,i){if(s!==null){var o={element:"circle",index:i,run:run,shape:s,outline:_452&&_452[i]||null,shadow:_453&&_453[i]||null,x:run.data[i].x,y:run.data[i].y,r:run.data[i].size/2,cx:_450[i].x,cy:_450[i].y,cr:_450[i].radius};this._connectEvents(o);_45f[i]=o;}},this);this._eventSeries[run.name]=_45f;}else{delete this._eventSeries[run.name];}run.dirty=false;}this.dirty=false;if(has("dojo-bidi")){this._checkOrientation(this.group,dim,_44d);}return this;},_animateBubble:function(_460,_461,size){fx.animateTransform(lang.delegate({shape:_460,duration:1200,transform:[{name:"translate",start:[0,_461],end:[0,0]},{name:"scale",start:[0,1/size],end:[1,1]},{name:"original"}]},this.animate)).play();}});});},"dojox/charting/plot2d/Candlesticks":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/has","./CartesianBase","./_PlotEvents","./common","dojox/lang/functional","dojox/lang/functional/reversed","dojox/lang/utils","dojox/gfx/fx"],function(lang,_462,arr,has,_463,_464,dc,df,dfr,du,fx){var _465=dfr.lambda("item.purgeGroup()");return _462("dojox.charting.plot2d.Candlesticks",[_463,_464],{defaultParams:{gap:2,animate:null},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},font:"",fontColor:""},constructor:function(_466,_467){this.opt=lang.clone(this.defaultParams);du.updateWithObject(this.opt,_467);du.updateWithPattern(this.opt,_467,this.optionalParams);this.animate=this.opt.animate;},collectStats:function(_468){var _469=lang.delegate(dc.defaultStats);for(var i=0;i<_468.length;i++){var run=_468[i];if(!run.data.length){continue;}var _46a=_469.vmin,_46b=_469.vmax;if(!("ymin" in run)||!("ymax" in run)){arr.forEach(run.data,function(val,idx){if(val!==null){var x=val.x||idx+1;_469.hmin=Math.min(_469.hmin,x);_469.hmax=Math.max(_469.hmax,x);_469.vmin=Math.min(_469.vmin,val.open,val.close,val.high,val.low);_469.vmax=Math.max(_469.vmax,val.open,val.close,val.high,val.low);}});}if("ymin" in run){_469.vmin=Math.min(_46a,run.ymin);}if("ymax" in run){_469.vmax=Math.max(_46b,run.ymax);}}return _469;},getSeriesStats:function(){var _46c=this.collectStats(this.series);_46c.hmin-=0.5;_46c.hmax+=0.5;return _46c;},render:function(dim,_46d){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_46d);}this.resetEvents();this.dirty=this.isDirty();var s;if(this.dirty){arr.forEach(this.series,_465);this._eventSeries={};this.cleanGroup();s=this.getGroup();df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,f,gap,_46e,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_46f=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);gap=f.gap;_46e=f.size;for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();var _470=t.next("candlestick",[this.opt,run]),_471=new Array(run.data.length);if(run.hidden){run.dyn.fill=_470.series.fill;run.dyn.stroke=_470.series.stroke;continue;}s=run.group;for(var j=0;j<run.data.length;++j){var v=run.data[j];if(v!==null){var _472=t.addMixin(_470,"candlestick",v,true);var x=ht(v.x||(j+0.5))+_46d.l+gap,y=dim.height-_46d.b,open=vt(v.open),_473=vt(v.close),high=vt(v.high),low=vt(v.low);if("mid" in v){var mid=vt(v.mid);}if(low>high){var tmp=high;high=low;low=tmp;}if(_46e>=1){var _474=open>_473;var line={x1:_46e/2,x2:_46e/2,y1:y-high,y2:y-low},rect={x:0,y:y-Math.max(open,_473),width:_46e,height:Math.max(_474?open-_473:_473-open,1)};var _475=s.createGroup();_475.setTransform({dx:x,dy:0});var _476=_475.createGroup();_476.createLine(line).setStroke(_472.series.stroke);_476.createRect(rect).setStroke(_472.series.stroke).setFill(_474?_472.series.fill:"white");if("mid" in v){_476.createLine({x1:(_472.series.stroke.width||1),x2:_46e-(_472.series.stroke.width||1),y1:y-mid,y2:y-mid}).setStroke(_474?"white":_472.series.stroke);}run.dyn.fill=_472.series.fill;run.dyn.stroke=_472.series.stroke;if(_46f){var o={element:"candlestick",index:j,run:run,shape:_476,x:x,y:y-Math.max(open,_473),cx:_46e/2,cy:(y-Math.max(open,_473))+(Math.max(_474?open-_473:_473-open,1)/2),width:_46e,height:Math.max(_474?open-_473:_473-open,1),data:v};this._connectEvents(o);_471[j]=o;}}if(this.animate){this._animateCandlesticks(_475,y-low,high-low);}}}this._eventSeries[run.name]=_471;run.dirty=false;}this.dirty=false;if(has("dojo-bidi")){this._checkOrientation(this.group,dim,_46d);}return this;},tooltipFunc:function(o){return "<table cellpadding=\"1\" cellspacing=\"0\" border=\"0\" style=\"font-size:0.9em;\">"+"<tr><td>Open:</td><td align=\"right\"><strong>"+o.data.open+"</strong></td></tr>"+"<tr><td>High:</td><td align=\"right\"><strong>"+o.data.high+"</strong></td></tr>"+"<tr><td>Low:</td><td align=\"right\"><strong>"+o.data.low+"</strong></td></tr>"+"<tr><td>Close:</td><td align=\"right\"><strong>"+o.data.close+"</strong></td></tr>"+(o.data.mid!==undefined?"<tr><td>Mid:</td><td align=\"right\"><strong>"+o.data.mid+"</strong></td></tr>":"")+"</table>";},_animateCandlesticks:function(_477,_478,_479){fx.animateTransform(lang.delegate({shape:_477,duration:1200,transform:[{name:"translate",start:[0,_478-(_478/_479)],end:[0,0]},{name:"scale",start:[1,1/_479],end:[1,1]},{name:"original"}]},this.animate)).play();}});});},"dojox/charting/plot2d/OHLC":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/has","./CartesianBase","./_PlotEvents","./common","dojox/lang/functional","dojox/lang/functional/reversed","dojox/lang/utils","dojox/gfx/fx"],function(lang,arr,_47a,has,_47b,_47c,dc,df,dfr,du,fx){var _47d=dfr.lambda("item.purgeGroup()");return _47a("dojox.charting.plot2d.OHLC",[_47b,_47c],{defaultParams:{gap:2,animate:null},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},font:"",fontColor:""},constructor:function(_47e,_47f){this.opt=lang.clone(this.defaultParams);du.updateWithObject(this.opt,_47f);du.updateWithPattern(this.opt,_47f,this.optionalParams);this.animate=this.opt.animate;},collectStats:function(_480){var _481=lang.delegate(dc.defaultStats);for(var i=0;i<_480.length;i++){var run=_480[i];if(!run.data.length){continue;}var _482=_481.vmin,_483=_481.vmax;if(!("ymin" in run)||!("ymax" in run)){arr.forEach(run.data,function(val,idx){if(val!==null){var x=val.x||idx+1;_481.hmin=Math.min(_481.hmin,x);_481.hmax=Math.max(_481.hmax,x);_481.vmin=Math.min(_481.vmin,val.open,val.close,val.high,val.low);_481.vmax=Math.max(_481.vmax,val.open,val.close,val.high,val.low);}});}if("ymin" in run){_481.vmin=Math.min(_482,run.ymin);}if("ymax" in run){_481.vmax=Math.max(_483,run.ymax);}}return _481;},getSeriesStats:function(){var _484=this.collectStats(this.series);_484.hmin-=0.5;_484.hmax+=0.5;return _484;},render:function(dim,_485){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_485);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){arr.forEach(this.series,_47d);this._eventSeries={};this.cleanGroup();var s=this.getGroup();df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,f,gap,_486,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_487=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);gap=f.gap;_486=f.size;for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();var _488=t.next("candlestick",[this.opt,run]),s=run.group,_489=new Array(run.data.length);for(var j=0;j<run.data.length;++j){var v=run.data[j];if(v!==null){var _48a=t.addMixin(_488,"candlestick",v,true);var x=ht(v.x||(j+0.5))+_485.l+gap,y=dim.height-_485.b,open=vt(v.open),_48b=vt(v.close),high=vt(v.high),low=vt(v.low);if(low>high){var tmp=high;high=low;low=tmp;}if(_486>=1){var hl={x1:_486/2,x2:_486/2,y1:y-high,y2:y-low},op={x1:0,x2:((_486/2)+((_48a.series.stroke.width||1)/2)),y1:y-open,y2:y-open},cl={x1:((_486/2)-((_48a.series.stroke.width||1)/2)),x2:_486,y1:y-_48b,y2:y-_48b};var _48c=s.createGroup();_48c.setTransform({dx:x,dy:0});var _48d=_48c.createGroup();_48d.createLine(hl).setStroke(_48a.series.stroke);_48d.createLine(op).setStroke(_48a.series.stroke);_48d.createLine(cl).setStroke(_48a.series.stroke);run.dyn.stroke=_48a.series.stroke;if(_487){var o={element:"candlestick",index:j,run:run,shape:_48d,x:x,y:y-Math.max(open,_48b),cx:_486/2,cy:(y-Math.max(open,_48b))+(Math.max(open>_48b?open-_48b:_48b-open,1)/2),width:_486,height:Math.max(open>_48b?open-_48b:_48b-open,1),data:v};this._connectEvents(o);_489[j]=o;}}if(this.animate){this._animateOHLC(_48c,y-low,high-low);}}}this._eventSeries[run.name]=_489;run.dirty=false;}this.dirty=false;if(has("dojo-bidi")){this._checkOrientation(this.group,dim,_485);}return this;},_animateOHLC:function(_48e,_48f,_490){fx.animateTransform(lang.delegate({shape:_48e,duration:1200,transform:[{name:"translate",start:[0,_48f-(_48f/_490)],end:[0,0]},{name:"scale",start:[1,1/_490],end:[1,1]},{name:"original"}]},this.animate)).play();}});});},"dojox/charting/plot2d/Spider":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/connect","dojo/_base/array","dojo/dom-geometry","dojo/_base/fx","dojo/fx","dojo/sniff","./Base","./_PlotEvents","./common","../axis2d/common","dojox/gfx","dojox/gfx/matrix","dojox/gfx/fx","dojox/lang/functional","dojox/lang/utils","dojo/fx/easing"],function(lang,_491,hub,arr,_492,_493,_494,has,Base,_495,dc,da,g,m,_496,df,du,_497){var _498=0.2;var _499=_491("dojox.charting.plot2d.Spider",[Base,_495],{defaultParams:{labels:true,ticks:false,fixed:true,precision:1,labelOffset:-10,labelStyle:"default",htmlLabels:true,startAngle:-90,divisions:3,axisColor:"",axisWidth:0,spiderColor:"",spiderWidth:0,seriesWidth:0,seriesFillAlpha:0.2,spiderOrigin:0.16,markerSize:3,spiderType:"polygon",animationType:_497.backOut,animate:null,axisTickFont:"",axisTickFontColor:"",axisFont:"",axisFontColor:""},optionalParams:{radius:0,font:"",fontColor:""},constructor:function(_49a,_49b){this.opt=lang.clone(this.defaultParams);du.updateWithObject(this.opt,_49b);du.updateWithPattern(this.opt,_49b,this.optionalParams);this.dyn=[];this.datas={};this.labelKey=[];this.oldSeriePoints={};this.animate=this.opt.animate===null?{}:this.opt.animate;this.animations={};},clear:function(){this.inherited(arguments);this.dyn=[];this.axes=[];this.datas={};this.labelKey=[];this.oldSeriePoints={};this.animations={};return this;},setAxis:function(axis){if(axis){if(axis.opt.min!=undefined){this.datas[axis.name].min=axis.opt.min;}if(axis.opt.max!=undefined){this.datas[axis.name].max=axis.opt.max;}}return this;},addSeries:function(run){this.series.push(run);var key;for(key in run.data){var val=run.data[key],data=this.datas[key];if(data){data.vlist.push(val);data.min=Math.min(data.min,val);data.max=Math.max(data.max,val);}else{var _49c="__"+key;this.axes.push(_49c);this[_49c]=key;this.datas[key]={min:val,max:val,vlist:[val]};}}if(this.labelKey.length<=0){for(key in run.data){this.labelKey.push(key);}}return this;},getSeriesStats:function(){return dc.collectSimpleStats(this.series);},render:function(dim,_49d){if(!this.dirty){return this;}this.dirty=false;this.cleanGroup();var s=this.group,t=this.chart.theme;this.resetEvents();if(!this.series||!this.series.length){return this;}var o=this.opt,ta=t.axis,rx=(dim.width-_49d.l-_49d.r)/2,ry=(dim.height-_49d.t-_49d.b)/2,r=Math.min(rx,ry),_49e=o.font||(ta.majorTick&&ta.majorTick.font)||(ta.tick&&ta.tick.font)||"normal normal normal 7pt Tahoma",_49f=o.axisFont||(ta.tick&&ta.tick.titleFont)||"normal normal normal 11pt Tahoma",_4a0=o.axisTickFontColor||(ta.majorTick&&ta.majorTick.fontColor)||(ta.tick&&ta.tick.fontColor)||"silver",_4a1=o.axisFontColor||(ta.tick&&ta.tick.titleFontColor)||"black",_4a2=o.axisColor||(ta.tick&&ta.tick.axisColor)||"silver",_4a3=o.spiderColor||(ta.tick&&ta.tick.spiderColor)||"silver",_4a4=o.axisWidth||(ta.stroke&&ta.stroke.width)||2,_4a5=o.spiderWidth||(ta.stroke&&ta.stroke.width)||2,_4a6=o.seriesWidth||(ta.stroke&&ta.stroke.width)||2,_4a7=g.normalizedLength(g.splitFontString(_49f).size),_4a8=m._degToRad(o.startAngle),_4a9=_4a8,_4aa,_4ab,_4ac,_4ad,_4ae,_4af,_4b0,_4b1,ro=o.spiderOrigin,dv=o.divisions>=3?o.divisions:3,ms=o.markerSize,spt=o.spiderType,at=o.animationType,_4b2=o.labelOffset<-10?o.labelOffset:-10,_4b3=0.2,i,j,_4b4,len,_4b5,_4b6,_4b7,run,data,min,max,_4b8;if(o.labels){_4aa=arr.map(this.series,function(s){return s.name;},this);_4ab=df.foldl1(df.map(_4aa,function(_4b9){var font=t.series.font;return g._base._getTextBox(_4b9,{font:font}).w;},this),"Math.max(a, b)")/2;r=Math.min(rx-2*_4ab,ry-_4a7)+_4b2;_4ac=r-_4b2;}if("radius" in o){r=o.radius;_4ac=r-_4b2;}r/=(1+_4b3);var _4ba={cx:_49d.l+rx,cy:_49d.t+ry,r:r};for(i=this.series.length-1;i>=0;i--){_4b7=this.series[i];if(!this.dirty&&!_4b7.dirty){t.skip();continue;}_4b7.cleanGroup();run=_4b7.data;if(run!==null){len=this._getObjectLength(run);if(!_4ad||_4ad.length<=0){_4ad=[],_4ae=[],_4b1=[];this._buildPoints(_4ad,len,_4ba,r,_4a9,true,dim);this._buildPoints(_4ae,len,_4ba,r*ro,_4a9,true,dim);this._buildPoints(_4b1,len,_4ba,_4ac,_4a9,false,dim);if(dv>2){_4af=[],_4b0=[];for(j=0;j<dv-2;j++){_4af[j]=[];this._buildPoints(_4af[j],len,_4ba,r*(ro+(1-ro)*(j+1)/(dv-1)),_4a9,true,dim);_4b0[j]=r*(ro+(1-ro)*(j+1)/(dv-1));}}}}}var _4bb=s.createGroup(),_4bc={color:_4a2,width:_4a4},_4bd={color:_4a3,width:_4a5};for(j=_4ad.length-1;j>=0;--j){_4b4=_4ad[j];var st={x:_4b4.x+(_4b4.x-_4ba.cx)*_4b3,y:_4b4.y+(_4b4.y-_4ba.cy)*_4b3},nd={x:_4b4.x+(_4b4.x-_4ba.cx)*_4b3/2,y:_4b4.y+(_4b4.y-_4ba.cy)*_4b3/2};_4bb.createLine({x1:_4ba.cx,y1:_4ba.cy,x2:st.x,y2:st.y}).setStroke(_4bc);this._drawArrow(_4bb,st,nd,_4bc);}var _4be=s.createGroup();for(j=_4b1.length-1;j>=0;--j){_4b4=_4b1[j];_4b5=g._base._getTextBox(this.labelKey[j],{font:_49f}).w||0;_4b6=this.opt.htmlLabels&&g.renderer!="vml"?"html":"gfx";var elem=da.createText[_4b6](this.chart,_4be,(!_492.isBodyLtr()&&_4b6=="html")?(_4b4.x+_4b5-dim.width):_4b4.x,_4b4.y,"middle",this.labelKey[j],_49f,_4a1);if(this.opt.htmlLabels){this.htmlElements.push(elem);}}var _4bf=s.createGroup();if(spt=="polygon"){_4bf.createPolyline(_4ad).setStroke(_4bd);_4bf.createPolyline(_4ae).setStroke(_4bd);if(_4af.length>0){for(j=_4af.length-1;j>=0;--j){_4bf.createPolyline(_4af[j]).setStroke(_4bd);}}}else{_4bf.createCircle({cx:_4ba.cx,cy:_4ba.cy,r:r}).setStroke(_4bd);_4bf.createCircle({cx:_4ba.cx,cy:_4ba.cy,r:r*ro}).setStroke(_4bd);if(_4b0.length>0){for(j=_4b0.length-1;j>=0;--j){_4bf.createCircle({cx:_4ba.cx,cy:_4ba.cy,r:_4b0[j]}).setStroke(_4bd);}}}len=this._getObjectLength(this.datas);var _4c0=s.createGroup(),k=0;for(var key in this.datas){data=this.datas[key];min=data.min;max=data.max;_4b8=max-min;end=_4a9+2*Math.PI*k/len;for(i=0;i<dv;i++){var text=min+_4b8*i/(dv-1);_4b4=this._getCoordinate(_4ba,r*(ro+(1-ro)*i/(dv-1)),end,dim);text=this._getLabel(text);_4b5=g._base._getTextBox(text,{font:_49e}).w||0;_4b6=this.opt.htmlLabels&&g.renderer!="vml"?"html":"gfx";if(this.opt.htmlLabels){this.htmlElements.push(da.createText[_4b6](this.chart,_4c0,(!_492.isBodyLtr()&&_4b6=="html")?(_4b4.x+_4b5-dim.width):_4b4.x,_4b4.y,"start",text,_49e,_4a0));}}k++;}this.chart.seriesShapes={};for(i=this.series.length-1;i>=0;i--){_4b7=this.series[i];run=_4b7.data;if(run!==null){var _4c1=t.next("spider",[o,_4b7]),f=g.normalizeColor(_4c1.series.fill),sk={color:_4c1.series.fill,width:_4a6};f.a=o.seriesFillAlpha;_4b7.dyn={fill:f,stroke:sk};if(_4b7.hidden){continue;}var _4c2=[],_4c3=[];k=0;for(key in run){data=this.datas[key];min=data.min;max=data.max;_4b8=max-min;var _4c4=run[key],end=_4a9+2*Math.PI*k/len;_4b4=this._getCoordinate(_4ba,r*(ro+(1-ro)*(_4c4-min)/_4b8),end,dim);_4c2.push(_4b4);_4c3.push({sname:_4b7.name,key:key,data:_4c4});k++;}_4c2[_4c2.length]=_4c2[0];_4c3[_4c3.length]=_4c3[0];var _4c5=this._getBoundary(_4c2),ts=_4b7.group;var osps=this.oldSeriePoints[_4b7.name];var cs=this._createSeriesEntry(ts,(osps||_4ae),_4c2,f,sk,r,ro,ms,at);this.chart.seriesShapes[_4b7.name]=cs;this.oldSeriePoints[_4b7.name]=_4c2;var po={element:"spider_poly",index:i,id:"spider_poly_"+_4b7.name,run:_4b7,plot:this,shape:cs.poly,parent:ts,brect:_4c5,cx:_4ba.cx,cy:_4ba.cy,cr:r,f:f,s:s};this._connectEvents(po);var so={element:"spider_plot",index:i,id:"spider_plot_"+_4b7.name,run:_4b7,plot:this,shape:_4b7.group};this._connectEvents(so);arr.forEach(cs.circles,function(c,i){var co={element:"spider_circle",index:i,id:"spider_circle_"+_4b7.name+i,run:_4b7,plot:this,shape:c,parent:ts,tdata:_4c3[i],cx:_4c2[i].x,cy:_4c2[i].y,f:f,s:s};this._connectEvents(co);},this);}}return this;},_createSeriesEntry:function(ts,osps,sps,f,sk,r,ro,ms,at){var _4c6=this.animate?osps:sps;var _4c7=ts.createPolyline(_4c6).setFill(f).setStroke(sk),_4c8=[];for(var j=0;j<_4c6.length;j++){var _4c9=_4c6[j],cr=ms;var _4ca=ts.createCircle({cx:_4c9.x,cy:_4c9.y,r:cr}).setFill(f).setStroke(sk);_4c8.push(_4ca);}if(this.animate){var _4cb=arr.map(sps,function(np,j){var sp=osps[j],anim=new _493.Animation(lang.delegate({duration:1000,easing:at,curve:[sp.y,np.y]},this.animate));var spl=_4c7,sc=_4c8[j];hub.connect(anim,"onAnimate",function(y){var _4cc=spl.getShape();_4cc.points[j].y=y;spl.setShape(_4cc);var _4cd=sc.getShape();_4cd.cy=y;sc.setShape(_4cd);});return anim;},this);var _4ce=arr.map(sps,function(np,j){var sp=osps[j],anim=new _493.Animation(lang.delegate({duration:1000,easing:at,curve:[sp.x,np.x]},this.animate));var spl=_4c7,sc=_4c8[j];hub.connect(anim,"onAnimate",function(x){var _4cf=spl.getShape();_4cf.points[j].x=x;spl.setShape(_4cf);var _4d0=sc.getShape();_4d0.cx=x;sc.setShape(_4d0);});return anim;},this);var _4d1=_494.combine(_4cb.concat(_4ce));_4d1.play();}return {group:ts,poly:_4c7,circles:_4c8};},plotEvent:function(o){if(o.element=="spider_plot"){if(o.type=="onmouseover"&&!has("ie")){o.shape.moveToFront();}}},tooltipFunc:function(o){if(o.element=="spider_circle"){return o.tdata.sname+"<br/>"+o.tdata.key+"<br/>"+o.tdata.data;}else{return null;}},_getBoundary:function(_4d2){var xmax=_4d2[0].x,xmin=_4d2[0].x,ymax=_4d2[0].y,ymin=_4d2[0].y;for(var i=0;i<_4d2.length;i++){var _4d3=_4d2[i];xmax=Math.max(_4d3.x,xmax);ymax=Math.max(_4d3.y,ymax);xmin=Math.min(_4d3.x,xmin);ymin=Math.min(_4d3.y,ymin);}return {x:xmin,y:ymin,width:xmax-xmin,height:ymax-ymin};},_drawArrow:function(s,_4d4,end,_4d5){var len=Math.sqrt(Math.pow(end.x-_4d4.x,2)+Math.pow(end.y-_4d4.y,2)),sin=(end.y-_4d4.y)/len,cos=(end.x-_4d4.x)/len,_4d6={x:end.x+(len/3)*(-sin),y:end.y+(len/3)*cos},_4d7={x:end.x+(len/3)*sin,y:end.y+(len/3)*(-cos)};s.createPolyline([_4d4,_4d6,_4d7]).setFill(_4d5.color).setStroke(_4d5);},_buildPoints:function(_4d8,_4d9,_4da,_4db,_4dc,_4dd,dim){for(var i=0;i<_4d9;i++){var end=_4dc+2*Math.PI*i/_4d9;_4d8.push(this._getCoordinate(_4da,_4db,end,dim));}if(_4dd){_4d8.push(this._getCoordinate(_4da,_4db,_4dc+2*Math.PI,dim));}},_getCoordinate:function(_4de,_4df,_4e0,dim){var x=_4de.cx+_4df*Math.cos(_4e0);if(has("dojo-bidi")&&this.chart.isRightToLeft()&&dim){x=dim.width-x;}return {x:x,y:_4de.cy+_4df*Math.sin(_4e0)};},_getObjectLength:function(obj){var _4e1=0;if(lang.isObject(obj)){for(var key in obj){_4e1++;}}return _4e1;},_getLabel:function(_4e2){return dc.getLabel(_4e2,this.opt.fixed,this.opt.precision);}});return _499;});},"dojox/charting/action2d/Highlight":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/Color","dojo/_base/connect","dojox/color/_base","./PlotAction","dojo/fx/easing","dojox/gfx/fx"],function(lang,_4e3,_4e4,hub,c,_4e5,dfe,dgf){var _4e6=100,_4e7=75,_4e8=50,cc=function(_4e9){return function(){return _4e9;};},hl=function(_4ea){var a=new c.Color(_4ea),x=a.toHsl();if(x.s==0){x.l=x.l<50?100:0;}else{x.s=_4e6;if(x.l<_4e8){x.l=_4e7;}else{if(x.l>_4e7){x.l=_4e8;}else{x.l=x.l-_4e8>_4e7-x.l?_4e8:_4e7;}}}var _4eb=c.fromHsl(x);_4eb.a=a.a;return _4eb;},_4ec=function(_4ed){var r=hl(_4ed);r.a=0.7;return r;};return _4e3("dojox.charting.action2d.Highlight",_4e5,{defaultParams:{duration:400,easing:dfe.backOut},optionalParams:{highlight:"red"},constructor:function(_4ee,plot,_4ef){var a=_4ef&&_4ef.highlight;this.colorFunc=a?(lang.isFunction(a)?a:cc(a)):hl;this.connect();},process:function(o){if(!o.shape||!(o.type in this.overOutEvents)){return;}if(o.element=="spider_circle"||o.element=="spider_plot"){return;}else{if(o.element=="spider_poly"&&this.colorFunc==hl){this.colorFunc=_4ec;}}var _4f0=o.run.name,_4f1=o.index,anim;if(_4f0 in this.anim){anim=this.anim[_4f0][_4f1];}else{this.anim[_4f0]={};}if(anim){anim.action.stop(true);}else{var _4f2=o.shape.getFill();if(!_4f2||!(_4f2 instanceof _4e4)){return;}this.anim[_4f0][_4f1]=anim={start:_4f2,end:this.colorFunc(_4f2)};}var _4f3=anim.start,end=anim.end;if(o.type=="onmouseout"){var t=_4f3;_4f3=end;end=t;}anim.action=dgf.animateFill({shape:o.shape,duration:this.duration,easing:this.easing,color:{start:_4f3,end:end}});if(o.type=="onmouseout"){hub.connect(anim.action,"onEnd",this,function(){if(this.anim[_4f0]){delete this.anim[_4f0][_4f1];}});}anim.action.play();}});});},"dojox/charting/action2d/PlotAction":function(){define(["dojo/_base/connect","dojo/_base/declare","./Base","dojo/fx/easing","dojox/lang/functional"],function(hub,_4f4,Base,dfe,df){var _4f5=400,_4f6=dfe.backOut;return _4f4("dojox.charting.action2d.PlotAction",Base,{overOutEvents:{onmouseover:1,onmouseout:1},constructor:function(_4f7,plot,_4f8){this.anim={};if(!_4f8){_4f8={};}this.duration=_4f8.duration?_4f8.duration:_4f5;this.easing=_4f8.easing?_4f8.easing:_4f6;},connect:function(){this.handle=this.chart.connectToPlot(this.plot.name,this,"process");},disconnect:function(){if(this.handle){hub.disconnect(this.handle);this.handle=null;}},reset:function(){},destroy:function(){this.inherited(arguments);df.forIn(this.anim,function(o){df.forIn(o,function(anim){anim.action.stop(true);});});this.anim={};}});});},"dojox/charting/action2d/Base":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/Evented"],function(lang,_4f9,_4fa){return _4f9("dojox.charting.action2d.Base",_4fa,{constructor:function(_4fb,plot){this.chart=_4fb;this.plot=plot?(lang.isString(plot)?this.chart.getPlot(plot):plot):this.chart.getPlot("default");},connect:function(){},disconnect:function(){},destroy:function(){this.disconnect();}});});},"dojox/charting/action2d/Magnify":function(){define(["dojo/_base/connect","dojo/_base/declare","./PlotAction","dojox/gfx/matrix","dojox/gfx/fx","dojo/fx","dojo/fx/easing"],function(Hub,_4fc,_4fd,m,gf,df,dfe){var _4fe=2;return _4fc("dojox.charting.action2d.Magnify",_4fd,{defaultParams:{duration:400,easing:dfe.backOut,scale:_4fe},optionalParams:{},constructor:function(_4ff,plot,_500){this.scale=_500&&typeof _500.scale=="number"?_500.scale:_4fe;this.connect();},process:function(o){if(!o.shape||!(o.type in this.overOutEvents)||!("cx" in o)||!("cy" in o)){return;}if(o.element=="spider_plot"||o.element=="spider_poly"){return;}var _501=o.run.name,_502=o.index,_503=[],anim,init,_504;if(_501 in this.anim){anim=this.anim[_501][_502];}else{this.anim[_501]={};}if(anim){anim.action.stop(true);}else{this.anim[_501][_502]=anim={};}if(o.type=="onmouseover"){init=m.identity;_504=this.scale;}else{init=m.scaleAt(this.scale,o.cx,o.cy);_504=1/this.scale;}var _505={shape:o.shape,duration:this.duration,easing:this.easing,transform:[{name:"scaleAt",start:[1,o.cx,o.cy],end:[_504,o.cx,o.cy]},init]};if(o.shape){_503.push(gf.animateTransform(_505));}if(o.outline){_505.shape=o.outline;_503.push(gf.animateTransform(_505));}if(o.shadow){_505.shape=o.shadow;_503.push(gf.animateTransform(_505));}if(!_503.length){delete this.anim[_501][_502];return;}anim.action=df.combine(_503);if(o.type=="onmouseout"){Hub.connect(anim.action,"onEnd",this,function(){if(this.anim[_501]){delete this.anim[_501][_502];}});}anim.action.play();}});});},"dojox/charting/action2d/MoveSlice":function(){define(["dojo/_base/connect","dojo/_base/declare","dojo/_base/array","./PlotAction","dojo/fx/easing","dojox/gfx/matrix","dojox/gfx/fx","dojox/lang/functional","dojox/lang/functional/scan","dojox/lang/functional/fold"],function(hub,_506,_507,_508,dfe,m,gf,df){var _509=1.05,_50a=7;return _506("dojox.charting.action2d.MoveSlice",_508,{defaultParams:{duration:400,easing:dfe.backOut,scale:_509,shift:_50a},optionalParams:{},constructor:function(_50b,plot,_50c){if(!_50c){_50c={};}this.scale=typeof _50c.scale=="number"?_50c.scale:_509;this.shift=typeof _50c.shift=="number"?_50c.shift:_50a;this.connect();},process:function(o){if(!o.shape||o.element!="slice"||!(o.type in this.overOutEvents)){return;}if(!this.angles){var _50d=m._degToRad(o.plot.opt.startAngle);if(typeof o.run.data[0]=="number"){this.angles=df.map(df.scanl(o.run.data,"+",0),"* 2 * Math.PI / this",df.foldl(o.run.data,"+",0));}else{this.angles=df.map(df.scanl(o.run.data,"a + b.y",0),"* 2 * Math.PI / this",df.foldl(o.run.data,"a + b.y",0));}this.angles=_507.map(this.angles,function(item){return item+_50d;});}var _50e=o.index,anim,_50f,_510,_511,_512,_513=(this.angles[_50e]+this.angles[_50e+1])/2,_514=m.rotateAt(-_513,o.cx,o.cy),_515=m.rotateAt(_513,o.cx,o.cy);anim=this.anim[_50e];if(anim){anim.action.stop(true);}else{this.anim[_50e]=anim={};}if(o.type=="onmouseover"){_511=0;_512=this.shift;_50f=1;_510=this.scale;}else{_511=this.shift;_512=0;_50f=this.scale;_510=1;}anim.action=gf.animateTransform({shape:o.shape,duration:this.duration,easing:this.easing,transform:[_515,{name:"translate",start:[_511,0],end:[_512,0]},{name:"scaleAt",start:[_50f,o.cx,o.cy],end:[_510,o.cx,o.cy]},_514]});if(o.type=="onmouseout"){hub.connect(anim.action,"onEnd",this,function(){delete this.anim[_50e];});}anim.action.play();},reset:function(){delete this.angles;}});});},"dojox/lang/functional/scan":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(_516,lang,df){var _517={};lang.mixin(df,{scanl:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||_516.global;f=df.lambda(f);var t,n,i;if(lang.isArray(a)){t=new Array((n=a.length)+1);t[0]=z;for(i=0;i<n;z=f.call(o,z,a[i],i,a),t[++i]=z){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){t=[z];for(i=0;a.hasNext();t.push(z=f.call(o,z,a.next(),i++,a))){}}else{t=[z];for(i in a){if(!(i in _517)){t.push(z=f.call(o,z,a[i],i,a));}}}}return t;},scanl1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_516.global;f=df.lambda(f);var t,n,z,_518=true;if(lang.isArray(a)){t=new Array(n=a.length);t[0]=z=a[0];for(var i=1;i<n;t[i]=z=f.call(o,z,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){if(a.hasNext()){t=[z=a.next()];for(i=1;a.hasNext();t.push(z=f.call(o,z,a.next(),i++,a))){}}}else{for(i in a){if(!(i in _517)){if(_518){t=[z=a[i]];_518=false;}else{t.push(z=f.call(o,z,a[i],i,a));}}}}}return t;},scanr:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||_516.global;f=df.lambda(f);var n=a.length,t=new Array(n+1),i=n;t[n]=z;for(;i>0;--i,z=f.call(o,z,a[i],i,a),t[i]=z){}return t;},scanr1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||_516.global;f=df.lambda(f);var n=a.length,t=new Array(n),z=a[n-1],i=n-1;t[i]=z;for(;i>0;--i,z=f.call(o,z,a[i],i,a),t[i]=z){}return t;}});});},"dojox/charting/action2d/Shake":function(){define(["dojo/_base/connect","dojo/_base/declare","./PlotAction","dojo/fx","dojo/fx/easing","dojox/gfx/matrix","dojox/gfx/fx"],function(hub,_519,_51a,df,dfe,m,gf){var _51b=3;return _519("dojox.charting.action2d.Shake",_51a,{defaultParams:{duration:400,easing:dfe.backOut,shiftX:_51b,shiftY:_51b},optionalParams:{},constructor:function(_51c,plot,_51d){if(!_51d){_51d={};}this.shiftX=typeof _51d.shiftX=="number"?_51d.shiftX:_51b;this.shiftY=typeof _51d.shiftY=="number"?_51d.shiftY:_51b;this.connect();},process:function(o){if(!o.shape||!(o.type in this.overOutEvents)){return;}var _51e=o.run.name,_51f=o.index,_520=[],anim;if(_51e in this.anim){anim=this.anim[_51e][_51f];}else{this.anim[_51e]={};}if(anim){anim.action.stop(true);}else{this.anim[_51e][_51f]=anim={};}var _521={shape:o.shape,duration:this.duration,easing:this.easing,transform:[{name:"translate",start:[this.shiftX,this.shiftY],end:[0,0]},m.identity]};if(o.shape){_520.push(gf.animateTransform(_521));}if(o.oultine){_521.shape=o.outline;_520.push(gf.animateTransform(_521));}if(o.shadow){_521.shape=o.shadow;_520.push(gf.animateTransform(_521));}if(!_520.length){delete this.anim[_51e][_51f];return;}anim.action=df.combine(_520);if(o.type=="onmouseout"){hub.connect(anim.action,"onEnd",this,function(){if(this.anim[_51e]){delete this.anim[_51e][_51f];}});}anim.action.play();}});});},"dojox/charting/action2d/Tooltip":function(){define(["dijit/Tooltip","dojo/_base/lang","dojo/_base/declare","dojo/_base/window","dojo/_base/connect","dojo/dom-style","./PlotAction","dojox/gfx/matrix","dojo/has","dojo/has!dojo-bidi?../bidi/action2d/Tooltip","dojox/lang/functional","dojox/lang/functional/scan","dojox/lang/functional/fold"],function(_522,lang,_523,win,hub,_524,_525,m,has,_526,df){var _527=function(o,plot){var t=o.run&&o.run.data&&o.run.data[o.index];if(t&&typeof t!="number"&&(t.tooltip||t.text)){return t.tooltip||t.text;}if(plot.tooltipFunc){return plot.tooltipFunc(o);}else{return o.y;}};var pi4=Math.PI/4,pi2=Math.PI/2;var _528=_523(has("dojo-bidi")?"dojox.charting.action2d.NonBidiTooltip":"dojox.charting.action2d.Tooltip",_525,{defaultParams:{text:_527,mouseOver:true},optionalParams:{},constructor:function(_529,plot,_52a){this.text=_52a&&_52a.text?_52a.text:_527;this.mouseOver=_52a&&_52a.mouseOver!=undefined?_52a.mouseOver:true;this.connect();},process:function(o){if(o.type==="onplotreset"||o.type==="onmouseout"){_522.hide(this.aroundRect);this.aroundRect=null;if(o.type==="onplotreset"){delete this.angles;}return;}if(!o.shape||(this.mouseOver&&o.type!=="onmouseover")||(!this.mouseOver&&o.type!=="onclick")){return;}var _52b={type:"rect"},_52c=["after-centered","before-centered"];switch(o.element){case "marker":_52b.x=o.cx;_52b.y=o.cy;_52b.w=_52b.h=1;break;case "circle":_52b.x=o.cx-o.cr;_52b.y=o.cy-o.cr;_52b.w=_52b.h=2*o.cr;break;case "spider_circle":_52b.x=o.cx;_52b.y=o.cy;_52b.w=_52b.h=1;break;case "spider_plot":return;case "column":_52c=["above-centered","below-centered"];case "bar":_52b=lang.clone(o.shape.getShape());_52b.w=_52b.width;_52b.h=_52b.height;break;case "candlestick":_52b.x=o.x;_52b.y=o.y;_52b.w=o.width;_52b.h=o.height;break;default:if(!this.angles){var _52d=typeof o.run.data[0]=="number"?df.map(o.run.data,"x ? Math.max(x, 0) : 0"):df.map(o.run.data,"x ? Math.max(x.y, 0) : 0");this.angles=df.map(df.scanl(_52d,"+",0),"* 2 * Math.PI / this",df.foldl(_52d,"+",0));}var _52e=m._degToRad(o.plot.opt.startAngle),_52f=(this.angles[o.index]+this.angles[o.index+1])/2+_52e;_52b.x=o.cx+o.cr*Math.cos(_52f);_52b.y=o.cy+o.cr*Math.sin(_52f);_52b.w=_52b.h=1;if(_52e&&(_52f<0||_52f>2*Math.PI)){_52f=Math.abs(2*Math.PI-Math.abs(_52f));}if(_52f<pi4){}else{if(_52f<pi2+pi4){_52c=["below-centered","above-centered"];}else{if(_52f<Math.PI+pi4){_52c=["before-centered","after-centered"];}else{if(_52f<2*Math.PI-pi4){_52c=["above-centered","below-centered"];}}}}break;}if(has("dojo-bidi")){this._recheckPosition(o,_52b,_52c);}var lt=this.chart.getCoords();_52b.x+=lt.x;_52b.y+=lt.y;_52b.x=Math.round(_52b.x);_52b.y=Math.round(_52b.y);_52b.w=Math.ceil(_52b.w);_52b.h=Math.ceil(_52b.h);this.aroundRect=_52b;var _530=this.text(o,this.plot);if(_530){_522.show(this._format(_530),this.aroundRect,_52c);}if(!this.mouseOver){this._handle=hub.connect(win.doc,"onclick",this,"onClick");}},onClick:function(){this.process({type:"onmouseout"});},_recheckPosition:function(obj,rect,_531){},_format:function(_532){return _532;}});return has("dojo-bidi")?_523("dojox.charting.action2d.Tooltip",[_528,_526]):_528;});},"dojox/charting/widget/Legend":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojox/gfx","dojo/_base/array","dojo/has","dojo/has!dojo-bidi?../bidi/widget/Legend","dojox/lang/functional","dojo/dom","dojo/dom-construct","dojo/dom-class","dijit/registry"],function(_533,_534,gfx,arr,has,_535,df,dom,_536,_537,_538){var _539=_533(has("dojo-bidi")?"dojox.charting.widget.NonBidiLegend":"dojox.charting.widget.Legend",_534,{chartRef:"",horizontal:true,swatchSize:18,legendBody:null,postCreate:function(){if(!this.chart&&this.chartRef){this.chart=_538.byId(this.chartRef)||_538.byNode(dom.byId(this.chartRef));if(!this.chart){}}this.chart=this.chart.chart||this.chart;this.refresh();},buildRendering:function(){this.domNode=_536.create("table",{role:"group","aria-label":"chart legend","class":"dojoxLegendNode"});this.legendBody=_536.create("tbody",null,this.domNode);this.inherited(arguments);},destroy:function(){if(this._surfaces){arr.forEach(this._surfaces,function(_53a){_53a.destroy();});}this.inherited(arguments);},refresh:function(){if(this._surfaces){arr.forEach(this._surfaces,function(_53b){_53b.destroy();});}this._surfaces=[];while(this.legendBody.lastChild){_536.destroy(this.legendBody.lastChild);}if(this.horizontal){_537.add(this.domNode,"dojoxLegendHorizontal");this._tr=_536.create("tr",null,this.legendBody);this._inrow=0;}var s=this.series||this.chart.series;if(s.length==0){return;}if(s[0].chart.stack[0].declaredClass=="dojox.charting.plot2d.Pie"){var t=s[0].chart.stack[0];if(typeof t.run.data[0]=="number"){var _53c=df.map(t.run.data,"Math.max(x, 0)");var _53d=df.map(_53c,"/this",df.foldl(_53c,"+",0));arr.forEach(_53d,function(x,i){this._addLabel(t.dyn[i],t._getLabel(x*100)+"%");},this);}else{arr.forEach(t.run.data,function(x,i){this._addLabel(t.dyn[i],x.legend||x.text||x.y);},this);}}else{arr.forEach(s,function(x){this._addLabel(x.dyn,x.legend||x.name);},this);}},_addLabel:function(dyn,_53e){var _53f=_536.create("td"),icon=_536.create("div",null,_53f),text=_536.create("label",null,_53f),div=_536.create("div",{style:{"width":this.swatchSize+"px","height":this.swatchSize+"px","float":"left"}},icon);_537.add(icon,"dojoxLegendIcon dijitInline");_537.add(text,"dojoxLegendText");if(this._tr){this._tr.appendChild(_53f);if(++this._inrow===this.horizontal){this._tr=_536.create("tr",null,this.legendBody);this._inrow=0;}}else{var tr=_536.create("tr",null,this.legendBody);tr.appendChild(_53f);}this._makeIcon(div,dyn);text.innerHTML=String(_53e);if(has("dojo-bidi")){text.dir=this.getTextDir(_53e,text.dir);}},_makeIcon:function(div,dyn){var mb={h:this.swatchSize,w:this.swatchSize};var _540=gfx.createSurface(div,mb.w,mb.h);this._surfaces.push(_540);if(dyn.fill){_540.createRect({x:2,y:2,width:mb.w-4,height:mb.h-4}).setFill(dyn.fill).setStroke(dyn.stroke);}else{if(dyn.stroke||dyn.marker){var line={x1:0,y1:mb.h/2,x2:mb.w,y2:mb.h/2};if(dyn.stroke){_540.createLine(line).setStroke(dyn.stroke);}if(dyn.marker){var c={x:mb.w/2,y:mb.h/2};_540.createPath({path:"M"+c.x+" "+c.y+" "+dyn.marker}).setFill(dyn.markerFill).setStroke(dyn.markerStroke);}}else{_540.createRect({x:2,y:2,width:mb.w-4,height:mb.h-4}).setStroke("black");_540.createLine({x1:2,y1:2,x2:mb.w-2,y2:mb.h-2}).setStroke("black");_540.createLine({x1:2,y1:mb.h-2,x2:mb.w-2,y2:2}).setStroke("black");}}}});return has("dojo-bidi")?_533("dojox.charting.widget.Legend",[_539,_535]):_539;});},"dojox/data/dom":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojox/xml/parser"],function(_541,lang,_542){dojo.deprecated("dojox.data.dom","Use dojox.xml.parser instead.","2.0");var _543=lang.getObject("dojox.data.dom",true);_543.createDocument=function(str,_544){dojo.deprecated("dojox.data.dom.createDocument()","Use dojox.xml.parser.parse() instead.","2.0");try{return _542.parse(str,_544);}catch(e){return null;}};_543.textContent=function(node,text){dojo.deprecated("dojox.data.dom.textContent()","Use dojox.xml.parser.textContent() instead.","2.0");if(arguments.length>1){return _542.textContent(node,text);}else{return _542.textContent(node);}};_543.replaceChildren=function(node,_545){dojo.deprecated("dojox.data.dom.replaceChildren()","Use dojox.xml.parser.replaceChildren() instead.","2.0");_542.replaceChildren(node,_545);};_543.removeChildren=function(node){dojo.deprecated("dojox.data.dom.removeChildren()","Use dojox.xml.parser.removeChildren() instead.","2.0");return dojox.xml.parser.removeChildren(node);};_543.innerXML=function(node){dojo.deprecated("dojox.data.dom.innerXML()","Use dojox.xml.parser.innerXML() instead.","2.0");return _542.innerXML(node);};return _543;});},"dojox/xml/parser":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/_base/window","dojo/_base/sniff"],function(dojo){dojo.getObject("xml.parser",true,dojox);dojox.xml.parser.parse=function(str,_546){var _547=dojo.doc;var doc;_546=_546||"text/xml";if(str&&dojo.trim(str)&&"DOMParser" in dojo.global){var _548=new DOMParser();doc=_548.parseFromString(str,_546);var de=doc.documentElement;var _549="http://www.mozilla.org/newlayout/xml/parsererror.xml";if(de.nodeName=="parsererror"&&de.namespaceURI==_549){var _54a=de.getElementsByTagNameNS(_549,"sourcetext")[0];if(_54a){_54a=_54a.firstChild.data;}throw new Error("Error parsing text "+de.firstChild.data+" \n"+_54a);}return doc;}else{if("ActiveXObject" in dojo.global){var ms=function(n){return "MSXML"+n+".DOMDocument";};var dp=["Microsoft.XMLDOM",ms(6),ms(4),ms(3),ms(2)];dojo.some(dp,function(p){try{doc=new ActiveXObject(p);}catch(e){return false;}return true;});if(str&&doc){doc.async=false;doc.loadXML(str);var pe=doc.parseError;if(pe.errorCode!==0){throw new Error("Line: "+pe.line+"\n"+"Col: "+pe.linepos+"\n"+"Reason: "+pe.reason+"\n"+"Error Code: "+pe.errorCode+"\n"+"Source: "+pe.srcText);}}if(doc){return doc;}}else{if(_547.implementation&&_547.implementation.createDocument){if(str&&dojo.trim(str)&&_547.createElement){var tmp=_547.createElement("xml");tmp.innerHTML=str;var _54b=_547.implementation.createDocument("foo","",null);dojo.forEach(tmp.childNodes,function(_54c){_54b.importNode(_54c,true);});return _54b;}else{return _547.implementation.createDocument("","",null);}}}}return null;};dojox.xml.parser.textContent=function(node,text){if(arguments.length>1){var _54d=node.ownerDocument||dojo.doc;dojox.xml.parser.replaceChildren(node,_54d.createTextNode(text));return text;}else{if(node.textContent!==undefined){return node.textContent;}var _54e="";if(node){dojo.forEach(node.childNodes,function(_54f){switch(_54f.nodeType){case 1:case 5:_54e+=dojox.xml.parser.textContent(_54f);break;case 3:case 2:case 4:_54e+=_54f.nodeValue;}});}return _54e;}};dojox.xml.parser.replaceChildren=function(node,_550){var _551=[];if(dojo.isIE){dojo.forEach(node.childNodes,function(_552){_551.push(_552);});}dojox.xml.parser.removeChildren(node);dojo.forEach(_551,dojo.destroy);if(!dojo.isArray(_550)){node.appendChild(_550);}else{dojo.forEach(_550,function(_553){node.appendChild(_553);});}};dojox.xml.parser.removeChildren=function(node){var _554=node.childNodes.length;while(node.hasChildNodes()){node.removeChild(node.firstChild);}return _554;};dojox.xml.parser.innerXML=function(node){if(node.innerXML){return node.innerXML;}else{if(node.xml){return node.xml;}else{if(typeof XMLSerializer!="undefined"){return (new XMLSerializer()).serializeToString(node);}}}return null;};return dojox.xml.parser;});},"dojox/data/QueryReadStore":function(){define(["dojo","dojox","dojo/data/util/sorter","dojo/string"],function(dojo,_555){return dojo.declare("dojox.data.QueryReadStore",null,{url:"",requestMethod:"get",_className:"dojox.data.QueryReadStore",_items:[],_lastServerQuery:null,_numRows:-1,lastRequestHash:null,doClientPaging:false,doClientSorting:false,_itemsByIdentity:null,_identifier:null,_features:{"dojo.data.api.Read":true,"dojo.data.api.Identity":true},_labelAttr:"label",constructor:function(_556){dojo.mixin(this,_556);},getValue:function(item,_557,_558){this._assertIsItem(item);if(!dojo.isString(_557)){throw new Error(this._className+".getValue(): Invalid attribute, string expected!");}if(!this.hasAttribute(item,_557)){if(_558){return _558;}}return item.i[_557];},getValues:function(item,_559){this._assertIsItem(item);var ret=[];if(this.hasAttribute(item,_559)){ret.push(item.i[_559]);}return ret;},getAttributes:function(item){this._assertIsItem(item);var ret=[];for(var i in item.i){ret.push(i);}return ret;},hasAttribute:function(item,_55a){return this.isItem(item)&&typeof item.i[_55a]!="undefined";},containsValue:function(item,_55b,_55c){var _55d=this.getValues(item,_55b);var len=_55d.length;for(var i=0;i<len;i++){if(_55d[i]==_55c){return true;}}return false;},isItem:function(_55e){if(_55e){return typeof _55e.r!="undefined"&&_55e.r==this;}return false;},isItemLoaded:function(_55f){return this.isItem(_55f);},loadItem:function(args){if(this.isItemLoaded(args.item)){return;}},fetch:function(_560){_560=_560||{};if(!_560.store){_560.store=this;}var self=this;var _561=function(_562,_563){if(_563.onError){var _564=_563.scope||dojo.global;_563.onError.call(_564,_562,_563);}};var _565=function(_566,_567,_568){var _569=_567.abort||null;var _56a=false;var _56b=_567.start?_567.start:0;if(self.doClientPaging==false){_56b=0;}var _56c=_567.count?(_56b+_567.count):_566.length;_567.abort=function(){_56a=true;if(_569){_569.call(_567);}};var _56d=_567.scope||dojo.global;if(!_567.store){_567.store=self;}if(_567.onBegin){_567.onBegin.call(_56d,_568,_567);}if(_567.sort&&self.doClientSorting){_566.sort(dojo.data.util.sorter.createSortFunction(_567.sort,self));}if(_567.onItem){for(var i=_56b;(i<_566.length)&&(i<_56c);++i){var item=_566[i];if(!_56a){_567.onItem.call(_56d,item,_567);}}}if(_567.onComplete&&!_56a){var _56e=null;if(!_567.onItem){_56e=_566.slice(_56b,_56c);}_567.onComplete.call(_56d,_56e,_567);}};this._fetchItems(_560,_565,_561);return _560;},getFeatures:function(){return this._features;},close:function(_56f){},getLabel:function(item){if(this._labelAttr&&this.isItem(item)){return this.getValue(item,this._labelAttr);}return undefined;},getLabelAttributes:function(item){if(this._labelAttr){return [this._labelAttr];}return null;},_xhrFetchHandler:function(data,_570,_571,_572){data=this._filterResponse(data);if(data.label){this._labelAttr=data.label;}var _573=data.numRows||-1;this._items=[];dojo.forEach(data.items,function(e){this._items.push({i:e,r:this});},this);var _574=data.identifier;this._itemsByIdentity={};if(_574){this._identifier=_574;var i;for(i=0;i<this._items.length;++i){var item=this._items[i].i;var _575=item[_574];if(!this._itemsByIdentity[_575]){this._itemsByIdentity[_575]=item;}else{throw new Error(this._className+":  The json data as specified by: ["+this.url+"] is malformed.  Items within the list have identifier: ["+_574+"].  Value collided: ["+_575+"]");}}}else{this._identifier=Number;for(i=0;i<this._items.length;++i){this._items[i].n=i;}}_573=this._numRows=(_573===-1)?this._items.length:_573;_571(this._items,_570,_573);this._numRows=_573;},_fetchItems:function(_576,_577,_578){var _579=_576.serverQuery||_576.query||{};if(!this.doClientPaging){_579.start=_576.start||0;if(_576.count){_579.count=_576.count;}}if(!this.doClientSorting&&_576.sort){var _57a=[];dojo.forEach(_576.sort,function(sort){if(sort&&sort.attribute){_57a.push((sort.descending?"-":"")+sort.attribute);}});_579.sort=_57a.join(",");}if(this.doClientPaging&&this._lastServerQuery!==null&&dojo.toJson(_579)==dojo.toJson(this._lastServerQuery)){this._numRows=(this._numRows===-1)?this._items.length:this._numRows;_577(this._items,_576,this._numRows);}else{var _57b=this.requestMethod.toLowerCase()=="post"?dojo.xhrPost:dojo.xhrGet;var _57c=_57b({url:this.url,handleAs:"json-comment-optional",content:_579,failOk:true});_576.abort=function(){_57c.cancel();};_57c.addCallback(dojo.hitch(this,function(data){this._xhrFetchHandler(data,_576,_577,_578);}));_57c.addErrback(function(_57d){_578(_57d,_576);});this.lastRequestHash=new Date().getTime()+"-"+String(Math.random()).substring(2);this._lastServerQuery=dojo.mixin({},_579);}},_filterResponse:function(data){return data;},_assertIsItem:function(item){if(!this.isItem(item)){throw new Error(this._className+": Invalid item argument.");}},_assertIsAttribute:function(_57e){if(typeof _57e!=="string"){throw new Error(this._className+": Invalid attribute argument ('"+_57e+"').");}},fetchItemByIdentity:function(_57f){if(this._itemsByIdentity){var item=this._itemsByIdentity[_57f.identity];if(!(item===undefined)){if(_57f.onItem){var _580=_57f.scope?_57f.scope:dojo.global;_57f.onItem.call(_580,{i:item,r:this});}return;}}var _581=function(_582,_583){var _584=_57f.scope?_57f.scope:dojo.global;if(_57f.onError){_57f.onError.call(_584,_582);}};var _585=function(_586,_587){var _588=_57f.scope?_57f.scope:dojo.global;try{var item=null;if(_586&&_586.length==1){item=_586[0];}if(_57f.onItem){_57f.onItem.call(_588,item);}}catch(error){if(_57f.onError){_57f.onError.call(_588,error);}}};var _589={serverQuery:{id:_57f.identity}};this._fetchItems(_589,_585,_581);},getIdentity:function(item){var _58a=null;if(this._identifier===Number){_58a=item.n;}else{_58a=item.i[this._identifier];}return _58a;},getIdentityAttributes:function(item){return [this._identifier];}});});},"dojox/form/Uploader":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/connect","dojo/_base/window","dojo/dom-style","dojo/dom-class","dojo/dom-geometry","dojo/dom-attr","dojo/dom-construct","dojo/dom-form","dijit","dijit/form/Button","./uploader/_Base","./uploader/_HTML5","./uploader/_IFrame","./uploader/_Flash","dojo/i18n!./nls/Uploader","dojo/text!./resources/Uploader.html"],function(_58b,_58c,lang,_58d,_58e,win,_58f,_590,_591,_592,_593,_594,_595,_596,Base,_597,_598,_599,res,_59a){return _58c("dojox.form.Uploader",[Base,_596,_597,_598,_599],{uploadOnSelect:false,tabIndex:0,multiple:false,label:res.label,url:"",name:"uploadedfile",flashFieldName:"",force:"",uploadType:"",showInput:"",focusedClass:"dijitButtonHover",_nameIndex:0,templateString:_59a,baseClass:"dijitUploader "+_596.prototype.baseClass,postMixInProperties:function(){this._inputs=[];this._cons=[];this.force=this.force.toLowerCase();if(this.supports("multiple")){this.uploadType=this.force==="form"?"form":"html5";}else{this.uploadType=this.force==="flash"?"flash":"iframe";}this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);_58f.set(this.domNode,{overflow:"hidden",position:"relative"});this._buildDisplay();_592.set(this.titleNode,"tabIndex",-1);},_buildDisplay:function(){if(this.showInput){this.displayInput=_593.create("input",{"class":"dijitUploadDisplayInput","tabIndex":-1,"autocomplete":"off","role":"presentation"},this.containerNode,this.showInput);this._attachPoints.push("displayInput");this.connect(this,"onChange",function(_59b){var i=0,l=_59b.length,f,r=[];while((f=_59b[i++])){if(f&&f.name){r.push(f.name);}}this.displayInput.value=r.join(", ");});this.connect(this,"reset",function(){this.displayInput.value="";});}},startup:function(){if(this._buildInitialized){return;}this._buildInitialized=true;this._getButtonStyle(this.domNode);this._setButtonStyle();this.inherited(arguments);},onChange:function(_59c){},onBegin:function(_59d){},onProgress:function(_59e){},onComplete:function(_59f){this.reset();},onCancel:function(){},onAbort:function(){},onError:function(_5a0){},upload:function(_5a1){_5a1=_5a1||{};_5a1.uploadType=this.uploadType;this.inherited(arguments);},submit:function(form){form=!!form?form.tagName?form:this.getForm():this.getForm();var data=_594.toObject(form);data.uploadType=this.uploadType;this.upload(data);},reset:function(){delete this._files;this._disconnectButton();_58d.forEach(this._inputs,_593.destroy);this._inputs=[];this._nameIndex=0;this._createInput();},getFileList:function(){var _5a2=[];if(this.supports("multiple")){_58d.forEach(this._files,function(f,i){_5a2.push({index:i,name:f.name,size:f.size,type:f.type});},this);}else{_58d.forEach(this._inputs,function(n,i){if(n.value){_5a2.push({index:i,name:n.value.substring(n.value.lastIndexOf("\\")+1),size:0,type:n.value.substring(n.value.lastIndexOf(".")+1)});}},this);}return _5a2;},_getValueAttr:function(){return this.getFileList();},_setValueAttr:function(_5a3){console.error("Uploader value is read only");},_setDisabledAttr:function(_5a4){if(this.disabled==_5a4||!this.inputNode){return;}this.inherited(arguments);_58f.set(this.inputNode,"display",_5a4?"none":"");},_getButtonStyle:function(node){this.btnSize={w:_58f.get(node,"width"),h:_58f.get(node,"height")};},_setButtonStyle:function(){this.inputNodeFontSize=Math.max(2,Math.max(Math.ceil(this.btnSize.w/60),Math.ceil(this.btnSize.h/15)));this._createInput();},_getFileFieldName:function(){var name;if(this.supports("multiple")&&this.multiple){name=this.name+"s[]";}else{name=this.name+(this.multiple?this._nameIndex:"");}return name;},_createInput:function(){if(this._inputs.length){_58f.set(this.inputNode,{top:"500px"});this._disconnectButton();this._nameIndex++;}var name=this._getFileFieldName();this.focusNode=this.inputNode=_593.create("input",{type:"file",name:name,"aria-labelledby":this.id+"_label"},this.domNode,"first");if(this.supports("multiple")&&this.multiple){_592.set(this.inputNode,"multiple",true);}this._inputs.push(this.inputNode);_58f.set(this.inputNode,{position:"absolute",fontSize:this.inputNodeFontSize+"em",top:"-3px",right:"-3px",opacity:0});this._connectButton();},_connectButton:function(){this._cons.push(_58e.connect(this.inputNode,"change",this,function(evt){this._files=this.inputNode.files;this.onChange(this.getFileList(evt));if(!this.supports("multiple")&&this.multiple){this._createInput();}}));if(this.tabIndex>-1){this.inputNode.tabIndex=this.tabIndex;this._cons.push(_58e.connect(this.inputNode,"focus",this,function(){_590.add(this.domNode,this.focusedClass);}));this._cons.push(_58e.connect(this.inputNode,"blur",this,function(){_590.remove(this.domNode,this.focusedClass);}));}},_disconnectButton:function(){_58d.forEach(this._cons,_58e.disconnect);this._cons.splice(0,this._cons.length);}});});},"dojox/form/uploader/_Base":function(){define(["dojo/dom-form","dojo/dom-style","dojo/dom-construct","dojo/dom-attr","dojo/has","dojo/_base/declare","dojo/_base/event","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin"],function(_5a5,_5a6,_5a7,_5a8,has,_5a9,_5aa,_5ab,_5ac,_5ad){has.add("FormData",function(){return !!window.FormData;});has.add("xhr-sendAsBinary",function(){var xhr=window.XMLHttpRequest&&new window.XMLHttpRequest();return xhr&&!!xhr.sendAsBinary;});has.add("file-multiple",function(){return !!({"true":1,"false":1}[_5a8.get(document.createElement("input",{type:"file"}),"multiple")]);});return _5a9("dojox.form.uploader._Base",[_5ab,_5ac,_5ad],{getForm:function(){if(!this.form){var n=this.domNode;while(n&&n.tagName&&n!==document.body){if(n.tagName.toLowerCase()=="form"){this.form=n;break;}n=n.parentNode;}}return this.form;},getUrl:function(){if(this.uploadUrl){this.url=this.uploadUrl;}if(this.url){return this.url;}if(this.getForm()){this.url=this.form.action;}return this.url;},connectForm:function(){this.url=this.getUrl();if(!this._fcon&&!!this.getForm()){this._fcon=true;this.connect(this.form,"onsubmit",function(evt){_5aa.stop(evt);this.submit(this.form);});}},supports:function(what){switch(what){case "multiple":if(this.force=="flash"||this.force=="iframe"){return false;}return has("file-multiple");case "FormData":return has(what);case "sendAsBinary":return has("xhr-sendAsBinary");}return false;},getMimeType:function(){return "application/octet-stream";},getFileType:function(name){return name.substring(name.lastIndexOf(".")+1).toUpperCase();},convertBytes:function(_5ae){var kb=Math.round(_5ae/1024*100000)/100000;var mb=Math.round(_5ae/1048576*100000)/100000;var gb=Math.round(_5ae/1073741824*100000)/100000;var _5af=_5ae;if(kb>1){_5af=kb.toFixed(1)+" kb";}if(mb>1){_5af=mb.toFixed(1)+" mb";}if(gb>1){_5af=gb.toFixed(1)+" gb";}return {kb:kb,mb:mb,gb:gb,bytes:_5ae,value:_5af};}});});},"dojox/form/uploader/_HTML5":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo"],function(_5b0,lang,_5b1,dojo){return _5b0("dojox.form.uploader._HTML5",[],{errMsg:"Error uploading files. Try checking permissions",uploadType:"html5",postMixInProperties:function(){this.inherited(arguments);if(this.uploadType==="html5"){}},postCreate:function(){this.connectForm();this.inherited(arguments);if(this.uploadOnSelect){this.connect(this,"onChange",function(data){this.upload(data[0]);});}},_drop:function(e){dojo.stopEvent(e);var dt=e.dataTransfer;this._files=dt.files;this.onChange(this.getFileList());},upload:function(_5b2){this.onBegin(this.getFileList());this.uploadWithFormData(_5b2);},addDropTarget:function(node,_5b3){if(!_5b3){this.connect(node,"dragenter",dojo.stopEvent);this.connect(node,"dragover",dojo.stopEvent);this.connect(node,"dragleave",dojo.stopEvent);}this.connect(node,"drop","_drop");},uploadWithFormData:function(data){if(!this.getUrl()){console.error("No upload url found.",this);return;}var fd=new FormData(),_5b4=this._getFileFieldName();_5b1.forEach(this._files,function(f,i){fd.append(_5b4,f);},this);if(data){data.uploadType=this.uploadType;for(var nm in data){fd.append(nm,data[nm]);}}var xhr=this.createXhr();xhr.send(fd);},_xhrProgress:function(evt){if(evt.lengthComputable){var o={bytesLoaded:evt.loaded,bytesTotal:evt.total,type:evt.type,timeStamp:evt.timeStamp};if(evt.type=="load"){o.percent="100%";o.decimal=1;}else{o.decimal=evt.loaded/evt.total;o.percent=Math.ceil((evt.loaded/evt.total)*100)+"%";}this.onProgress(o);}},createXhr:function(){var xhr=new XMLHttpRequest();var _5b5;xhr.upload.addEventListener("progress",lang.hitch(this,"_xhrProgress"),false);xhr.addEventListener("load",lang.hitch(this,"_xhrProgress"),false);xhr.addEventListener("error",lang.hitch(this,function(evt){this.onError(evt);clearInterval(_5b5);}),false);xhr.addEventListener("abort",lang.hitch(this,function(evt){this.onAbort(evt);clearInterval(_5b5);}),false);xhr.onreadystatechange=lang.hitch(this,function(){if(xhr.readyState===4){clearInterval(_5b5);try{this.onComplete(JSON.parse(xhr.responseText.replace(/^\{\}&&/,"")));}catch(e){var msg="Error parsing server result:";console.error(msg,e);console.error(xhr.responseText);this.onError(msg,e);}}});xhr.open("POST",this.getUrl());xhr.setRequestHeader("Accept","application/json");_5b5=setInterval(lang.hitch(this,function(){try{if(typeof (xhr.statusText)){}}catch(e){clearInterval(_5b5);}}),250);return xhr;}});});},"dojox/form/uploader/_IFrame":function(){define(["dojo/query","dojo/dom-construct","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/dom-form","dojo/request/iframe"],function(_5b6,_5b7,_5b8,lang,_5b9,_5ba,_5bb){return _5b8("dojox.form.uploader._IFrame",[],{postMixInProperties:function(){this.inherited(arguments);if(this.uploadType==="iframe"){this.uploadType="iframe";this.upload=this.uploadIFrame;}},uploadIFrame:function(data){var _5bc={},_5bd,form=this.getForm(),url=this.getUrl(),self=this;data=data||{};data.uploadType=this.uploadType;_5bd=_5b7.place("<form enctype=\"multipart/form-data\" method=\"post\"></form>",this.domNode);_5b9.forEach(this._inputs,function(n,i){if(n.value!==""){_5bd.appendChild(n);_5bc[n.name]=n.value;}},this);if(data){for(nm in data){if(_5bc[nm]===undefined){_5b7.create("input",{name:nm,value:data[nm],type:"hidden"},_5bd);}}}_5bb.post(url,{form:_5bd,handleAs:"json",content:data}).then(function(_5be){_5b7.destroy(_5bd);if(_5be["ERROR"]||_5be["error"]){self.onError(_5be);}else{self.onComplete(_5be);}},function(err){console.error("error parsing server result",err);_5b7.destroy(_5bd);self.onError(err);});}});});},"dojo/request/iframe":function(){define(["module","require","./watch","./util","./handlers","../_base/lang","../io-query","../query","../has","../dom","../dom-construct","../_base/window","../NodeList-dom"],function(_5bf,_5c0,_5c1,util,_5c2,lang,_5c3,_5c4,has,dom,_5c5,win){var mid=_5bf.id.replace(/[\/\.\-]/g,"_"),_5c6=mid+"_onload";if(!win.global[_5c6]){win.global[_5c6]=function(){var dfd=_5c7._currentDfd;if(!dfd){_5c7._fireNextRequest();return;}var _5c8=dfd.response,_5c9=_5c8.options,_5ca=dom.byId(_5c9.form)||dfd._tmpForm;if(_5ca){var _5cb=dfd._contentToClean;for(var i=0;i<_5cb.length;i++){var key=_5cb[i];for(var j=0;j<_5ca.childNodes.length;j++){var _5cc=_5ca.childNodes[j];if(_5cc.name===key){_5c5.destroy(_5cc);break;}}}dfd._originalAction&&_5ca.setAttribute("action",dfd._originalAction);if(dfd._originalMethod){_5ca.setAttribute("method",dfd._originalMethod);_5ca.method=dfd._originalMethod;}if(dfd._originalTarget){_5ca.setAttribute("target",dfd._originalTarget);_5ca.target=dfd._originalTarget;}}if(dfd._tmpForm){_5c5.destroy(dfd._tmpForm);delete dfd._tmpForm;}dfd._finished=true;};}function _5cd(name,_5ce,uri){if(win.global[name]){return win.global[name];}if(win.global.frames[name]){return win.global.frames[name];}if(!uri){if(has("config-useXDomain")&&!has("config-dojoBlankHtmlUrl")){}uri=(has("config-dojoBlankHtmlUrl")||_5c0.toUrl("dojo/resources/blank.html"));}var _5cf=_5c5.place("<iframe id=\""+name+"\" name=\""+name+"\" src=\""+uri+"\" onload=\""+_5ce+"\" style=\"position: absolute; left: 1px; top: 1px; height: 1px; width: 1px; visibility: hidden\">",win.body());win.global[name]=_5cf;return _5cf;};function _5d0(_5d1,src,_5d2){var _5d3=win.global.frames[_5d1.name];if(_5d3.contentWindow){_5d3=_5d3.contentWindow;}try{if(!_5d2){_5d3.location=src;}else{_5d3.location.replace(src);}}catch(e){}};function doc(_5d4){if(_5d4.contentDocument){return _5d4.contentDocument;}var name=_5d4.name;if(name){var _5d5=win.doc.getElementsByTagName("iframe");if(_5d4.document&&_5d5[name].contentWindow&&_5d5[name].contentWindow.document){return _5d5[name].contentWindow.document;}else{if(win.doc.frames[name]&&win.doc.frames[name].document){return win.doc.frames[name].document;}}}return null;};function _5d6(){return _5c5.create("form",{name:mid+"_form",style:{position:"absolute",top:"-1000px",left:"-1000px"}},win.body());};function _5d7(){var dfd;try{if(_5c7._currentDfd||!_5c7._dfdQueue.length){return;}do{dfd=_5c7._currentDfd=_5c7._dfdQueue.shift();}while(dfd&&(dfd.canceled||(dfd.isCanceled&&dfd.isCanceled()))&&_5c7._dfdQueue.length);if(!dfd||dfd.canceled||(dfd.isCanceled&&dfd.isCanceled())){_5c7._currentDfd=null;return;}var _5d8=dfd.response,_5d9=_5d8.options,c2c=dfd._contentToClean=[],_5da=dom.byId(_5d9.form),_5db=util.notify,data=_5d9.data||null,_5dc;if(!dfd._legacy&&_5d9.method==="POST"&&!_5da){_5da=dfd._tmpForm=_5d6();}else{if(_5d9.method==="GET"&&_5da&&_5d8.url.indexOf("?")>-1){_5dc=_5d8.url.slice(_5d8.url.indexOf("?")+1);data=lang.mixin(_5c3.queryToObject(_5dc),data);}}if(_5da){if(!dfd._legacy){var _5dd=_5da;do{_5dd=_5dd.parentNode;}while(_5dd&&_5dd!==win.doc.documentElement);if(!_5dd){_5da.style.position="absolute";_5da.style.left="-1000px";_5da.style.top="-1000px";win.body().appendChild(_5da);}if(!_5da.name){_5da.name=mid+"_form";}}if(data){var _5de=function(name,_5df){_5c5.create("input",{type:"hidden",name:name,value:_5df},_5da);c2c.push(name);};for(var x in data){var val=data[x];if(lang.isArray(val)&&val.length>1){for(var i=0;i<val.length;i++){_5de(x,val[i]);}}else{if(!_5da[x]){_5de(x,val);}else{_5da[x].value=val;}}}}var _5e0=_5da.getAttributeNode("action"),_5e1=_5da.getAttributeNode("method"),_5e2=_5da.getAttributeNode("target");if(_5d8.url){dfd._originalAction=_5e0?_5e0.value:null;if(_5e0){_5e0.value=_5d8.url;}else{_5da.setAttribute("action",_5d8.url);}}if(!dfd._legacy){dfd._originalMethod=_5e1?_5e1.value:null;if(_5e1){_5e1.value=_5d9.method;}else{_5da.setAttribute("method",_5d9.method);}}else{if(!_5e1||!_5e1.value){if(_5e1){_5e1.value=_5d9.method;}else{_5da.setAttribute("method",_5d9.method);}}}dfd._originalTarget=_5e2?_5e2.value:null;if(_5e2){_5e2.value=_5c7._iframeName;}else{_5da.setAttribute("target",_5c7._iframeName);}_5da.target=_5c7._iframeName;_5db&&_5db.emit("send",_5d8,dfd.promise.cancel);_5c7._notifyStart(_5d8);_5da.submit();}else{var _5e3="";if(_5d8.options.data){_5e3=_5d8.options.data;if(typeof _5e3!=="string"){_5e3=_5c3.objectToQuery(_5e3);}}var _5e4=_5d8.url+(_5d8.url.indexOf("?")>-1?"&":"?")+_5e3;_5db&&_5db.emit("send",_5d8,dfd.promise.cancel);_5c7._notifyStart(_5d8);_5c7.setSrc(_5c7._frame,_5e4,true);}}catch(e){dfd.reject(e);}};function _5e5(_5e6){return !this.isFulfilled();};function _5e7(_5e8){return !!this._finished;};function _5e9(_5ea,_5eb){if(!_5eb){try{var _5ec=_5ea.options,doc=_5c7.doc(_5c7._frame),_5ed=_5ec.handleAs;if(_5ed!=="html"){if(_5ed==="xml"){if(doc.documentElement.tagName.toLowerCase()==="html"){_5c4("a",doc.documentElement).orphan();var _5ee=doc.documentElement.innerText;_5ee=_5ee.replace(/>\s+</g,"><");_5ea.text=lang.trim(_5ee);}else{_5ea.data=doc;}}else{_5ea.text=doc.getElementsByTagName("textarea")[0].value;}_5c2(_5ea);}else{_5ea.data=doc;}}catch(e){_5eb=e;}}if(_5eb){this.reject(_5eb);}else{if(this._finished){this.resolve(_5ea);}else{this.reject(new Error("Invalid dojo/request/iframe request state"));}}};function last(_5ef){this._callNext();};var _5f0={method:"POST"};function _5c7(url,_5f1,_5f2){var _5f3=util.parseArgs(url,util.deepCreate(_5f0,_5f1),true);url=_5f3.url;_5f1=_5f3.options;if(_5f1.method!=="GET"&&_5f1.method!=="POST"){throw new Error(_5f1.method+" not supported by dojo/request/iframe");}if(!_5c7._frame){_5c7._frame=_5c7.create(_5c7._iframeName,_5c6+"();");}var dfd=util.deferred(_5f3,null,_5e5,_5e7,_5e9,last);dfd._callNext=function(){if(!this._calledNext){this._calledNext=true;_5c7._currentDfd=null;_5c7._fireNextRequest();}};dfd._legacy=_5f2;_5c7._dfdQueue.push(dfd);_5c7._fireNextRequest();_5c1(dfd);return _5f2?dfd:dfd.promise;};_5c7.create=_5cd;_5c7.doc=doc;_5c7.setSrc=_5d0;_5c7._iframeName=mid+"_IoIframe";_5c7._notifyStart=function(){};_5c7._dfdQueue=[];_5c7._currentDfd=null;_5c7._fireNextRequest=_5d7;util.addCommonMethods(_5c7,["GET","POST"]);return _5c7;});},"dojox/form/uploader/_Flash":function(){define(["dojo/dom-form","dojo/dom-style","dojo/dom-construct","dojo/dom-attr","dojo/_base/declare","dojo/_base/config","dojo/_base/connect","dojo/_base/lang","dojo/_base/array","dojox/embed/Flash"],function(_5f4,_5f5,_5f6,_5f7,_5f8,_5f9,_5fa,lang,_5fb,_5fc){return _5f8("dojox.form.uploader._Flash",[],{swfPath:_5f9.uploaderPath||require.toUrl("dojox/form/resources/uploader.swf"),preventCache:true,skipServerCheck:true,serverTimeout:2000,isDebug:false,devMode:false,deferredUploading:0,postMixInProperties:function(){if(this.uploadType==="flash"){this._files=[];this._fileMap={};this._createInput=this._createFlashUploader;this.getFileList=this.getFlashFileList;this.reset=this.flashReset;this.upload=this.uploadFlash;this.fieldname="flashUploadFiles";}this.inherited(arguments);},onReady:function(_5fd){},onLoad:function(_5fe){},onFileChange:function(_5ff){},onFileProgress:function(_600){},getFlashFileList:function(){return this._files;},flashReset:function(){this.flashMovie.reset();this._files=[];this._fileMap={};},uploadFlash:function(_601){this.onBegin(this.getFileList());_601=_601||{};_601.returnType="F";_601.uploadType=this.uploadType;this.flashMovie.doUpload(_601);},_change:function(_602){this._files=this._files.concat(_602);_5fb.forEach(_602,function(f){f.bytesLoaded=0;f.bytesTotal=f.size;this._fileMap[f.name+"_"+f.size]=f;},this);this.onChange(this._files);this.onFileChange(_602);},_complete:function(_603){var o=this._getCustomEvent();o.type="load";this.onComplete(_603);},_progress:function(f){this._fileMap[f.name+"_"+f.bytesTotal].bytesLoaded=f.bytesLoaded;var o=this._getCustomEvent();this.onFileProgress(f);this.onProgress(o);},_error:function(err){this.onError(err);},_onFlashBlur:function(_604){},_getCustomEvent:function(){var o={bytesLoaded:0,bytesTotal:0,type:"progress",timeStamp:new Date().getTime()};for(var nm in this._fileMap){o.bytesTotal+=this._fileMap[nm].bytesTotal;o.bytesLoaded+=this._fileMap[nm].bytesLoaded;}o.decimal=o.bytesLoaded/o.bytesTotal;o.percent=Math.ceil((o.bytesLoaded/o.bytesTotal)*100)+"%";return o;},_connectFlash:function(){this._subs=[];this._cons=[];var _605=lang.hitch(this,function(s,_606){this._subs.push(_5fa.subscribe(this.id+s,this,_606));});_605("/filesSelected","_change");_605("/filesUploaded","_complete");_605("/filesProgress","_progress");_605("/filesError","_error");_605("/filesCanceled","onCancel");_605("/stageBlur","_onFlashBlur");this.connect(this.domNode,"focus",function(){this.flashMovie.focus();this.flashMovie.doFocus();});if(this.tabIndex>=0){_5f7.set(this.domNode,"tabIndex",this.tabIndex);}},_createFlashUploader:function(){var w=this.btnSize.w;var h=this.btnSize.h;if(!w){setTimeout(dojo.hitch(this,function(){this._getButtonStyle(this.domNode);this._createFlashUploader();}),200);return;}var url=this.getUrl();if(url){if(url.toLowerCase().indexOf("http")<0&&url.indexOf("/")!=0){var loc=window.location.href.split("/");loc.pop();loc=loc.join("/")+"/";url=loc+url;}}else{}this.inputNode=_5f6.create("div",{className:"dojoxFlashNode"},this.domNode,"first");_5f5.set(this.inputNode,{position:"absolute",top:"-2px",width:w+"px",height:h+"px",opacity:0});var args={expressInstall:true,path:(this.swfPath.uri||this.swfPath)+((this.preventCache)?("?cb_"+(new Date().getTime())):""),width:w,height:h,allowScriptAccess:"always",allowNetworking:"all",vars:{uploadDataFieldName:this.flashFieldName||this.name+"Flash",uploadUrl:url,uploadOnSelect:this.uploadOnSelect,deferredUploading:this.deferredUploading||0,selectMultipleFiles:this.multiple,id:this.id,isDebug:this.isDebug,noReturnCheck:this.skipServerCheck,serverTimeout:this.serverTimeout},params:{scale:"noscale",wmode:"opaque",allowScriptAccess:"always",allowNetworking:"all"}};this.flashObject=new _5fc(args,this.inputNode);this.flashObject.onError=lang.hitch(function(msg){console.error("Flash Error: "+msg);});this.flashObject.onReady=lang.hitch(this,function(){this.onReady(this);});this.flashObject.onLoad=lang.hitch(this,function(mov){this.flashMovie=mov;this.flashReady=true;this.onLoad(this);});this._connectFlash();}});});},"dojox/embed/Flash":function(){define(["dojo/_base/lang","dojo/_base/unload","dojo/_base/array","dojo/query","dojo/has","dojo/dom","dojo/on","dojo/window","dojo/string"],function(lang,_607,_608,_609,has,dom,on,win,_60a){var _60b,_60c;var _60d=9;var _60e="dojox-embed-flash-",_60f=0;var _610={expressInstall:false,width:320,height:240,swLiveConnect:"true",allowScriptAccess:"sameDomain",allowNetworking:"all",style:null,redirect:null};function prep(_611){_611=lang.delegate(_610,_611);if(!("path" in _611)){console.error("dojox.embed.Flash(ctor):: no path reference to a Flash movie was provided.");return null;}if(!("id" in _611)){_611.id=(_60e+_60f++);}return _611;};if(has("ie")){_60b=function(_612){_612=prep(_612);if(!_612){return null;}var p;var path=_612.path;if(_612.vars){var a=[];for(p in _612.vars){a.push(encodeURIComponent(p)+"="+encodeURIComponent(_612.vars[p]));}_612.params.FlashVars=a.join("&");delete _612.vars;}var s="<object id=\""+_60a.escape(String(_612.id))+"\" "+"classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" "+"width=\""+_60a.escape(String(_612.width))+"\" "+"height=\""+_60a.escape(String(_612.height))+"\""+((_612.style)?" style=\""+_60a.escape(String(_612.style))+"\"":"")+">"+"<param name=\"movie\" value=\""+_60a.escape(String(path))+"\" />";if(_612.params){for(p in _612.params){s+="<param name=\""+_60a.escape(p)+"\" value=\""+_60a.escape(String(_612.params[p]))+"\" />";}}s+="</object>";return {id:_612.id,markup:s};};_60c=(function(){var _613=10,_614=null;while(!_614&&_613>7){try{_614=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+_613--);}catch(e){}}if(_614){var v=_614.GetVariable("$version").split(" ")[1].split(",");return {major:(v[0]!=null)?parseInt(v[0]):0,minor:(v[1]!=null)?parseInt(v[1]):0,rev:(v[2]!=null)?parseInt(v[2]):0};}return {major:0,minor:0,rev:0};})();_607.addOnWindowUnload(function(){var _615=function(){};var objs=_609("object").reverse().style("display","none").forEach(function(i){for(var p in i){if((p!="FlashVars")&&typeof i[p]=="function"){try{i[p]=_615;}catch(e){}}}});});}else{_60b=function(_616){_616=prep(_616);if(!_616){return null;}var p;var path=_616.path;if(_616.vars){var a=[];for(p in _616.vars){a.push(encodeURIComponent(p)+"="+encodeURIComponent(_616.vars[p]));}_616.params.flashVars=a.join("&");delete _616.vars;}var s="<embed type=\"application/x-shockwave-flash\" "+"src=\""+_60a.escape(String(path))+"\" "+"id=\""+_60a.escape(String(_616.id))+"\" "+"width=\""+_60a.escape(String(_616.width))+"\" "+"height=\""+_60a.escape(String(_616.height))+"\""+((_616.style)?" style=\""+_60a.escape(String(_616.style))+"\" ":"")+"pluginspage=\""+window.location.protocol+"//www.adobe.com/go/getflashplayer\" ";if(_616.params){for(p in _616.params){s+=" "+_60a.escape(p)+"=\""+_60a.escape(String(_616.params[p]))+"\"";}}s+=" />";return {id:_616.id,markup:s};};_60c=(function(){var _617=navigator.plugins["Shockwave Flash"];if(_617&&_617.description){var v=_617.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split(".");return {major:(v[0]!=null)?parseInt(v[0]):0,minor:(v[1]!=null)?parseInt(v[1]):0,rev:(v[2]!=null)?parseInt(v[2]):0};}return {major:0,minor:0,rev:0};})();}var _618=function(_619,node){if(location.href.toLowerCase().indexOf("file://")>-1){throw new Error("dojox.embed.Flash can't be run directly from a file. To instatiate the required SWF correctly it must be run from a server, like localHost.");}this.available=_60c.major;this.minimumVersion=_619.minimumVersion||_60d;this.id=null;this.movie=null;this.domNode=null;if(node){node=dom.byId(node);}setTimeout(lang.hitch(this,function(){if(_619.expressInstall||this.available&&this.available>=this.minimumVersion){if(_619&&node){this.init(_619,node);}else{this.onError("embed.Flash was not provided with the proper arguments.");}}else{if(!this.available){this.onError("Flash is not installed.");}else{this.onError("Flash version detected: "+this.available+" is out of date. Minimum required: "+this.minimumVersion);}}}),100);};lang.extend(_618,{onReady:function(_61a){},onLoad:function(_61b){},onError:function(msg){},_onload:function(){clearInterval(this._poller);delete this._poller;delete this._pollCount;delete this._pollMax;this.onLoad(this.movie);},init:function(_61c,node){this.destroy();node=dom.byId(node||this.domNode);if(!node){throw new Error("dojox.embed.Flash: no domNode reference has been passed.");}var p=0,_61d=false;this._poller=null;this._pollCount=0;this._pollMax=15;this.pollTime=100;if(_618.initialized){this.id=_618.place(_61c,node);this.domNode=node;setTimeout(lang.hitch(this,function(){this.movie=this.byId(this.id,_61c.doc);this.onReady(this.movie);this._poller=setInterval(lang.hitch(this,function(){try{p=this.movie.PercentLoaded();}catch(e){}if(p==100){this._onload();}else{if(p==0&&this._pollCount++>this._pollMax){clearInterval(this._poller);throw new Error("Building SWF failed.");}}}),this.pollTime);}),1);}},_destroy:function(){try{this.domNode.removeChild(this.movie);}catch(e){}this.id=this.movie=this.domNode=null;},destroy:function(){if(!this.movie){return;}var test=lang.delegate({id:true,movie:true,domNode:true,onReady:true,onLoad:true});for(var p in this){if(!test[p]){delete this[p];}}if(this._poller){on(this,"Load",this,"_destroy");}else{this._destroy();}},byId:function(_61e,doc){doc=doc||document;if(doc.embeds[_61e]){return doc.embeds[_61e];}if(doc[_61e]){return doc[_61e];}if(window[_61e]){return window[_61e];}if(document[_61e]){return document[_61e];}return null;}});lang.mixin(_618,{minSupported:8,available:_60c.major,supported:(_60c.major>=_60c.required),minimumRequired:_60c.required,version:_60c,initialized:false,onInitialize:function(){_618.initialized=true;},__ie_markup__:function(_61f){return _60b(_61f);},proxy:function(obj,_620){_608.forEach((_620 instanceof Array?_620:[_620]),function(item){this[item]=lang.hitch(this,function(){return (function(){return eval(this.movie.CallFunction("<invoke name=\""+item+"\" returntype=\"javascript\">"+"<arguments>"+_608.map(arguments,function(item){return __flash__toXML(item);}).join("")+"</arguments>"+"</invoke>"));}).apply(this,arguments||[]);});},obj);}});_618.place=function(_621,node){var o=_60b(_621);node=dom.byId(node);if(!node){node=win.doc.createElement("div");node.id=o.id+"-container";win.body().appendChild(node);}if(o){node.innerHTML=o.markup;return o.id;}return null;};_618.onInitialize();lang.setObject("dojox.embed.Flash",_618);return _618;});},"dojox/gfx/path":function(){define(["./_base","dojo/_base/lang","dojo/_base/declare","./matrix","./shape"],function(g,lang,_622,_623,_624){var Path=_622("dojox.gfx.path.Path",_624.Shape,{constructor:function(_625){this.shape=lang.clone(g.defaultPath);this.segments=[];this.tbbox=null;this.absolute=true;this.last={};this.rawNode=_625;this.segmented=false;},setAbsoluteMode:function(mode){this._confirmSegmented();this.absolute=typeof mode=="string"?(mode=="absolute"):mode;return this;},getAbsoluteMode:function(){this._confirmSegmented();return this.absolute;},getBoundingBox:function(){this._confirmSegmented();return (this.bbox&&("l" in this.bbox))?{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-this.bbox.t}:null;},_getRealBBox:function(){this._confirmSegmented();if(this.tbbox){return this.tbbox;}var bbox=this.bbox,_623=this._getRealMatrix();this.bbox=null;for(var i=0,len=this.segments.length;i<len;++i){this._updateWithSegment(this.segments[i],_623);}var t=this.bbox;this.bbox=bbox;this.tbbox=t?[{x:t.l,y:t.t},{x:t.r,y:t.t},{x:t.r,y:t.b},{x:t.l,y:t.b}]:null;return this.tbbox;},getLastPosition:function(){this._confirmSegmented();return "x" in this.last?this.last:null;},_applyTransform:function(){this.tbbox=null;return this.inherited(arguments);},_updateBBox:function(x,y,m){if(m){var t=_623.multiplyPoint(m,x,y);x=t.x;y=t.y;}if(this.bbox&&("l" in this.bbox)){if(this.bbox.l>x){this.bbox.l=x;}if(this.bbox.r<x){this.bbox.r=x;}if(this.bbox.t>y){this.bbox.t=y;}if(this.bbox.b<y){this.bbox.b=y;}}else{this.bbox={l:x,b:y,r:x,t:y};}},_updateWithSegment:function(_626,_627){var n=_626.args,l=n.length,i;switch(_626.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(i=0;i<l;i+=2){this._updateBBox(n[i],n[i+1],_627);}this.last.x=n[l-2];this.last.y=n[l-1];this.absolute=true;break;case "H":for(i=0;i<l;++i){this._updateBBox(n[i],this.last.y,_627);}this.last.x=n[l-1];this.absolute=true;break;case "V":for(i=0;i<l;++i){this._updateBBox(this.last.x,n[i],_627);}this.last.y=n[l-1];this.absolute=true;break;case "m":var _628=0;if(!("x" in this.last)){this._updateBBox(this.last.x=n[0],this.last.y=n[1],_627);_628=2;}for(i=_628;i<l;i+=2){this._updateBBox(this.last.x+=n[i],this.last.y+=n[i+1],_627);}this.absolute=false;break;case "l":case "t":for(i=0;i<l;i+=2){this._updateBBox(this.last.x+=n[i],this.last.y+=n[i+1],_627);}this.absolute=false;break;case "h":for(i=0;i<l;++i){this._updateBBox(this.last.x+=n[i],this.last.y,_627);}this.absolute=false;break;case "v":for(i=0;i<l;++i){this._updateBBox(this.last.x,this.last.y+=n[i],_627);}this.absolute=false;break;case "c":for(i=0;i<l;i+=6){this._updateBBox(this.last.x+n[i],this.last.y+n[i+1],_627);this._updateBBox(this.last.x+n[i+2],this.last.y+n[i+3],_627);this._updateBBox(this.last.x+=n[i+4],this.last.y+=n[i+5],_627);}this.absolute=false;break;case "s":case "q":for(i=0;i<l;i+=4){this._updateBBox(this.last.x+n[i],this.last.y+n[i+1],_627);this._updateBBox(this.last.x+=n[i+2],this.last.y+=n[i+3],_627);}this.absolute=false;break;case "A":for(i=0;i<l;i+=7){this._updateBBox(n[i+5],n[i+6],_627);}this.last.x=n[l-2];this.last.y=n[l-1];this.absolute=true;break;case "a":for(i=0;i<l;i+=7){this._updateBBox(this.last.x+=n[i+5],this.last.y+=n[i+6],_627);}this.absolute=false;break;}var path=[_626.action];for(i=0;i<l;++i){path.push(g.formatNumber(n[i],true));}if(typeof this.shape.path=="string"){this.shape.path+=path.join("");}else{for(i=0,l=path.length;i<l;++i){this.shape.path.push(path[i]);}}},_validSegments:{m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},_pushSegment:function(_629,args){this.tbbox=null;var _62a=this._validSegments[_629.toLowerCase()],_62b;if(typeof _62a=="number"){if(_62a){if(args.length>=_62a){_62b={action:_629,args:args.slice(0,args.length-args.length%_62a)};this.segments.push(_62b);this._updateWithSegment(_62b);}}else{_62b={action:_629,args:[]};this.segments.push(_62b);this._updateWithSegment(_62b);}}},_collectArgs:function(_62c,args){for(var i=0;i<args.length;++i){var t=args[i];if(typeof t=="boolean"){_62c.push(t?1:0);}else{if(typeof t=="number"){_62c.push(t);}else{if(t instanceof Array){this._collectArgs(_62c,t);}else{if("x" in t&&"y" in t){_62c.push(t.x,t.y);}}}}}},moveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"M":"m",args);return this;},lineTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"L":"l",args);return this;},hLineTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"H":"h",args);return this;},vLineTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"V":"v",args);return this;},curveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"C":"c",args);return this;},smoothCurveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"S":"s",args);return this;},qCurveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"Q":"q",args);return this;},qSmoothCurveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"T":"t",args);return this;},arcTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"A":"a",args);return this;},closePath:function(){this._confirmSegmented();this._pushSegment("Z",[]);return this;},_confirmSegmented:function(){if(!this.segmented){var path=this.shape.path;this.shape.path=[];this._setPath(path);this.shape.path=this.shape.path.join("");this.segmented=true;}},_setPath:function(path){var p=lang.isArray(path)?path:path.match(g.pathSvgRegExp);this.segments=[];this.absolute=true;this.bbox={};this.last={};if(!p){return;}var _62d="",args=[],l=p.length;for(var i=0;i<l;++i){var t=p[i],x=parseFloat(t);if(isNaN(x)){if(_62d){this._pushSegment(_62d,args);}args=[];_62d=t;}else{args.push(x);}}this._pushSegment(_62d,args);},setShape:function(_62e){this.inherited(arguments,[typeof _62e=="string"?{path:_62e}:_62e]);this.segmented=false;this.segments=[];if(!g.lazyPathSegmentation){this._confirmSegmented();}return this;},_2PI:Math.PI*2});var _62f=_622("dojox.gfx.path.TextPath",Path,{constructor:function(_630){if(!("text" in this)){this.text=lang.clone(g.defaultTextPath);}if(!("fontStyle" in this)){this.fontStyle=lang.clone(g.defaultFont);}},getText:function(){return this.text;},setText:function(_631){this.text=g.makeParameters(this.text,typeof _631=="string"?{text:_631}:_631);this._setText();return this;},getFont:function(){return this.fontStyle;},setFont:function(_632){this.fontStyle=typeof _632=="string"?g.splitFontString(_632):g.makeParameters(g.defaultFont,_632);this._setFont();return this;}});return g.path={Path:Path,TextPath:_62f};});},"dojox/gfx/silverlight":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare","dojo/_base/Color","dojo/on","dojo/_base/array","dojo/dom-geometry","dojo/dom","dojo/_base/sniff","./_base","./shape","./path","./registry"],function(_633,lang,_634,_635,on,arr,_636,dom,has,g,gs,_637){var sl=g.silverlight={};_633.experimental("dojox.gfx.silverlight");var _638={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]},_639={normal:400,bold:700},caps={butt:"Flat",round:"Round",square:"Square"},_63a={bevel:"Bevel",round:"Round"},_63b={serif:"Times New Roman",times:"Times New Roman","sans-serif":"Arial",helvetica:"Arial",monotone:"Courier New",courier:"Courier New"};function _63c(_63d){var c=g.normalizeColor(_63d),t=c.toHex(),a=Math.round(c.a*255);a=(a<0?0:a>255?255:a).toString(16);return "#"+(a.length<2?"0"+a:a)+t.slice(1);};sl.Shape=_634("dojox.gfx.silverlight.Shape",gs.Shape,{destroy:function(){if(has("gfxRegistry")){gs.dispose(this);}this.rawNode=null;},setFill:function(fill){var p=this.rawNode.getHost().content,r=this.rawNode,f;if(!fill){this.fillStyle=null;this._setFillAttr(null);return this;}if(typeof (fill)=="object"&&"type" in fill){switch(fill.type){case "linear":this.fillStyle=f=g.makeParameters(g.defaultLinearGradient,fill);var lgb=p.createFromXaml("<LinearGradientBrush/>");lgb.mappingMode="Absolute";lgb.startPoint=f.x1+","+f.y1;lgb.endPoint=f.x2+","+f.y2;arr.forEach(f.colors,function(c){var t=p.createFromXaml("<GradientStop/>");t.offset=c.offset;t.color=_63c(c.color);lgb.gradientStops.add(t);});this._setFillAttr(lgb);break;case "radial":this.fillStyle=f=g.makeParameters(g.defaultRadialGradient,fill);var rgb=p.createFromXaml("<RadialGradientBrush/>"),c=g.matrix.multiplyPoint(g.matrix.invert(this._getAdjustedMatrix()),f.cx,f.cy),pt=c.x+","+c.y;rgb.mappingMode="Absolute";rgb.gradientOrigin=pt;rgb.center=pt;rgb.radiusX=rgb.radiusY=f.r;arr.forEach(f.colors,function(c){var t=p.createFromXaml("<GradientStop/>");t.offset=c.offset;t.color=_63c(c.color);rgb.gradientStops.add(t);});this._setFillAttr(rgb);break;case "pattern":this.fillStyle=null;this._setFillAttr(null);break;}return this;}this.fillStyle=f=g.normalizeColor(fill);var scb=p.createFromXaml("<SolidColorBrush/>");scb.color=f.toHex();scb.opacity=f.a;this._setFillAttr(scb);return this;},_setFillAttr:function(f){this.rawNode.fill=f;},setStroke:function(_63e){var p=this.rawNode.getHost().content,r=this.rawNode;if(!_63e){this.strokeStyle=null;r.stroke=null;return this;}if(typeof _63e=="string"||lang.isArray(_63e)||_63e instanceof _635){_63e={color:_63e};}var s=this.strokeStyle=g.makeParameters(g.defaultStroke,_63e);s.color=g.normalizeColor(s.color);if(s){var scb=p.createFromXaml("<SolidColorBrush/>");scb.color=s.color.toHex();scb.opacity=s.color.a;r.stroke=scb;r.strokeThickness=s.width;r.strokeStartLineCap=r.strokeEndLineCap=r.strokeDashCap=caps[s.cap];if(typeof s.join=="number"){r.strokeLineJoin="Miter";r.strokeMiterLimit=s.join;}else{r.strokeLineJoin=_63a[s.join];}var da=s.style.toLowerCase();if(da in _638){da=_638[da];}if(da instanceof Array){da=lang.clone(da);var i;if(s.cap!="butt"){for(i=0;i<da.length;i+=2){--da[i];if(da[i]<1){da[i]=1;}}for(i=1;i<da.length;i+=2){++da[i];}}r.strokeDashArray=da.join(",");}else{r.strokeDashArray=null;}}return this;},_getParentSurface:function(){var _63f=this.parent;for(;_63f&&!(_63f instanceof g.Surface);_63f=_63f.parent){}return _63f;},_applyTransform:function(){var tm=this._getAdjustedMatrix(),r=this.rawNode;if(tm){var p=this.rawNode.getHost().content,mt=p.createFromXaml("<MatrixTransform/>"),mm=p.createFromXaml("<Matrix/>");mm.m11=tm.xx;mm.m21=tm.xy;mm.m12=tm.yx;mm.m22=tm.yy;mm.offsetX=tm.dx;mm.offsetY=tm.dy;mt.matrix=mm;r.renderTransform=mt;}else{r.renderTransform=null;}return this;},setRawNode:function(_640){_640.fill=null;_640.stroke=null;this.rawNode=_640;this.rawNode.tag=this.getUID();},_moveToFront:function(){var c=this.parent.rawNode.children,r=this.rawNode;c.remove(r);c.add(r);return this;},_moveToBack:function(){var c=this.parent.rawNode.children,r=this.rawNode;c.remove(r);c.insert(0,r);return this;},_getAdjustedMatrix:function(){return this.matrix;},setClip:function(clip){this.inherited(arguments);var r=this.rawNode;if(clip){var _641=clip?"width" in clip?"rect":"cx" in clip?"ellipse":"points" in clip?"polyline":"d" in clip?"path":null:null;if(clip&&!_641){return this;}var bbox=this.getBoundingBox()||{x:0,y:0,width:0,height:0};var _642="1,0,0,1,"+(-bbox.x)+","+(-bbox.y);switch(_641){case "rect":r.clip=r.getHost().content.createFromXaml("<RectangleGeometry/>");r.clip.rect=clip.x+","+clip.y+","+clip.width+","+clip.height;r.clip.transform=_642;break;case "ellipse":r.clip=r.getHost().content.createFromXaml("<EllipseGeometry/>");r.clip.center=clip.cx+","+clip.cy;r.clip.radiusX=clip.rx;r.clip.radiusY=clip.ry;r.clip.transform="1,0,0,1,"+(-bbox.x)+","+(-bbox.y);break;case "polyline":if(clip.points.length>2){var line,_643=r.getHost().content.createFromXaml("<PathGeometry/>"),_644=r.getHost().content.createFromXaml("<PathFigure/>");_644.StartPoint=clip.points[0]+","+clip.points[1];for(var i=2;i<=clip.points.length-2;i=i+2){line=r.getHost().content.createFromXaml("<LineSegment/>");line.Point=clip.points[i]+","+clip.points[i+1];_644.segments.add(line);}_643.figures.add(_644);_643.transform="1,0,0,1,"+(-bbox.x)+","+(-bbox.y);r.clip=_643;}break;case "path":break;}}else{r.clip=null;}return this;}});sl.Group=_634("dojox.gfx.silverlight.Group",sl.Shape,{constructor:function(){gs.Container._init.call(this);},setRawNode:function(_645){this.rawNode=_645;this.rawNode.tag=this.getUID();},destroy:function(){this.clear(true);sl.Shape.prototype.destroy.apply(this,arguments);}});sl.Group.nodeType="Canvas";sl.Rect=_634("dojox.gfx.silverlight.Rect",[sl.Shape,gs.Rect],{setShape:function(_646){this.shape=g.makeParameters(this.shape,_646);this.bbox=null;var r=this.rawNode,n=this.shape;r.width=n.width;r.height=n.height;r.radiusX=r.radiusY=n.r;return this._applyTransform();},_getAdjustedMatrix:function(){var _647=this.matrix,s=this.shape,_648={dx:s.x,dy:s.y};return new g.Matrix2D(_647?[_647,_648]:_648);}});sl.Rect.nodeType="Rectangle";sl.Ellipse=_634("dojox.gfx.silverlight.Ellipse",[sl.Shape,gs.Ellipse],{setShape:function(_649){this.shape=g.makeParameters(this.shape,_649);this.bbox=null;var r=this.rawNode,n=this.shape;r.width=2*n.rx;r.height=2*n.ry;return this._applyTransform();},_getAdjustedMatrix:function(){var _64a=this.matrix,s=this.shape,_64b={dx:s.cx-s.rx,dy:s.cy-s.ry};return new g.Matrix2D(_64a?[_64a,_64b]:_64b);}});sl.Ellipse.nodeType="Ellipse";sl.Circle=_634("dojox.gfx.silverlight.Circle",[sl.Shape,gs.Circle],{setShape:function(_64c){this.shape=g.makeParameters(this.shape,_64c);this.bbox=null;var r=this.rawNode,n=this.shape;r.width=r.height=2*n.r;return this._applyTransform();},_getAdjustedMatrix:function(){var _64d=this.matrix,s=this.shape,_64e={dx:s.cx-s.r,dy:s.cy-s.r};return new g.Matrix2D(_64d?[_64d,_64e]:_64e);}});sl.Circle.nodeType="Ellipse";sl.Line=_634("dojox.gfx.silverlight.Line",[sl.Shape,gs.Line],{setShape:function(_64f){this.shape=g.makeParameters(this.shape,_64f);this.bbox=null;var r=this.rawNode,n=this.shape;r.x1=n.x1;r.y1=n.y1;r.x2=n.x2;r.y2=n.y2;return this;}});sl.Line.nodeType="Line";sl.Polyline=_634("dojox.gfx.silverlight.Polyline",[sl.Shape,gs.Polyline],{setShape:function(_650,_651){if(_650&&_650 instanceof Array){this.shape=g.makeParameters(this.shape,{points:_650});if(_651&&this.shape.points.length){this.shape.points.push(this.shape.points[0]);}}else{this.shape=g.makeParameters(this.shape,_650);}this.bbox=null;this._normalizePoints();var p=this.shape.points,rp=[];for(var i=0;i<p.length;++i){rp.push(p[i].x,p[i].y);}this.rawNode.points=rp.join(",");return this;}});sl.Polyline.nodeType="Polyline";sl.Image=_634("dojox.gfx.silverlight.Image",[sl.Shape,gs.Image],{setShape:function(_652){this.shape=g.makeParameters(this.shape,_652);this.bbox=null;var r=this.rawNode,n=this.shape;r.width=n.width;r.height=n.height;r.source=n.src;return this._applyTransform();},_getAdjustedMatrix:function(){var _653=this.matrix,s=this.shape,_654={dx:s.x,dy:s.y};return new g.Matrix2D(_653?[_653,_654]:_654);},setRawNode:function(_655){this.rawNode=_655;this.rawNode.tag=this.getUID();}});sl.Image.nodeType="Image";sl.Text=_634("dojox.gfx.silverlight.Text",[sl.Shape,gs.Text],{setShape:function(_656){this.shape=g.makeParameters(this.shape,_656);this.bbox=null;var r=this.rawNode,s=this.shape;r.text=""+s.text;r.textDecorations=s.decoration==="underline"?"Underline":"None";r["Canvas.Left"]=-10000;r["Canvas.Top"]=-10000;if(!this._delay){this._delay=window.setTimeout(lang.hitch(this,"_delayAlignment"),10);}return this;},_delayAlignment:function(){var r=this.rawNode,s=this.shape,w,h;try{w=r.actualWidth;h=r.actualHeight;}catch(e){return;}var x=s.x,y=s.y-h*0.75;switch(s.align){case "middle":x-=w/2;break;case "end":x-=w;break;}this._delta={dx:x,dy:y};r["Canvas.Left"]=0;r["Canvas.Top"]=0;this._applyTransform();delete this._delay;},_getAdjustedMatrix:function(){var _657=this.matrix,_658=this._delta,x;if(_657){x=_658?[_657,_658]:_657;}else{x=_658?_658:{};}return new g.Matrix2D(x);},setStroke:function(){return this;},_setFillAttr:function(f){this.rawNode.foreground=f;},setRawNode:function(_659){this.rawNode=_659;this.rawNode.tag=this.getUID();},getTextWidth:function(){return this.rawNode.actualWidth;},getBoundingBox:function(){var bbox=null,text=this.getShape().text,r=this.rawNode,w=0,h=0;if(!g._base._isRendered(this)){return {x:0,y:0,width:0,height:0};}if(text){try{w=r.actualWidth;h=r.actualHeight;}catch(e){return null;}var loc=g._base._computeTextLocation(this.getShape(),w,h,true);bbox={x:loc.x,y:loc.y,width:w,height:h};}return bbox;}});sl.Text.nodeType="TextBlock";sl.Path=_634("dojox.gfx.silverlight.Path",[sl.Shape,_637.Path],{_updateWithSegment:function(_65a){this.inherited(arguments);var p=this.shape.path;if(typeof (p)=="string"){this.rawNode.data=p?p:null;}},setShape:function(_65b){this.inherited(arguments);var p=this.shape.path;this.rawNode.data=p?p:null;return this;}});sl.Path.nodeType="Path";sl.TextPath=_634("dojox.gfx.silverlight.TextPath",[sl.Shape,_637.TextPath],{_updateWithSegment:function(_65c){},setShape:function(_65d){},_setText:function(){}});sl.TextPath.nodeType="text";var _65e={},_65f=new Function;sl.Surface=_634("dojox.gfx.silverlight.Surface",gs.Surface,{constructor:function(){gs.Container._init.call(this);},destroy:function(){this.clear(true);window[this._onLoadName]=_65f;delete _65e[this._nodeName];this.inherited(arguments);},setDimensions:function(_660,_661){this.width=g.normalizedLength(_660);this.height=g.normalizedLength(_661);var p=this.rawNode&&this.rawNode.getHost();if(p){p.width=_660;p.height=_661;}return this;},getDimensions:function(){var p=this.rawNode&&this.rawNode.getHost();var t=p?{width:p.content.actualWidth,height:p.content.actualHeight}:null;if(t.width<=0){t.width=this.width;}if(t.height<=0){t.height=this.height;}return t;}});sl.createSurface=function(_662,_663,_664){if(!_663&&!_664){var pos=_636.position(_662);_663=_663||pos.w;_664=_664||pos.h;}if(typeof _663=="number"){_663=_663+"px";}if(typeof _664=="number"){_664=_664+"px";}var s=new sl.Surface();_662=dom.byId(_662);s._parent=_662;s._nodeName=g._base._getUniqueId();var t=_662.ownerDocument.createElement("script");t.type="text/xaml";t.id=g._base._getUniqueId();t.text="<?xml version='1.0'?><Canvas xmlns='http://schemas.microsoft.com/client/2007' Name='"+s._nodeName+"'/>";_662.parentNode.insertBefore(t,_662);s._nodes.push(t);var obj,_665=g._base._getUniqueId(),_666="__"+g._base._getUniqueId()+"_onLoad";s._onLoadName=_666;window[_666]=function(_667){if(!s.rawNode){s.rawNode=dom.byId(_665,_662.ownerDocument).content.root;_65e[s._nodeName]=_662;s.onLoad(s);}};if(has("safari")){obj="<embed type='application/x-silverlight' id='"+_665+"' width='"+_663+"' height='"+_664+" background='transparent'"+" source='#"+t.id+"'"+" windowless='true'"+" maxFramerate='60'"+" onLoad='"+_666+"'"+" onError='__dojoSilverlightError'"+" /><iframe style='visibility:hidden;height:0;width:0'/>";}else{obj="<object type='application/x-silverlight' data='data:application/x-silverlight,' id='"+_665+"' width='"+_663+"' height='"+_664+"'>"+"<param name='background' value='transparent' />"+"<param name='source' value='#"+t.id+"' />"+"<param name='windowless' value='true' />"+"<param name='maxFramerate' value='60' />"+"<param name='onLoad' value='"+_666+"' />"+"<param name='onError' value='__dojoSilverlightError' />"+"</object>";}_662.innerHTML=obj;var _668=dom.byId(_665,_662.ownerDocument);if(_668.content&&_668.content.root){s.rawNode=_668.content.root;_65e[s._nodeName]=_662;}else{s.rawNode=null;s.isLoaded=false;}s._nodes.push(_668);s.width=g.normalizedLength(_663);s.height=g.normalizedLength(_664);return s;};__dojoSilverlightError=function(_669,err){var t="Silverlight Error:\n"+"Code: "+err.ErrorCode+"\n"+"Type: "+err.ErrorType+"\n"+"Message: "+err.ErrorMessage+"\n";switch(err.ErrorType){case "ParserError":t+="XamlFile: "+err.xamlFile+"\n"+"Line: "+err.lineNumber+"\n"+"Position: "+err.charPosition+"\n";break;case "RuntimeError":t+="MethodName: "+err.methodName+"\n";if(err.lineNumber!=0){t+="Line: "+err.lineNumber+"\n"+"Position: "+err.charPosition+"\n";}break;}};var Font={_setFont:function(){var f=this.fontStyle,r=this.rawNode,t=f.family.toLowerCase();r.fontStyle=f.style=="italic"?"Italic":"Normal";r.fontWeight=f.weight in _639?_639[f.weight]:f.weight;r.fontSize=g.normalizedLength(f.size);r.fontFamily=t in _63b?_63b[t]:f.family;if(!this._delay){this._delay=window.setTimeout(lang.hitch(this,"_delayAlignment"),10);}}};var C=gs.Container,_66a={add:function(_66b){if(this!=_66b.getParent()){C.add.apply(this,arguments);this.rawNode.children.add(_66b.rawNode);}return this;},remove:function(_66c,_66d){if(this==_66c.getParent()){var _66e=_66c.rawNode.getParent();if(_66e){_66e.children.remove(_66c.rawNode);}C.remove.apply(this,arguments);}return this;},clear:function(){this.rawNode.children.clear();return C.clear.apply(this,arguments);},getBoundingBox:C.getBoundingBox,_moveChildToFront:C._moveChildToFront,_moveChildToBack:C._moveChildToBack};var _66f={createObject:function(_670,_671){if(!this.rawNode){return null;}var _672=new _670();var node=this.rawNode.getHost().content.createFromXaml("<"+_670.nodeType+"/>");_672.setRawNode(node);_672.setShape(_671);this.add(_672);return _672;}};lang.extend(sl.Text,Font);lang.extend(sl.Group,_66a);lang.extend(sl.Group,gs.Creator);lang.extend(sl.Group,_66f);lang.extend(sl.Surface,_66a);lang.extend(sl.Surface,gs.Creator);lang.extend(sl.Surface,_66f);function _673(s,a){var ev={target:s,currentTarget:s,preventDefault:function(){},stopPropagation:function(){}};try{if(a.source){ev.target=a.source;var _674=ev.target.tag;ev.gfxTarget=gs.byId(_674);}}catch(e){}if(a){try{ev.ctrlKey=a.ctrl;ev.shiftKey=a.shift;var p=a.getPosition(null);ev.x=ev.offsetX=ev.layerX=p.x;ev.y=ev.offsetY=ev.layerY=p.y;var _675=_65e[s.getHost().content.root.name];var t=_636.position(_675);ev.clientX=t.x+p.x;ev.clientY=t.y+p.y;}catch(e){}}return ev;};function _676(s,a){var ev={keyCode:a.platformKeyCode,ctrlKey:a.ctrl,shiftKey:a.shift};try{if(a.source){ev.target=a.source;ev.gfxTarget=gs.byId(ev.target.tag);}}catch(e){}return ev;};var _677={onclick:{name:"MouseLeftButtonUp",fix:_673},onmouseenter:{name:"MouseEnter",fix:_673},onmouseleave:{name:"MouseLeave",fix:_673},onmouseover:{name:"MouseEnter",fix:_673},onmouseout:{name:"MouseLeave",fix:_673},onmousedown:{name:"MouseLeftButtonDown",fix:_673},onmouseup:{name:"MouseLeftButtonUp",fix:_673},onmousemove:{name:"MouseMove",fix:_673},onkeydown:{name:"KeyDown",fix:_676},onkeyup:{name:"KeyUp",fix:_676}};var _678={connect:function(name,_679,_67a){return this.on(name,_67a?lang.hitch(_679,_67a):_679);},on:function(name,_67b){if(typeof name==="string"){if(name.indexOf("mouse")===0){name="on"+name;}var _67c,n=name in _677?_677[name]:{name:name,fix:function(){return {};}};_67c=this.getEventSource().addEventListener(n.name,function(s,a){_67b(n.fix(s,a));});return {name:n.name,token:_67c,remove:lang.hitch(this,function(){this.getEventSource().removeEventListener(n.name,_67c);})};}else{return on(this,name,_67b);}},disconnect:function(_67d){return _67d.remove();}};lang.extend(sl.Shape,_678);lang.extend(sl.Surface,_678);g.equalSources=function(a,b){return a&&b&&a.equals(b);};return sl;});},"dojox/gfx/registry":function(){define(["dojo/has","./shape"],function(has,_67e){has.add("gfxRegistry",1);var _67f={};var _680={};var hash={};_67f.register=_67e.register=function(s){var t=s.declaredClass.split(".").pop();var i=t in _680?++_680[t]:((_680[t]=0));var uid=t+i;hash[uid]=s;return uid;};_67f.byId=_67e.byId=function(id){return hash[id];};_67f.dispose=_67e.dispose=function(s,_681){if(_681&&s.children){for(var i=0;i<s.children.length;++i){_67f.dispose(s.children[i],true);}}var uid=s.getUID();hash[uid]=null;delete hash[uid];};return _67f;});},"dojox/gfx/svg":function(){define(["dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/dom","dojo/_base/declare","dojo/_base/array","dojo/dom-geometry","dojo/dom-attr","dojo/_base/Color","./_base","./shape","./path"],function(lang,has,win,dom,_682,arr,_683,_684,_685,g,gs,_686){var svg=g.svg={};svg.useSvgWeb=(typeof window.svgweb!="undefined");var _687=navigator.userAgent,_688=has("ios"),_689=has("android"),_68a=has("chrome")||(_689&&_689>=4)?"auto":"optimizeLegibility";function _68b(ns,_68c){if(win.doc.createElementNS){return win.doc.createElementNS(ns,_68c);}else{return win.doc.createElement(_68c);}};function _68d(node,ns,attr,_68e){if(node.setAttributeNS){return node.setAttributeNS(ns,attr,_68e);}else{return node.setAttribute(attr,_68e);}};function _68f(text){if(svg.useSvgWeb){return win.doc.createTextNode(text,true);}else{return win.doc.createTextNode(text);}};function _690(){if(svg.useSvgWeb){return win.doc.createDocumentFragment(true);}else{return win.doc.createDocumentFragment();}};svg.xmlns={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};svg.getRef=function(name){if(!name||name=="none"){return null;}if(name.match(/^url\(#.+\)$/)){return dom.byId(name.slice(5,-1));}if(name.match(/^#dojoUnique\d+$/)){return dom.byId(name.slice(1));}return null;};svg.dasharray={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};var _691=0;svg.Shape=_682("dojox.gfx.svg.Shape",gs.Shape,{destroy:function(){if(this.fillStyle&&"type" in this.fillStyle){var fill=this.rawNode.getAttribute("fill"),ref=svg.getRef(fill);if(ref){ref.parentNode.removeChild(ref);}}if(this.clip){var _692=this.rawNode.getAttribute("clip-path");if(_692){var _693=dom.byId(_692.match(/gfx_clip[\d]+/)[0]);if(_693){_693.parentNode.removeChild(_693);}}}gs.Shape.prototype.destroy.apply(this,arguments);},setFill:function(fill){if(!fill){this.fillStyle=null;this.rawNode.setAttribute("fill","none");this.rawNode.setAttribute("fill-opacity",0);return this;}var f;var _694=function(x){this.setAttribute(x,f[x].toFixed(8));};if(typeof (fill)=="object"&&"type" in fill){switch(fill.type){case "linear":f=g.makeParameters(g.defaultLinearGradient,fill);var _695=this._setFillObject(f,"linearGradient");arr.forEach(["x1","y1","x2","y2"],_694,_695);break;case "radial":f=g.makeParameters(g.defaultRadialGradient,fill);var grad=this._setFillObject(f,"radialGradient");arr.forEach(["cx","cy","r"],_694,grad);break;case "pattern":f=g.makeParameters(g.defaultPattern,fill);var _696=this._setFillObject(f,"pattern");arr.forEach(["x","y","width","height"],_694,_696);break;}this.fillStyle=f;return this;}f=g.normalizeColor(fill);this.fillStyle=f;this.rawNode.setAttribute("fill",f.toCss());this.rawNode.setAttribute("fill-opacity",f.a);this.rawNode.setAttribute("fill-rule","evenodd");return this;},setStroke:function(_697){var rn=this.rawNode;if(!_697){this.strokeStyle=null;rn.setAttribute("stroke","none");rn.setAttribute("stroke-opacity",0);return this;}if(typeof _697=="string"||lang.isArray(_697)||_697 instanceof _685){_697={color:_697};}var s=this.strokeStyle=g.makeParameters(g.defaultStroke,_697);s.color=g.normalizeColor(s.color);if(s){rn.setAttribute("stroke",s.color.toCss());rn.setAttribute("stroke-opacity",s.color.a);rn.setAttribute("stroke-width",s.width);rn.setAttribute("stroke-linecap",s.cap);if(typeof s.join=="number"){rn.setAttribute("stroke-linejoin","miter");rn.setAttribute("stroke-miterlimit",s.join);}else{rn.setAttribute("stroke-linejoin",s.join);}var da=s.style.toLowerCase();if(da in svg.dasharray){da=svg.dasharray[da];}if(da instanceof Array){da=lang._toArray(da);var i;for(i=0;i<da.length;++i){da[i]*=s.width;}if(s.cap!="butt"){for(i=0;i<da.length;i+=2){da[i]-=s.width;if(da[i]<1){da[i]=1;}}for(i=1;i<da.length;i+=2){da[i]+=s.width;}}da=da.join(",");}rn.setAttribute("stroke-dasharray",da);rn.setAttribute("dojoGfxStrokeStyle",s.style);}return this;},_getParentSurface:function(){var _698=this.parent;for(;_698&&!(_698 instanceof g.Surface);_698=_698.parent){}return _698;},_setFillObject:function(f,_699){var _69a=svg.xmlns.svg;this.fillStyle=f;var _69b=this._getParentSurface(),defs=_69b.defNode,fill=this.rawNode.getAttribute("fill"),ref=svg.getRef(fill);if(ref){fill=ref;if(fill.tagName.toLowerCase()!=_699.toLowerCase()){var id=fill.id;fill.parentNode.removeChild(fill);fill=_68b(_69a,_699);fill.setAttribute("id",id);defs.appendChild(fill);}else{while(fill.childNodes.length){fill.removeChild(fill.lastChild);}}}else{fill=_68b(_69a,_699);fill.setAttribute("id",g._base._getUniqueId());defs.appendChild(fill);}if(_699=="pattern"){fill.setAttribute("patternUnits","userSpaceOnUse");var img=_68b(_69a,"image");img.setAttribute("x",0);img.setAttribute("y",0);img.setAttribute("width",f.width.toFixed(8));img.setAttribute("height",f.height.toFixed(8));_68d(img,svg.xmlns.xlink,"xlink:href",f.src);fill.appendChild(img);}else{fill.setAttribute("gradientUnits","userSpaceOnUse");for(var i=0;i<f.colors.length;++i){var c=f.colors[i],t=_68b(_69a,"stop"),cc=c.color=g.normalizeColor(c.color);t.setAttribute("offset",c.offset.toFixed(8));t.setAttribute("stop-color",cc.toCss());t.setAttribute("stop-opacity",cc.a);fill.appendChild(t);}}this.rawNode.setAttribute("fill","url(#"+fill.getAttribute("id")+")");this.rawNode.removeAttribute("fill-opacity");this.rawNode.setAttribute("fill-rule","evenodd");return fill;},_applyTransform:function(){var _69c=this.matrix;if(_69c){var tm=this.matrix;this.rawNode.setAttribute("transform","matrix("+tm.xx.toFixed(8)+","+tm.yx.toFixed(8)+","+tm.xy.toFixed(8)+","+tm.yy.toFixed(8)+","+tm.dx.toFixed(8)+","+tm.dy.toFixed(8)+")");}else{this.rawNode.removeAttribute("transform");}return this;},setRawNode:function(_69d){var r=this.rawNode=_69d;if(this.shape.type!="image"){r.setAttribute("fill","none");}r.setAttribute("fill-opacity",0);r.setAttribute("stroke","none");r.setAttribute("stroke-opacity",0);r.setAttribute("stroke-width",1);r.setAttribute("stroke-linecap","butt");r.setAttribute("stroke-linejoin","miter");r.setAttribute("stroke-miterlimit",4);r.__gfxObject__=this;},setShape:function(_69e){this.shape=g.makeParameters(this.shape,_69e);for(var i in this.shape){if(i!="type"){this.rawNode.setAttribute(i,this.shape[i]);}}this.bbox=null;return this;},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this;},_moveToBack:function(){this.rawNode.parentNode.insertBefore(this.rawNode,this.rawNode.parentNode.firstChild);return this;},setClip:function(clip){this.inherited(arguments);var _69f=clip?"width" in clip?"rect":"cx" in clip?"ellipse":"points" in clip?"polyline":"d" in clip?"path":null:null;if(clip&&!_69f){return this;}if(_69f==="polyline"){clip=lang.clone(clip);clip.points=clip.points.join(",");}var _6a0,_6a1,_6a2=_684.get(this.rawNode,"clip-path");if(_6a2){_6a0=dom.byId(_6a2.match(/gfx_clip[\d]+/)[0]);if(_6a0){_6a0.removeChild(_6a0.childNodes[0]);}}if(clip){if(_6a0){_6a1=_68b(svg.xmlns.svg,_69f);_6a0.appendChild(_6a1);}else{var _6a3=++_691;var _6a4="gfx_clip"+_6a3;var _6a5="url(#"+_6a4+")";this.rawNode.setAttribute("clip-path",_6a5);_6a0=_68b(svg.xmlns.svg,"clipPath");_6a1=_68b(svg.xmlns.svg,_69f);_6a0.appendChild(_6a1);this.rawNode.parentNode.insertBefore(_6a0,this.rawNode);_684.set(_6a0,"id",_6a4);}_684.set(_6a1,clip);}else{this.rawNode.removeAttribute("clip-path");if(_6a0){_6a0.parentNode.removeChild(_6a0);}}return this;},_removeClipNode:function(){var _6a6,_6a7=_684.get(this.rawNode,"clip-path");if(_6a7){_6a6=dom.byId(_6a7.match(/gfx_clip[\d]+/)[0]);if(_6a6){_6a6.parentNode.removeChild(_6a6);}}return _6a6;}});svg.Group=_682("dojox.gfx.svg.Group",svg.Shape,{constructor:function(){gs.Container._init.call(this);},setRawNode:function(_6a8){this.rawNode=_6a8;this.rawNode.__gfxObject__=this;},destroy:function(){this.clear(true);svg.Shape.prototype.destroy.apply(this,arguments);}});svg.Group.nodeType="g";svg.Rect=_682("dojox.gfx.svg.Rect",[svg.Shape,gs.Rect],{setShape:function(_6a9){this.shape=g.makeParameters(this.shape,_6a9);this.bbox=null;for(var i in this.shape){if(i!="type"&&i!="r"){this.rawNode.setAttribute(i,this.shape[i]);}}if(this.shape.r!=null){this.rawNode.setAttribute("ry",this.shape.r);this.rawNode.setAttribute("rx",this.shape.r);}return this;}});svg.Rect.nodeType="rect";svg.Ellipse=_682("dojox.gfx.svg.Ellipse",[svg.Shape,gs.Ellipse],{});svg.Ellipse.nodeType="ellipse";svg.Circle=_682("dojox.gfx.svg.Circle",[svg.Shape,gs.Circle],{});svg.Circle.nodeType="circle";svg.Line=_682("dojox.gfx.svg.Line",[svg.Shape,gs.Line],{});svg.Line.nodeType="line";svg.Polyline=_682("dojox.gfx.svg.Polyline",[svg.Shape,gs.Polyline],{setShape:function(_6aa,_6ab){if(_6aa&&_6aa instanceof Array){this.shape=g.makeParameters(this.shape,{points:_6aa});if(_6ab&&this.shape.points.length){this.shape.points.push(this.shape.points[0]);}}else{this.shape=g.makeParameters(this.shape,_6aa);}this.bbox=null;this._normalizePoints();var attr=[],p=this.shape.points;for(var i=0;i<p.length;++i){attr.push(p[i].x.toFixed(8),p[i].y.toFixed(8));}this.rawNode.setAttribute("points",attr.join(" "));return this;}});svg.Polyline.nodeType="polyline";svg.Image=_682("dojox.gfx.svg.Image",[svg.Shape,gs.Image],{setShape:function(_6ac){this.shape=g.makeParameters(this.shape,_6ac);this.bbox=null;var _6ad=this.rawNode;for(var i in this.shape){if(i!="type"&&i!="src"){_6ad.setAttribute(i,this.shape[i]);}}_6ad.setAttribute("preserveAspectRatio","none");_68d(_6ad,svg.xmlns.xlink,"xlink:href",this.shape.src);_6ad.__gfxObject__=this;return this;}});svg.Image.nodeType="image";svg.Text=_682("dojox.gfx.svg.Text",[svg.Shape,gs.Text],{setShape:function(_6ae){this.shape=g.makeParameters(this.shape,_6ae);this.bbox=null;var r=this.rawNode,s=this.shape;r.setAttribute("x",s.x);r.setAttribute("y",s.y);r.setAttribute("text-anchor",s.align);r.setAttribute("text-decoration",s.decoration);r.setAttribute("rotate",s.rotated?90:0);r.setAttribute("kerning",s.kerning?"auto":0);r.setAttribute("text-rendering",_68a);if(r.firstChild){r.firstChild.nodeValue=s.text;}else{r.appendChild(_68f(s.text));}return this;},getTextWidth:function(){var _6af=this.rawNode,_6b0=_6af.parentNode,_6b1=_6af.cloneNode(true);_6b1.style.visibility="hidden";var _6b2=0,_6b3=_6b1.firstChild.nodeValue;_6b0.appendChild(_6b1);if(_6b3!=""){while(!_6b2){if(_6b1.getBBox){_6b2=parseInt(_6b1.getBBox().width);}else{_6b2=68;}}}_6b0.removeChild(_6b1);return _6b2;},getBoundingBox:function(){var s=this.getShape(),bbox=null;if(s.text){try{bbox=this.rawNode.getBBox();}catch(e){bbox={x:0,y:0,width:0,height:0};}}return bbox;}});svg.Text.nodeType="text";svg.Path=_682("dojox.gfx.svg.Path",[svg.Shape,_686.Path],{_updateWithSegment:function(_6b4){this.inherited(arguments);if(typeof (this.shape.path)=="string"){this.rawNode.setAttribute("d",this.shape.path);}},setShape:function(_6b5){this.inherited(arguments);if(this.shape.path){this.rawNode.setAttribute("d",this.shape.path);}else{this.rawNode.removeAttribute("d");}return this;}});svg.Path.nodeType="path";svg.TextPath=_682("dojox.gfx.svg.TextPath",[svg.Shape,_686.TextPath],{_updateWithSegment:function(_6b6){this.inherited(arguments);this._setTextPath();},setShape:function(_6b7){this.inherited(arguments);this._setTextPath();return this;},_setTextPath:function(){if(typeof this.shape.path!="string"){return;}var r=this.rawNode;if(!r.firstChild){var tp=_68b(svg.xmlns.svg,"textPath"),tx=_68f("");tp.appendChild(tx);r.appendChild(tp);}var ref=r.firstChild.getAttributeNS(svg.xmlns.xlink,"href"),path=ref&&svg.getRef(ref);if(!path){var _6b8=this._getParentSurface();if(_6b8){var defs=_6b8.defNode;path=_68b(svg.xmlns.svg,"path");var id=g._base._getUniqueId();path.setAttribute("id",id);defs.appendChild(path);_68d(r.firstChild,svg.xmlns.xlink,"xlink:href","#"+id);}}if(path){path.setAttribute("d",this.shape.path);}},_setText:function(){var r=this.rawNode;if(!r.firstChild){var tp=_68b(svg.xmlns.svg,"textPath"),tx=_68f("");tp.appendChild(tx);r.appendChild(tp);}r=r.firstChild;var t=this.text;r.setAttribute("alignment-baseline","middle");switch(t.align){case "middle":r.setAttribute("text-anchor","middle");r.setAttribute("startOffset","50%");break;case "end":r.setAttribute("text-anchor","end");r.setAttribute("startOffset","100%");break;default:r.setAttribute("text-anchor","start");r.setAttribute("startOffset","0%");break;}r.setAttribute("baseline-shift","0.5ex");r.setAttribute("text-decoration",t.decoration);r.setAttribute("rotate",t.rotated?90:0);r.setAttribute("kerning",t.kerning?"auto":0);r.firstChild.data=t.text;}});svg.TextPath.nodeType="text";var _6b9=(function(){var _6ba=/WebKit\/(\d*)/.exec(_687);return _6ba?_6ba[1]:0;})()>534;svg.Surface=_682("dojox.gfx.svg.Surface",gs.Surface,{constructor:function(){gs.Container._init.call(this);},destroy:function(){gs.Container.clear.call(this,true);this.defNode=null;this.inherited(arguments);},setDimensions:function(_6bb,_6bc){if(!this.rawNode){return this;}this.rawNode.setAttribute("width",_6bb);this.rawNode.setAttribute("height",_6bc);if(_6b9){this.rawNode.style.width=_6bb;this.rawNode.style.height=_6bc;}return this;},getDimensions:function(){var t=this.rawNode?{width:g.normalizedLength(this.rawNode.getAttribute("width")),height:g.normalizedLength(this.rawNode.getAttribute("height"))}:null;return t;}});svg.createSurface=function(_6bd,_6be,_6bf){var s=new svg.Surface();s.rawNode=_68b(svg.xmlns.svg,"svg");s.rawNode.setAttribute("overflow","hidden");if(_6be){s.rawNode.setAttribute("width",_6be);}if(_6bf){s.rawNode.setAttribute("height",_6bf);}var _6c0=_68b(svg.xmlns.svg,"defs");s.rawNode.appendChild(_6c0);s.defNode=_6c0;s._parent=dom.byId(_6bd);s._parent.appendChild(s.rawNode);g._base._fixMsTouchAction(s);return s;};var Font={_setFont:function(){var f=this.fontStyle;this.rawNode.setAttribute("font-style",f.style);this.rawNode.setAttribute("font-variant",f.variant);this.rawNode.setAttribute("font-weight",f.weight);this.rawNode.setAttribute("font-size",f.size);this.rawNode.setAttribute("font-family",f.family);}};var C=gs.Container;var _6c1=svg.Container={openBatch:function(){if(!this._batch){this.fragment=_690();}++this._batch;return this;},closeBatch:function(){this._batch=this._batch>0?--this._batch:0;if(this.fragment&&!this._batch){this.rawNode.appendChild(this.fragment);delete this.fragment;}return this;},add:function(_6c2){if(this!=_6c2.getParent()){if(this.fragment){this.fragment.appendChild(_6c2.rawNode);}else{this.rawNode.appendChild(_6c2.rawNode);}C.add.apply(this,arguments);_6c2.setClip(_6c2.clip);}return this;},remove:function(_6c3,_6c4){if(this==_6c3.getParent()){if(this.rawNode==_6c3.rawNode.parentNode){this.rawNode.removeChild(_6c3.rawNode);}if(this.fragment&&this.fragment==_6c3.rawNode.parentNode){this.fragment.removeChild(_6c3.rawNode);}_6c3._removeClipNode();C.remove.apply(this,arguments);}return this;},clear:function(){var r=this.rawNode;while(r.lastChild){r.removeChild(r.lastChild);}var _6c5=this.defNode;if(_6c5){while(_6c5.lastChild){_6c5.removeChild(_6c5.lastChild);}r.appendChild(_6c5);}return C.clear.apply(this,arguments);},getBoundingBox:C.getBoundingBox,_moveChildToFront:C._moveChildToFront,_moveChildToBack:C._moveChildToBack};var _6c6=svg.Creator={createObject:function(_6c7,_6c8){if(!this.rawNode){return null;}var _6c9=new _6c7(),node=_68b(svg.xmlns.svg,_6c7.nodeType);_6c9.setRawNode(node);_6c9.setShape(_6c8);this.add(_6c9);return _6c9;}};lang.extend(svg.Text,Font);lang.extend(svg.TextPath,Font);lang.extend(svg.Group,_6c1);lang.extend(svg.Group,gs.Creator);lang.extend(svg.Group,_6c6);lang.extend(svg.Surface,_6c1);lang.extend(svg.Surface,gs.Creator);lang.extend(svg.Surface,_6c6);svg.fixTarget=function(_6ca,_6cb){if(!_6ca.gfxTarget){if(_688&&_6ca.target.wholeText){_6ca.gfxTarget=_6ca.target.parentElement.__gfxObject__;}else{_6ca.gfxTarget=_6ca.target.__gfxObject__;}}return true;};if(svg.useSvgWeb){svg.createSurface=function(_6cc,_6cd,_6ce){var s=new svg.Surface();if(!_6cd||!_6ce){var pos=_683.position(_6cc);_6cd=_6cd||pos.w;_6ce=_6ce||pos.h;}_6cc=dom.byId(_6cc);var id=_6cc.id?_6cc.id+"_svgweb":g._base._getUniqueId();var _6cf=_68b(svg.xmlns.svg,"svg");_6cf.id=id;_6cf.setAttribute("width",_6cd);_6cf.setAttribute("height",_6ce);svgweb.appendChild(_6cf,_6cc);_6cf.addEventListener("SVGLoad",function(){s.rawNode=this;s.isLoaded=true;var _6d0=_68b(svg.xmlns.svg,"defs");s.rawNode.appendChild(_6d0);s.defNode=_6d0;if(s.onLoad){s.onLoad(s);}},false);s.isLoaded=false;return s;};svg.Surface.extend({destroy:function(){var _6d1=this.rawNode;svgweb.removeChild(_6d1,_6d1.parentNode);}});var _6d2={connect:function(name,_6d3,_6d4){if(name.substring(0,2)==="on"){name=name.substring(2);}if(arguments.length==2){_6d4=_6d3;}else{_6d4=lang.hitch(_6d3,_6d4);}this.getEventSource().addEventListener(name,_6d4,false);return [this,name,_6d4];},disconnect:function(_6d5){this.getEventSource().removeEventListener(_6d5[1],_6d5[2],false);delete _6d5[0];}};lang.extend(svg.Shape,_6d2);lang.extend(svg.Surface,_6d2);}return svg;});},"dojox/gfx/vml":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/_base/Color","dojo/_base/sniff","dojo/_base/config","dojo/dom","dojo/dom-geometry","dojo/_base/kernel","./_base","./shape","./path","./arc","./gradient","./matrix"],function(lang,_6d6,arr,_6d7,has,_6d8,dom,_6d9,_6da,g,gs,_6db,_6dc,_6dd,m){var vml=g.vml={};vml.xmlns="urn:schemas-microsoft-com:vml";document.namespaces.add("v",vml.xmlns);var _6de=["*","group","roundrect","oval","shape","rect","imagedata","path","textpath","text"],i=0,l=1,s=document.createStyleSheet();if(has("ie")>=8){i=1;l=_6de.length;}for(;i<l;++i){s.addRule("v\\:"+_6de[i],"behavior:url(#default#VML); display:inline-block");}vml.text_alignment={start:"left",middle:"center",end:"right"};vml._parseFloat=function(str){return str.match(/^\d+f$/i)?parseInt(str)/65536:parseFloat(str);};vml._bool={"t":1,"true":1};vml._reparentEvents=function(dst,src){for(var name in src){if(name.substr(0,2).toLowerCase()=="on"){dst[name]=src[name];src[name]=null;}}};vml.Shape=_6d6("dojox.gfx.vml.Shape",gs.Shape,{setFill:function(fill){if(!fill){this.fillStyle=null;this.rawNode.filled="f";return this;}var i,f,fo,a,s;if(typeof fill=="object"&&"type" in fill){switch(fill.type){case "linear":var _6df=this._getRealMatrix(),bbox=this.getBoundingBox(),_6e0=this._getRealBBox?this._getRealBBox():this.getTransformedBoundingBox();s=[];if(this.fillStyle!==fill){this.fillStyle=g.makeParameters(g.defaultLinearGradient,fill);}f=g.gradient.project(_6df,this.fillStyle,{x:bbox.x,y:bbox.y},{x:bbox.x+bbox.width,y:bbox.y+bbox.height},_6e0[0],_6e0[2]);a=f.colors;if(a[0].offset.toFixed(5)!="0.00000"){s.push("0 "+g.normalizeColor(a[0].color).toHex());}for(i=0;i<a.length;++i){s.push(a[i].offset.toFixed(5)+" "+g.normalizeColor(a[i].color).toHex());}i=a.length-1;if(a[i].offset.toFixed(5)!="1.00000"){s.push("1 "+g.normalizeColor(a[i].color).toHex());}fo=this.rawNode.fill;fo.colors.value=s.join(";");fo.method="sigma";fo.type="gradient";fo.angle=(270-m._radToDeg(f.angle))%360;fo.on=true;break;case "radial":f=g.makeParameters(g.defaultRadialGradient,fill);this.fillStyle=f;var l=parseFloat(this.rawNode.style.left),t=parseFloat(this.rawNode.style.top),w=parseFloat(this.rawNode.style.width),h=parseFloat(this.rawNode.style.height),c=isNaN(w)?1:2*f.r/w;a=[];if(f.colors[0].offset>0){a.push({offset:1,color:g.normalizeColor(f.colors[0].color)});}arr.forEach(f.colors,function(v,i){a.push({offset:1-v.offset*c,color:g.normalizeColor(v.color)});});i=a.length-1;while(i>=0&&a[i].offset<0){--i;}if(i<a.length-1){var q=a[i],p=a[i+1];p.color=_6d7.blendColors(q.color,p.color,q.offset/(q.offset-p.offset));p.offset=0;while(a.length-i>2){a.pop();}}i=a.length-1,s=[];if(a[i].offset>0){s.push("0 "+a[i].color.toHex());}for(;i>=0;--i){s.push(a[i].offset.toFixed(5)+" "+a[i].color.toHex());}fo=this.rawNode.fill;fo.colors.value=s.join(";");fo.method="sigma";fo.type="gradientradial";if(isNaN(w)||isNaN(h)||isNaN(l)||isNaN(t)){fo.focusposition="0.5 0.5";}else{fo.focusposition=((f.cx-l)/w).toFixed(5)+" "+((f.cy-t)/h).toFixed(5);}fo.focussize="0 0";fo.on=true;break;case "pattern":f=g.makeParameters(g.defaultPattern,fill);this.fillStyle=f;fo=this.rawNode.fill;fo.type="tile";fo.src=f.src;if(f.width&&f.height){fo.size.x=g.px2pt(f.width);fo.size.y=g.px2pt(f.height);}fo.alignShape="f";fo.position.x=0;fo.position.y=0;fo.origin.x=f.width?f.x/f.width:0;fo.origin.y=f.height?f.y/f.height:0;fo.on=true;break;}this.rawNode.fill.opacity=1;return this;}this.fillStyle=g.normalizeColor(fill);fo=this.rawNode.fill;if(!fo){fo=this.rawNode.ownerDocument.createElement("v:fill");}fo.method="any";fo.type="solid";fo.opacity=this.fillStyle.a;var _6e1=this.rawNode.filters["DXImageTransform.Microsoft.Alpha"];if(_6e1){_6e1.opacity=Math.round(this.fillStyle.a*100);}this.rawNode.fillcolor=this.fillStyle.toHex();this.rawNode.filled=true;return this;},setStroke:function(_6e2){if(!_6e2){this.strokeStyle=null;this.rawNode.stroked="f";return this;}if(typeof _6e2=="string"||lang.isArray(_6e2)||_6e2 instanceof _6d7){_6e2={color:_6e2};}var s=this.strokeStyle=g.makeParameters(g.defaultStroke,_6e2);s.color=g.normalizeColor(s.color);var rn=this.rawNode;rn.stroked=true;rn.strokecolor=s.color.toCss();rn.strokeweight=s.width+"px";if(rn.stroke){rn.stroke.opacity=s.color.a;rn.stroke.endcap=this._translate(this._capMap,s.cap);if(typeof s.join=="number"){rn.stroke.joinstyle="miter";rn.stroke.miterlimit=s.join;}else{rn.stroke.joinstyle=s.join;}rn.stroke.dashstyle=s.style=="none"?"Solid":s.style;}return this;},_capMap:{butt:"flat"},_capMapReversed:{flat:"butt"},_translate:function(dict,_6e3){return (_6e3 in dict)?dict[_6e3]:_6e3;},_applyTransform:function(){var _6e4=this._getRealMatrix();if(_6e4){var skew=this.rawNode.skew;if(typeof skew=="undefined"){for(var i=0;i<this.rawNode.childNodes.length;++i){if(this.rawNode.childNodes[i].tagName=="skew"){skew=this.rawNode.childNodes[i];break;}}}if(skew){skew.on="f";var mt=_6e4.xx.toFixed(8)+" "+_6e4.xy.toFixed(8)+" "+_6e4.yx.toFixed(8)+" "+_6e4.yy.toFixed(8)+" 0 0",_6e5=Math.floor(_6e4.dx).toFixed()+"px "+Math.floor(_6e4.dy).toFixed()+"px",s=this.rawNode.style,l=parseFloat(s.left),t=parseFloat(s.top),w=parseFloat(s.width),h=parseFloat(s.height);if(isNaN(l)){l=0;}if(isNaN(t)){t=0;}if(isNaN(w)||!w){w=1;}if(isNaN(h)||!h){h=1;}var _6e6=(-l/w-0.5).toFixed(8)+" "+(-t/h-0.5).toFixed(8);skew.matrix=mt;skew.origin=_6e6;skew.offset=_6e5;skew.on=true;}}if(this.fillStyle&&this.fillStyle.type=="linear"){this.setFill(this.fillStyle);}if(this.clip){this.setClip(this.clip);}return this;},_setDimensions:function(_6e7,_6e8){return this;},setRawNode:function(_6e9){_6e9.stroked="f";_6e9.filled="f";this.rawNode=_6e9;this.rawNode.__gfxObject__=this;},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this;},_moveToBack:function(){var r=this.rawNode,p=r.parentNode,n=p.firstChild;p.insertBefore(r,n);if(n.tagName=="rect"){n.swapNode(r);}return this;},_getRealMatrix:function(){return this.parentMatrix?new m.Matrix2D([this.parentMatrix,this.matrix]):this.matrix;},setClip:function(clip){this.inherited(arguments);var _6ea=this.rawNode.style;if(!clip){_6ea.position="absolute";_6ea.clip="rect(0px "+_6ea.width+" "+_6ea.height+" 0px)";}else{if("width" in clip){var _6eb=this._getRealMatrix(),l=parseFloat(_6ea.left),t=parseFloat(_6ea.top);if(isNaN(l)){l=0;}if(isNaN(t)){t=0;}var _6ec=m.multiplyRectangle(_6eb,clip);var pt=m.multiplyPoint(_6eb,{x:l,y:t});_6ea.clip="rect("+Math.round(_6ec.y-pt.y)+"px "+Math.round(_6ec.x-pt.x+_6ec.width)+"px "+Math.round(_6ec.y-pt.y+_6ec.height)+"px "+Math.round(_6ec.x-pt.x)+"px)";}}return this;}});vml.Group=_6d6("dojox.gfx.vml.Group",vml.Shape,{constructor:function(){gs.Container._init.call(this);},_applyTransform:function(){var _6ed=this._getRealMatrix();for(var i=0;i<this.children.length;++i){this.children[i]._updateParentMatrix(_6ed);}if(this.clip){this.setClip(this.clip);}return this;},_setDimensions:function(_6ee,_6ef){var r=this.rawNode,rs=r.style,bs=this.bgNode.style;rs.width=_6ee;rs.height=_6ef;r.coordsize=_6ee+" "+_6ef;bs.width=_6ee;bs.height=_6ef;for(var i=0;i<this.children.length;++i){this.children[i]._setDimensions(_6ee,_6ef);}return this;},setClip:function(clip){this.clip=clip;var _6f0=this.rawNode.style;if(!clip){_6f0.position="absolute";_6f0.clip="rect(0px "+_6f0.width+" "+_6f0.height+" 0px)";}else{if("width" in clip){var _6f1=this._getRealMatrix();var _6f2=m.multiplyRectangle(_6f1,clip);var bbox=this.getBoundingBox();bbox=bbox?m.multiplyRectangle(_6f1,bbox):null;var offx=bbox&&bbox.x<0?bbox.x:0,offy=bbox&&bbox.y<0?bbox.y:0;_6f0.position="absolute";_6f0.clip="rect("+Math.round(_6f2.y-offy)+"px "+Math.round(_6f2.x+_6f2.width-offx)+"px "+Math.round(_6f2.y+_6f2.height-offy)+"px "+Math.round(_6f2.x-offx)+"px)";}}return this;},destroy:function(){this.clear(true);vml.Shape.prototype.destroy.apply(this,arguments);}});vml.Group.nodeType="group";vml.Rect=_6d6("dojox.gfx.vml.Rect",[vml.Shape,gs.Rect],{setShape:function(_6f3){var _6f4=this.shape=g.makeParameters(this.shape,_6f3);this.bbox=null;var r=Math.min(1,(_6f4.r/Math.min(parseFloat(_6f4.width),parseFloat(_6f4.height)))).toFixed(8);var _6f5=this.rawNode.parentNode,_6f6=null;if(_6f5){if(_6f5.lastChild!==this.rawNode){for(var i=0;i<_6f5.childNodes.length;++i){if(_6f5.childNodes[i]===this.rawNode){_6f6=_6f5.childNodes[i+1];break;}}}_6f5.removeChild(this.rawNode);}if(has("ie")>7){var node=this.rawNode.ownerDocument.createElement("v:roundrect");node.arcsize=r;node.style.display="inline-block";vml._reparentEvents(node,this.rawNode);this.rawNode=node;this.rawNode.__gfxObject__=this;}else{this.rawNode.arcsize=r;}if(_6f5){if(_6f6){_6f5.insertBefore(this.rawNode,_6f6);}else{_6f5.appendChild(this.rawNode);}}var _6f7=this.rawNode.style;_6f7.left=_6f4.x.toFixed();_6f7.top=_6f4.y.toFixed();_6f7.width=(typeof _6f4.width=="string"&&_6f4.width.indexOf("%")>=0)?_6f4.width:Math.max(_6f4.width.toFixed(),0);_6f7.height=(typeof _6f4.height=="string"&&_6f4.height.indexOf("%")>=0)?_6f4.height:Math.max(_6f4.height.toFixed(),0);return this.setTransform(this.matrix).setFill(this.fillStyle).setStroke(this.strokeStyle);}});vml.Rect.nodeType="roundrect";vml.Ellipse=_6d6("dojox.gfx.vml.Ellipse",[vml.Shape,gs.Ellipse],{setShape:function(_6f8){var _6f9=this.shape=g.makeParameters(this.shape,_6f8);this.bbox=null;var _6fa=this.rawNode.style;_6fa.left=(_6f9.cx-_6f9.rx).toFixed();_6fa.top=(_6f9.cy-_6f9.ry).toFixed();_6fa.width=(_6f9.rx*2).toFixed();_6fa.height=(_6f9.ry*2).toFixed();return this.setTransform(this.matrix);}});vml.Ellipse.nodeType="oval";vml.Circle=_6d6("dojox.gfx.vml.Circle",[vml.Shape,gs.Circle],{setShape:function(_6fb){var _6fc=this.shape=g.makeParameters(this.shape,_6fb);this.bbox=null;var _6fd=this.rawNode.style;_6fd.left=(_6fc.cx-_6fc.r).toFixed();_6fd.top=(_6fc.cy-_6fc.r).toFixed();_6fd.width=(_6fc.r*2).toFixed();_6fd.height=(_6fc.r*2).toFixed();return this;}});vml.Circle.nodeType="oval";vml.Line=_6d6("dojox.gfx.vml.Line",[vml.Shape,gs.Line],{constructor:function(_6fe){if(_6fe){_6fe.setAttribute("dojoGfxType","line");}},setShape:function(_6ff){var _700=this.shape=g.makeParameters(this.shape,_6ff);this.bbox=null;this.rawNode.path.v="m"+_700.x1.toFixed()+" "+_700.y1.toFixed()+"l"+_700.x2.toFixed()+" "+_700.y2.toFixed()+"e";return this.setTransform(this.matrix);}});vml.Line.nodeType="shape";vml.Polyline=_6d6("dojox.gfx.vml.Polyline",[vml.Shape,gs.Polyline],{constructor:function(_701){if(_701){_701.setAttribute("dojoGfxType","polyline");}},setShape:function(_702,_703){if(_702&&_702 instanceof Array){this.shape=g.makeParameters(this.shape,{points:_702});if(_703&&this.shape.points.length){this.shape.points.push(this.shape.points[0]);}}else{this.shape=g.makeParameters(this.shape,_702);}this.bbox=null;this._normalizePoints();var attr=[],p=this.shape.points;if(p.length>0){attr.push("m");attr.push(p[0].x.toFixed(),p[0].y.toFixed());if(p.length>1){attr.push("l");for(var i=1;i<p.length;++i){attr.push(p[i].x.toFixed(),p[i].y.toFixed());}}}attr.push("e");this.rawNode.path.v=attr.join(" ");return this.setTransform(this.matrix);}});vml.Polyline.nodeType="shape";vml.Image=_6d6("dojox.gfx.vml.Image",[vml.Shape,gs.Image],{setShape:function(_704){var _705=this.shape=g.makeParameters(this.shape,_704);this.bbox=null;this.rawNode.firstChild.src=_705.src;return this.setTransform(this.matrix);},_applyTransform:function(){var _706=this._getRealMatrix(),_707=this.rawNode,s=_707.style,_708=this.shape;if(_706){_706=m.multiply(_706,{dx:_708.x,dy:_708.y});}else{_706=m.normalize({dx:_708.x,dy:_708.y});}if(_706.xy==0&&_706.yx==0&&_706.xx>0&&_706.yy>0){s.filter="";s.width=Math.floor(_706.xx*_708.width);s.height=Math.floor(_706.yy*_708.height);s.left=Math.floor(_706.dx);s.top=Math.floor(_706.dy);}else{var ps=_707.parentNode.style;s.left="0px";s.top="0px";s.width=ps.width;s.height=ps.height;_706=m.multiply(_706,{xx:_708.width/parseInt(s.width),yy:_708.height/parseInt(s.height)});var f=_707.filters["DXImageTransform.Microsoft.Matrix"];if(f){f.M11=_706.xx;f.M12=_706.xy;f.M21=_706.yx;f.M22=_706.yy;f.Dx=_706.dx;f.Dy=_706.dy;}else{s.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+_706.xx+", M12="+_706.xy+", M21="+_706.yx+", M22="+_706.yy+", Dx="+_706.dx+", Dy="+_706.dy+")";}}return this;},_setDimensions:function(_709,_70a){var r=this.rawNode,f=r.filters["DXImageTransform.Microsoft.Matrix"];if(f){var s=r.style;s.width=_709;s.height=_70a;return this._applyTransform();}return this;}});vml.Image.nodeType="rect";vml.Text=_6d6("dojox.gfx.vml.Text",[vml.Shape,gs.Text],{constructor:function(_70b){if(_70b){_70b.setAttribute("dojoGfxType","text");}this.fontStyle=null;},_alignment:{start:"left",middle:"center",end:"right"},setShape:function(_70c){this.shape=g.makeParameters(this.shape,_70c);this.bbox=null;var r=this.rawNode,s=this.shape,x=s.x,y=s.y.toFixed(),path;switch(s.align){case "middle":x-=5;break;case "end":x-=10;break;}path="m"+x.toFixed()+","+y+"l"+(x+10).toFixed()+","+y+"e";var p=null,t=null,c=r.childNodes;for(var i=0;i<c.length;++i){var tag=c[i].tagName;if(tag=="path"){p=c[i];if(t){break;}}else{if(tag=="textpath"){t=c[i];if(p){break;}}}}if(!p){p=r.ownerDocument.createElement("v:path");r.appendChild(p);}if(!t){t=r.ownerDocument.createElement("v:textpath");r.appendChild(t);}p.v=path;p.textPathOk=true;t.on=true;var a=vml.text_alignment[s.align];t.style["v-text-align"]=a?a:"left";t.style["text-decoration"]=s.decoration;t.style["v-rotate-letters"]=s.rotated;t.style["v-text-kern"]=s.kerning;t.string=s.text;return this.setTransform(this.matrix);},_setFont:function(){var f=this.fontStyle,c=this.rawNode.childNodes;for(var i=0;i<c.length;++i){if(c[i].tagName=="textpath"){c[i].style.font=g.makeFontString(f);break;}}this.setTransform(this.matrix);},_getRealMatrix:function(){var _70d=this.inherited(arguments);if(_70d){_70d=m.multiply(_70d,{dy:-g.normalizedLength(this.fontStyle?this.fontStyle.size:"10pt")*0.35});}return _70d;},getTextWidth:function(){var _70e=this.rawNode,_70f=_70e.style.display;_70e.style.display="inline";var _710=g.pt2px(parseFloat(_70e.currentStyle.width));_70e.style.display=_70f;return _710;}});vml.Text.nodeType="shape";vml.Path=_6d6("dojox.gfx.vml.Path",[vml.Shape,_6db.Path],{constructor:function(_711){if(_711&&!_711.getAttribute("dojoGfxType")){_711.setAttribute("dojoGfxType","path");}this.vmlPath="";this.lastControl={};},_updateWithSegment:function(_712){var last=lang.clone(this.last);this.inherited(arguments);if(arguments.length>1){return;}var path=this[this.renderers[_712.action]](_712,last);if(typeof this.vmlPath=="string"){this.vmlPath+=path.join("");this.rawNode.path.v=this.vmlPath+" r0,0 e";}else{Array.prototype.push.apply(this.vmlPath,path);}},setShape:function(_713){this.vmlPath=[];this.lastControl.type="";this.inherited(arguments);this.vmlPath=this.vmlPath.join("");this.rawNode.path.v=this.vmlPath+" r0,0 e";return this;},_pathVmlToSvgMap:{m:"M",l:"L",t:"m",r:"l",c:"C",v:"c",qb:"Q",x:"z",e:""},renderers:{M:"_moveToA",m:"_moveToR",L:"_lineToA",l:"_lineToR",H:"_hLineToA",h:"_hLineToR",V:"_vLineToA",v:"_vLineToR",C:"_curveToA",c:"_curveToR",S:"_smoothCurveToA",s:"_smoothCurveToR",Q:"_qCurveToA",q:"_qCurveToR",T:"_qSmoothCurveToA",t:"_qSmoothCurveToR",A:"_arcTo",a:"_arcTo",Z:"_closePath",z:"_closePath"},_addArgs:function(path,_714,from,upto){var n=_714 instanceof Array?_714:_714.args;for(var i=from;i<upto;++i){path.push(" ",n[i].toFixed());}},_adjustRelCrd:function(last,_715,step){var n=_715 instanceof Array?_715:_715.args,l=n.length,_716=new Array(l),i=0,x=last.x,y=last.y;if(typeof x!="number"){_716[0]=x=n[0];_716[1]=y=n[1];i=2;}if(typeof step=="number"&&step!=2){var j=step;while(j<=l){for(;i<j;i+=2){_716[i]=x+n[i];_716[i+1]=y+n[i+1];}x=_716[j-2];y=_716[j-1];j+=step;}}else{for(;i<l;i+=2){_716[i]=(x+=n[i]);_716[i+1]=(y+=n[i+1]);}}return _716;},_adjustRelPos:function(last,_717){var n=_717 instanceof Array?_717:_717.args,l=n.length,_718=new Array(l);for(var i=0;i<l;++i){_718[i]=(last+=n[i]);}return _718;},_moveToA:function(_719){var p=[" m"],n=_719 instanceof Array?_719:_719.args,l=n.length;this._addArgs(p,n,0,2);if(l>2){p.push(" l");this._addArgs(p,n,2,l);}this.lastControl.type="";return p;},_moveToR:function(_71a,last){return this._moveToA(this._adjustRelCrd(last,_71a));},_lineToA:function(_71b){var p=[" l"],n=_71b instanceof Array?_71b:_71b.args;this._addArgs(p,n,0,n.length);this.lastControl.type="";return p;},_lineToR:function(_71c,last){return this._lineToA(this._adjustRelCrd(last,_71c));},_hLineToA:function(_71d,last){var p=[" l"],y=" "+last.y.toFixed(),n=_71d instanceof Array?_71d:_71d.args,l=n.length;for(var i=0;i<l;++i){p.push(" ",n[i].toFixed(),y);}this.lastControl.type="";return p;},_hLineToR:function(_71e,last){return this._hLineToA(this._adjustRelPos(last.x,_71e),last);},_vLineToA:function(_71f,last){var p=[" l"],x=" "+last.x.toFixed(),n=_71f instanceof Array?_71f:_71f.args,l=n.length;for(var i=0;i<l;++i){p.push(x," ",n[i].toFixed());}this.lastControl.type="";return p;},_vLineToR:function(_720,last){return this._vLineToA(this._adjustRelPos(last.y,_720),last);},_curveToA:function(_721){var p=[],n=_721 instanceof Array?_721:_721.args,l=n.length,lc=this.lastControl;for(var i=0;i<l;i+=6){p.push(" c");this._addArgs(p,n,i,i+6);}lc.x=n[l-4];lc.y=n[l-3];lc.type="C";return p;},_curveToR:function(_722,last){return this._curveToA(this._adjustRelCrd(last,_722,6));},_smoothCurveToA:function(_723,last){var p=[],n=_723 instanceof Array?_723:_723.args,l=n.length,lc=this.lastControl,i=0;if(lc.type!="C"){p.push(" c");this._addArgs(p,[last.x,last.y],0,2);this._addArgs(p,n,0,4);lc.x=n[0];lc.y=n[1];lc.type="C";i=4;}for(;i<l;i+=4){p.push(" c");this._addArgs(p,[2*last.x-lc.x,2*last.y-lc.y],0,2);this._addArgs(p,n,i,i+4);lc.x=n[i];lc.y=n[i+1];}return p;},_smoothCurveToR:function(_724,last){return this._smoothCurveToA(this._adjustRelCrd(last,_724,4),last);},_qCurveToA:function(_725){var p=[],n=_725 instanceof Array?_725:_725.args,l=n.length,lc=this.lastControl;for(var i=0;i<l;i+=4){p.push(" qb");this._addArgs(p,n,i,i+4);}lc.x=n[l-4];lc.y=n[l-3];lc.type="Q";return p;},_qCurveToR:function(_726,last){return this._qCurveToA(this._adjustRelCrd(last,_726,4));},_qSmoothCurveToA:function(_727,last){var p=[],n=_727 instanceof Array?_727:_727.args,l=n.length,lc=this.lastControl,i=0;if(lc.type!="Q"){p.push(" qb");this._addArgs(p,[lc.x=last.x,lc.y=last.y],0,2);lc.type="Q";this._addArgs(p,n,0,2);i=2;}for(;i<l;i+=2){p.push(" qb");this._addArgs(p,[lc.x=2*last.x-lc.x,lc.y=2*last.y-lc.y],0,2);this._addArgs(p,n,i,i+2);}return p;},_qSmoothCurveToR:function(_728,last){return this._qSmoothCurveToA(this._adjustRelCrd(last,_728,2),last);},_arcTo:function(_729,last){var p=[],n=_729.args,l=n.length,_72a=_729.action=="a";for(var i=0;i<l;i+=7){var x1=n[i+5],y1=n[i+6];if(_72a){x1+=last.x;y1+=last.y;}var _72b=_6dc.arcAsBezier(last,n[i],n[i+1],n[i+2],n[i+3]?1:0,n[i+4]?1:0,x1,y1);for(var j=0;j<_72b.length;++j){p.push(" c");var t=_72b[j];this._addArgs(p,t,0,t.length);this._updateBBox(t[0],t[1]);this._updateBBox(t[2],t[3]);this._updateBBox(t[4],t[5]);}last.x=x1;last.y=y1;}this.lastControl.type="";return p;},_closePath:function(){this.lastControl.type="";return ["x"];},_getRealBBox:function(){this._confirmSegmented();if(this.tbbox){return this.tbbox;}if(typeof this.shape.path=="string"){this.shape.path="";}return this.inherited(arguments);}});vml.Path.nodeType="shape";vml.TextPath=_6d6("dojox.gfx.vml.TextPath",[vml.Path,_6db.TextPath],{constructor:function(_72c){if(_72c){_72c.setAttribute("dojoGfxType","textpath");}this.fontStyle=null;if(!("text" in this)){this.text=lang.clone(g.defaultTextPath);}if(!("fontStyle" in this)){this.fontStyle=lang.clone(g.defaultFont);}},setText:function(_72d){this.text=g.makeParameters(this.text,typeof _72d=="string"?{text:_72d}:_72d);this._setText();return this;},setFont:function(_72e){this.fontStyle=typeof _72e=="string"?g.splitFontString(_72e):g.makeParameters(g.defaultFont,_72e);this._setFont();return this;},_setText:function(){this.bbox=null;var r=this.rawNode,s=this.text,p=null,t=null,c=r.childNodes;for(var i=0;i<c.length;++i){var tag=c[i].tagName;if(tag=="path"){p=c[i];if(t){break;}}else{if(tag=="textpath"){t=c[i];if(p){break;}}}}if(!p){p=this.rawNode.ownerDocument.createElement("v:path");r.appendChild(p);}if(!t){t=this.rawNode.ownerDocument.createElement("v:textpath");r.appendChild(t);}p.textPathOk=true;t.on=true;var a=vml.text_alignment[s.align];t.style["v-text-align"]=a?a:"left";t.style["text-decoration"]=s.decoration;t.style["v-rotate-letters"]=s.rotated;t.style["v-text-kern"]=s.kerning;t.string=s.text;},_setFont:function(){var f=this.fontStyle,c=this.rawNode.childNodes;for(var i=0;i<c.length;++i){if(c[i].tagName=="textpath"){c[i].style.font=g.makeFontString(f);break;}}}});vml.TextPath.nodeType="shape";vml.Surface=_6d6("dojox.gfx.vml.Surface",gs.Surface,{constructor:function(){gs.Container._init.call(this);},destroy:function(){this.clear(true);this.inherited(arguments);},setDimensions:function(_72f,_730){this.width=g.normalizedLength(_72f);this.height=g.normalizedLength(_730);if(!this.rawNode){return this;}var cs=this.clipNode.style,r=this.rawNode,rs=r.style,bs=this.bgNode.style,ps=this._parent.style,i;ps.width=_72f;ps.height=_730;cs.width=_72f;cs.height=_730;cs.clip="rect(0px "+_72f+"px "+_730+"px 0px)";rs.width=_72f;rs.height=_730;r.coordsize=_72f+" "+_730;bs.width=_72f;bs.height=_730;for(i=0;i<this.children.length;++i){this.children[i]._setDimensions(_72f,_730);}return this;},getDimensions:function(){var t=this.rawNode?{width:g.normalizedLength(this.rawNode.style.width),height:g.normalizedLength(this.rawNode.style.height)}:null;if(t.width<=0){t.width=this.width;}if(t.height<=0){t.height=this.height;}return t;}});vml.createSurface=function(_731,_732,_733){if(!_732&&!_733){var pos=_6d9.position(_731);_732=_732||pos.w;_733=_733||pos.h;}if(typeof _732=="number"){_732=_732+"px";}if(typeof _733=="number"){_733=_733+"px";}var s=new vml.Surface(),p=dom.byId(_731),c=s.clipNode=p.ownerDocument.createElement("div"),r=s.rawNode=p.ownerDocument.createElement("v:group"),cs=c.style,rs=r.style;if(has("ie")>7){rs.display="inline-block";}s._parent=p;s._nodes.push(c);p.style.width=_732;p.style.height=_733;cs.position="absolute";cs.width=_732;cs.height=_733;cs.clip="rect(0px "+_732+" "+_733+" 0px)";rs.position="absolute";rs.width=_732;rs.height=_733;r.coordsize=(_732==="100%"?_732:parseFloat(_732))+" "+(_733==="100%"?_733:parseFloat(_733));r.coordorigin="0 0";var b=s.bgNode=r.ownerDocument.createElement("v:rect"),bs=b.style;bs.left=bs.top=0;bs.width=rs.width;bs.height=rs.height;b.filled=b.stroked="f";r.appendChild(b);c.appendChild(r);p.appendChild(c);s.width=g.normalizedLength(_732);s.height=g.normalizedLength(_733);return s;};function _734(_735,f,o){o=o||_6da.global;f.call(o,_735);if(_735 instanceof g.Surface||_735 instanceof g.Group){arr.forEach(_735.children,function(_736){_734(_736,f,o);});}};var _737=function(_738){if(this!=_738.getParent()){var _739=_738.getParent();if(_739){_739.remove(_738);}this.rawNode.appendChild(_738.rawNode);C.add.apply(this,arguments);_734(this,function(s){if(typeof (s.getFont)=="function"){s.setShape(s.getShape());s.setFont(s.getFont());}if(typeof (s.setFill)=="function"){s.setFill(s.getFill());s.setStroke(s.getStroke());}});}return this;};var _73a=function(_73b){if(this!=_73b.getParent()){this.rawNode.appendChild(_73b.rawNode);if(!_73b.getParent()){_73b.setFill(_73b.getFill());_73b.setStroke(_73b.getStroke());}C.add.apply(this,arguments);}return this;};var C=gs.Container,_73c={add:_6d8.fixVmlAdd===true?_737:_73a,remove:function(_73d,_73e){if(this==_73d.getParent()){if(this.rawNode==_73d.rawNode.parentNode){this.rawNode.removeChild(_73d.rawNode);}C.remove.apply(this,arguments);}return this;},clear:function(){var r=this.rawNode;while(r.firstChild!=r.lastChild){if(r.firstChild!=this.bgNode){r.removeChild(r.firstChild);}if(r.lastChild!=this.bgNode){r.removeChild(r.lastChild);}}return C.clear.apply(this,arguments);},getBoundingBox:C.getBoundingBox,_moveChildToFront:C._moveChildToFront,_moveChildToBack:C._moveChildToBack};var _73f={createGroup:function(){var node=this.createObject(vml.Group,null);var r=node.rawNode.ownerDocument.createElement("v:rect");r.style.left=r.style.top=0;r.style.width=node.rawNode.style.width;r.style.height=node.rawNode.style.height;r.filled=r.stroked="f";node.rawNode.appendChild(r);node.bgNode=r;return node;},createImage:function(_740){if(!this.rawNode){return null;}var _741=new vml.Image(),doc=this.rawNode.ownerDocument,node=doc.createElement("v:rect");node.stroked="f";node.style.width=this.rawNode.style.width;node.style.height=this.rawNode.style.height;var img=doc.createElement("v:imagedata");node.appendChild(img);_741.setRawNode(node);this.rawNode.appendChild(node);_741.setShape(_740);this.add(_741);return _741;},createRect:function(rect){if(!this.rawNode){return null;}var _742=new vml.Rect,node=this.rawNode.ownerDocument.createElement("v:roundrect");if(has("ie")>7){node.style.display="inline-block";}_742.setRawNode(node);this.rawNode.appendChild(node);_742.setShape(rect);this.add(_742);return _742;},createObject:function(_743,_744){if(!this.rawNode){return null;}var _745=new _743(),node=this.rawNode.ownerDocument.createElement("v:"+_743.nodeType);_745.setRawNode(node);this.rawNode.appendChild(node);switch(_743){case vml.Group:case vml.Line:case vml.Polyline:case vml.Image:case vml.Text:case vml.Path:case vml.TextPath:this._overrideSize(node);}_745.setShape(_744);this.add(_745);return _745;},_overrideSize:function(node){var s=this.rawNode.style,w=s.width,h=s.height;node.style.width=w;node.style.height=h;node.coordsize=parseInt(w)+" "+parseInt(h);}};lang.extend(vml.Group,_73c);lang.extend(vml.Group,gs.Creator);lang.extend(vml.Group,_73f);lang.extend(vml.Surface,_73c);lang.extend(vml.Surface,gs.Creator);lang.extend(vml.Surface,_73f);vml.fixTarget=function(_746,_747){if(!_746.gfxTarget){_746.gfxTarget=_746.target.__gfxObject__;}return true;};return vml;});},"dojox/gfx/arc":function(){define(["./_base","dojo/_base/lang","./matrix"],function(g,lang,m){var _748=2*Math.PI,pi4=Math.PI/4,pi8=Math.PI/8,pi48=pi4+pi8,_749=_74a(pi8);function _74a(_74b){var cosa=Math.cos(_74b),sina=Math.sin(_74b),p2={x:cosa+(4/3)*(1-cosa),y:sina-(4/3)*cosa*(1-cosa)/sina};return {s:{x:cosa,y:-sina},c1:{x:p2.x,y:-p2.y},c2:p2,e:{x:cosa,y:sina}};};var arc=g.arc={unitArcAsBezier:_74a,curvePI4:_749,arcAsBezier:function(last,rx,ry,_74c,_74d,_74e,x,y){_74d=Boolean(_74d);_74e=Boolean(_74e);var xRot=m._degToRad(_74c),rx2=rx*rx,ry2=ry*ry,pa=m.multiplyPoint(m.rotate(-xRot),{x:(last.x-x)/2,y:(last.y-y)/2}),pax2=pa.x*pa.x,pay2=pa.y*pa.y,c1=Math.sqrt((rx2*ry2-rx2*pay2-ry2*pax2)/(rx2*pay2+ry2*pax2));if(isNaN(c1)){c1=0;}var ca={x:c1*rx*pa.y/ry,y:-c1*ry*pa.x/rx};if(_74d==_74e){ca={x:-ca.x,y:-ca.y};}var c=m.multiplyPoint([m.translate((last.x+x)/2,(last.y+y)/2),m.rotate(xRot)],ca);var _74f=m.normalize([m.translate(c.x,c.y),m.rotate(xRot),m.scale(rx,ry)]);var _750=m.invert(_74f),sp=m.multiplyPoint(_750,last),ep=m.multiplyPoint(_750,x,y),_751=Math.atan2(sp.y,sp.x),_752=Math.atan2(ep.y,ep.x),_753=_751-_752;if(_74e){_753=-_753;}if(_753<0){_753+=_748;}else{if(_753>_748){_753-=_748;}}var _754=pi8,_755=_749,step=_74e?_754:-_754,_756=[];for(var _757=_753;_757>0;_757-=pi4){if(_757<pi48){_754=_757/2;_755=_74a(_754);step=_74e?_754:-_754;_757=0;}var c2,e,M=m.normalize([_74f,m.rotate(_751+step)]);if(_74e){c1=m.multiplyPoint(M,_755.c1);c2=m.multiplyPoint(M,_755.c2);e=m.multiplyPoint(M,_755.e);}else{c1=m.multiplyPoint(M,_755.c2);c2=m.multiplyPoint(M,_755.c1);e=m.multiplyPoint(M,_755.s);}_756.push([c1.x,c1.y,c2.x,c2.y,e.x,e.y]);_751+=2*step;}return _756;}};return arc;});},"dojox/gfx/gradient":function(){define(["dojo/_base/lang","./matrix","dojo/_base/Color"],function(lang,m,_758){var grad=lang.getObject("dojox.gfx.gradient",true);var C=_758;grad.rescale=function(_759,from,to){var len=_759.length,_75a=(to<from),_75b;if(_75a){var tmp=from;from=to;to=tmp;}if(!len){return [];}if(to<=_759[0].offset){_75b=[{offset:0,color:_759[0].color},{offset:1,color:_759[0].color}];}else{if(from>=_759[len-1].offset){_75b=[{offset:0,color:_759[len-1].color},{offset:1,color:_759[len-1].color}];}else{var span=to-from,stop,prev,i;_75b=[];if(from<0){_75b.push({offset:0,color:new C(_759[0].color)});}for(i=0;i<len;++i){stop=_759[i];if(stop.offset>=from){break;}}if(i){prev=_759[i-1];_75b.push({offset:0,color:_758.blendColors(new C(prev.color),new C(stop.color),(from-prev.offset)/(stop.offset-prev.offset))});}else{_75b.push({offset:0,color:new C(stop.color)});}for(;i<len;++i){stop=_759[i];if(stop.offset>=to){break;}_75b.push({offset:(stop.offset-from)/span,color:new C(stop.color)});}if(i<len){prev=_759[i-1];_75b.push({offset:1,color:_758.blendColors(new C(prev.color),new C(stop.color),(to-prev.offset)/(stop.offset-prev.offset))});}else{_75b.push({offset:1,color:new C(_759[len-1].color)});}}}if(_75a){_75b.reverse();for(i=0,len=_75b.length;i<len;++i){stop=_75b[i];stop.offset=1-stop.offset;}}return _75b;};function _75c(x,y,_75d,_75e,_75f,_760){var r=m.multiplyPoint(_75d,x,y),p=m.multiplyPoint(_75e,r);return {r:r,p:p,o:m.multiplyPoint(_75f,p).x/_760};};function _761(a,b){return a.o-b.o;};grad.project=function(_762,_763,tl,rb,ttl,trb){_762=_762||m.identity;var f1=m.multiplyPoint(_762,_763.x1,_763.y1),f2=m.multiplyPoint(_762,_763.x2,_763.y2),_764=Math.atan2(f2.y-f1.y,f2.x-f1.x),_765=m.project(f2.x-f1.x,f2.y-f1.y),pf1=m.multiplyPoint(_765,f1),pf2=m.multiplyPoint(_765,f2),_766=new m.Matrix2D([m.rotate(-_764),{dx:-pf1.x,dy:-pf1.y}]),_767=m.multiplyPoint(_766,pf2).x,_768=[_75c(tl.x,tl.y,_762,_765,_766,_767),_75c(rb.x,rb.y,_762,_765,_766,_767),_75c(tl.x,rb.y,_762,_765,_766,_767),_75c(rb.x,tl.y,_762,_765,_766,_767)].sort(_761),from=_768[0].o,to=_768[3].o,_769=grad.rescale(_763.colors,from,to),_76a=Math.atan2(_768[3].r.y-_768[0].r.y,_768[3].r.x-_768[0].r.x);return {type:"linear",x1:_768[0].p.x,y1:_768[0].p.y,x2:_768[3].p.x,y2:_768[3].p.y,colors:_769,angle:_764};};return grad;});},"dojox/grid/_View":function(){define(["dojo","dijit/registry","../main","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/connect","dojo/_base/sniff","dojo/query","dojo/_base/window","dojo/text!./resources/View.html","dojo/dnd/Source","dijit/_Widget","dijit/_TemplatedMixin","dojox/html/metrics","./util","dojo/_base/html","./_Builder","dojo/dnd/Avatar","dojo/dnd/Manager"],function(dojo,_76b,_76c,_76d,_76e,lang,_76f,has,_770,win,_771,_772,_773,_774,_775,util,html,_776,_777,_778){var _779=function(_77a,_77b){return _77a.style.cssText==undefined?_77a.getAttribute("style"):_77a.style.cssText;};var _77c=_76d("dojox.grid._View",[_773,_774],{defaultWidth:"18em",viewWidth:"",templateString:_771,classTag:"dojoxGrid",marginBottom:0,rowPad:2,_togglingColumn:-1,_headerBuilderClass:_776._HeaderBuilder,_contentBuilderClass:_776._ContentBuilder,postMixInProperties:function(){this.rowNodes={};},postCreate:function(){this.connect(this.scrollboxNode,"onscroll","doscroll");util.funnelEvents(this.contentNode,this,"doContentEvent",["mouseover","mouseout","click","dblclick","contextmenu","mousedown"]);util.funnelEvents(this.headerNode,this,"doHeaderEvent",["dblclick","mouseover","mouseout","mousemove","mousedown","click","contextmenu"]);this.content=new this._contentBuilderClass(this);this.header=new this._headerBuilderClass(this);if(!this.grid.isLeftToRight()){this.headerNodeContainer.style.width="";}},destroy:function(){html.destroy(this.headerNode);delete this.headerNode;for(var i in this.rowNodes){this._cleanupRowWidgets(this.rowNodes[i]);html.destroy(this.rowNodes[i]);}this.rowNodes={};if(this.source){this.source.destroy();}this.inherited(arguments);},focus:function(){if(has("ie")||has("webkit")||has("opera")){this.hiddenFocusNode.focus();}else{this.scrollboxNode.focus();}},setStructure:function(_77d){var vs=(this.structure=_77d);if(vs.width&&!isNaN(vs.width)){this.viewWidth=vs.width+"em";}else{this.viewWidth=vs.width||(vs.noscroll?"auto":this.viewWidth);}this._onBeforeRow=vs.onBeforeRow||function(){};this._onAfterRow=vs.onAfterRow||function(){};this.noscroll=vs.noscroll;if(this.noscroll){this.scrollboxNode.style.overflow="hidden";}this.simpleStructure=Boolean(vs.cells.length==1);this.testFlexCells();this.updateStructure();},_cleanupRowWidgets:function(_77e){if(_77e){_76e.forEach(_770("[widgetId]",_77e).map(_76b.byNode),function(w){if(w._destroyOnRemove){w.destroy();delete w;}else{if(w.domNode&&w.domNode.parentNode){w.domNode.parentNode.removeChild(w.domNode);}}});}},onBeforeRow:function(_77f,_780){this._onBeforeRow(_77f,_780);if(_77f>=0){this._cleanupRowWidgets(this.getRowNode(_77f));}},onAfterRow:function(_781,_782,_783){this._onAfterRow(_781,_782,_783);var g=this.grid;_76e.forEach(_770(".dojoxGridStubNode",_783),function(n){if(n&&n.parentNode){var lw=n.getAttribute("linkWidget");var _784=window.parseInt(html.attr(n,"cellIdx"),10);var _785=g.getCell(_784);var w=_76b.byId(lw);if(w){n.parentNode.replaceChild(w.domNode,n);if(!w._started){w.startup();}dojo.destroy(n);}else{n.innerHTML="";}}},this);},testFlexCells:function(){this.flexCells=false;for(var j=0,row;(row=this.structure.cells[j]);j++){for(var i=0,cell;(cell=row[i]);i++){cell.view=this;this.flexCells=this.flexCells||cell.isFlex();}}return this.flexCells;},updateStructure:function(){this.header.update();this.content.update();},getScrollbarWidth:function(){var _786=this.hasVScrollbar();var _787=html.style(this.scrollboxNode,"overflow");if(this.noscroll||!_787||_787=="hidden"){_786=false;}else{if(_787=="scroll"){_786=true;}}return (_786?_775.getScrollbar().w:0);},getColumnsWidth:function(){var h=this.headerContentNode;return h&&h.firstChild?(h.firstChild.offsetWidth||html.style(h.firstChild,"width")):0;},setColumnsWidth:function(_788){this.headerContentNode.firstChild.style.width=_788+"px";if(this.viewWidth){this.viewWidth=_788+"px";}},getWidth:function(){return this.viewWidth||(this.getColumnsWidth()+this.getScrollbarWidth())+"px";},getContentWidth:function(){return Math.max(0,html._getContentBox(this.domNode).w-this.getScrollbarWidth())+"px";},render:function(){this.scrollboxNode.style.height="";this.renderHeader();if(this._togglingColumn>=0){this.setColumnsWidth(this.getColumnsWidth()-this._togglingColumn);this._togglingColumn=-1;}var _789=this.grid.layout.cells;var _78a=lang.hitch(this,function(node,_78b){!this.grid.isLeftToRight()&&(_78b=!_78b);var inc=_78b?-1:1;var idx=this.header.getCellNodeIndex(node)+inc;var cell=_789[idx];while(cell&&cell.getHeaderNode()&&cell.getHeaderNode().style.display=="none"){idx+=inc;cell=_789[idx];}if(cell){return cell.getHeaderNode();}return null;});if(this.grid.columnReordering&&this.simpleStructure){if(this.source){this.source.destroy();}var _78c="dojoxGrid_bottomMarker";var _78d="dojoxGrid_topMarker";if(this.bottomMarker){html.destroy(this.bottomMarker);}this.bottomMarker=html.byId(_78c);if(this.topMarker){html.destroy(this.topMarker);}this.topMarker=html.byId(_78d);if(!this.bottomMarker){this.bottomMarker=html.create("div",{"id":_78c,"class":"dojoxGridColPlaceBottom"},win.body());this._hide(this.bottomMarker);this.topMarker=html.create("div",{"id":_78d,"class":"dojoxGridColPlaceTop"},win.body());this._hide(this.topMarker);}this.arrowDim=html.contentBox(this.bottomMarker);var _78e=html.contentBox(this.headerContentNode.firstChild.rows[0]).h;this.source=new _772(this.headerContentNode.firstChild.rows[0],{horizontal:true,accept:["gridColumn_"+this.grid.id],viewIndex:this.index,generateText:false,onMouseDown:lang.hitch(this,function(e){this.header.decorateEvent(e);if((this.header.overRightResizeArea(e)||this.header.overLeftResizeArea(e))&&this.header.canResize(e)&&!this.header.moveable){this.header.beginColumnResize(e);}else{if(this.grid.headerMenu){this.grid.headerMenu.onCancel(true);}if(e.button===(has("ie")<9?1:0)){_772.prototype.onMouseDown.call(this.source,e);}}}),onMouseOver:lang.hitch(this,function(e){var src=this.source;if(src._getChildByEvent(e)){_772.prototype.onMouseOver.apply(src,arguments);}}),_markTargetAnchor:lang.hitch(this,function(_78f){var src=this.source;if(src.current==src.targetAnchor&&src.before==_78f){return;}if(src.targetAnchor&&_78a(src.targetAnchor,src.before)){src._removeItemClass(_78a(src.targetAnchor,src.before),src.before?"After":"Before");}_772.prototype._markTargetAnchor.call(src,_78f);var _790=_78f?src.targetAnchor:_78a(src.targetAnchor,src.before);var _791=0;if(!_790){_790=src.targetAnchor;_791=html.contentBox(_790).w+this.arrowDim.w/2+2;}var pos=html.position(_790,true);var left=Math.floor(pos.x-this.arrowDim.w/2+_791);html.style(this.bottomMarker,"visibility","visible");html.style(this.topMarker,"visibility","visible");html.style(this.bottomMarker,{"left":left+"px","top":(_78e+pos.y)+"px"});html.style(this.topMarker,{"left":left+"px","top":(pos.y-this.arrowDim.h)+"px"});if(src.targetAnchor&&_78a(src.targetAnchor,src.before)){src._addItemClass(_78a(src.targetAnchor,src.before),src.before?"After":"Before");}}),_unmarkTargetAnchor:lang.hitch(this,function(){var src=this.source;if(!src.targetAnchor){return;}if(src.targetAnchor&&_78a(src.targetAnchor,src.before)){src._removeItemClass(_78a(src.targetAnchor,src.before),src.before?"After":"Before");}this._hide(this.bottomMarker);this._hide(this.topMarker);_772.prototype._unmarkTargetAnchor.call(src);}),destroy:lang.hitch(this,function(){_76f.disconnect(this._source_conn);_76f.unsubscribe(this._source_sub);_772.prototype.destroy.call(this.source);if(this.bottomMarker){html.destroy(this.bottomMarker);delete this.bottomMarker;}if(this.topMarker){html.destroy(this.topMarker);delete this.topMarker;}}),onDndCancel:lang.hitch(this,function(){_772.prototype.onDndCancel.call(this.source);this._hide(this.bottomMarker);this._hide(this.topMarker);})});this._source_conn=_76f.connect(this.source,"onDndDrop",this,"_onDndDrop");this._source_sub=_76f.subscribe("/dnd/drop/before",this,"_onDndDropBefore");this.source.startup();}},_hide:function(node){html.style(node,{top:"-10000px","visibility":"hidden"});},_onDndDropBefore:function(_792,_793,copy){if(_778.manager().target!==this.source){return;}this.source._targetNode=this.source.targetAnchor;this.source._beforeTarget=this.source.before;var _794=this.grid.views.views;var _795=_794[_792.viewIndex];var _796=_794[this.index];if(_796!=_795){_795.convertColPctToFixed();_796.convertColPctToFixed();}},_onDndDrop:function(_797,_798,copy){if(_778.manager().target!==this.source){if(_778.manager().source===this.source){this._removingColumn=true;}return;}this._hide(this.bottomMarker);this._hide(this.topMarker);var _799=function(n){return n?html.attr(n,"idx"):null;};var w=html.marginBox(_798[0]).w;if(_797.viewIndex!==this.index){var _79a=this.grid.views.views;var _79b=_79a[_797.viewIndex];var _79c=_79a[this.index];if(_79b.viewWidth&&_79b.viewWidth!="auto"){_79b.setColumnsWidth(_79b.getColumnsWidth()-w);}if(_79c.viewWidth&&_79c.viewWidth!="auto"){_79c.setColumnsWidth(_79c.getColumnsWidth());}}var stn=this.source._targetNode;var stb=this.source._beforeTarget;!this.grid.isLeftToRight()&&(stb=!stb);var _79d=this.grid.layout;var idx=this.index;delete this.source._targetNode;delete this.source._beforeTarget;_79d.moveColumn(_797.viewIndex,idx,_799(_798[0]),_799(stn),stb);},renderHeader:function(){this.headerContentNode.innerHTML=this.header.generateHtml(this._getHeaderContent);if(this.flexCells){this.contentWidth=this.getContentWidth();this.headerContentNode.firstChild.style.width=this.contentWidth;}util.fire(this,"onAfterRow",[-1,this.structure.cells,this.headerContentNode]);},_getHeaderContent:function(_79e){var n=_79e.name||_79e.grid.getCellName(_79e);if(/^\s+$/.test(n)){n="&nbsp;";}var ret=["<div class=\"dojoxGridSortNode"];if(_79e.index!=_79e.grid.getSortIndex()){ret.push("\">");}else{ret=ret.concat([" ",_79e.grid.sortInfo>0?"dojoxGridSortUp":"dojoxGridSortDown","\"><div class=\"dojoxGridArrowButtonChar\">",_79e.grid.sortInfo>0?"&#9650;":"&#9660;","</div><div class=\"dojoxGridArrowButtonNode\" role=\"presentation\"></div>","<div class=\"dojoxGridColCaption\">"]);}ret=ret.concat([n,"</div></div>"]);return ret.join("");},resize:function(){this.adaptHeight();this.adaptWidth();},hasHScrollbar:function(_79f){var _7a0=this._hasHScroll||false;if(this._hasHScroll==undefined||_79f){if(this.noscroll){this._hasHScroll=false;}else{var _7a1=html.style(this.scrollboxNode,"overflow");if(_7a1=="hidden"){this._hasHScroll=false;}else{if(_7a1=="scroll"){this._hasHScroll=true;}else{this._hasHScroll=(this.scrollboxNode.offsetWidth-this.getScrollbarWidth()<this.contentNode.offsetWidth);}}}}if(_7a0!==this._hasHScroll){this.grid.update();}return this._hasHScroll;},hasVScrollbar:function(_7a2){var _7a3=this._hasVScroll||false;if(this._hasVScroll==undefined||_7a2){if(this.noscroll){this._hasVScroll=false;}else{var _7a4=html.style(this.scrollboxNode,"overflow");if(_7a4=="hidden"){this._hasVScroll=false;}else{if(_7a4=="scroll"){this._hasVScroll=true;}else{this._hasVScroll=(this.scrollboxNode.scrollHeight>this.scrollboxNode.clientHeight);}}}}if(_7a3!==this._hasVScroll){this.grid.update();}return this._hasVScroll;},convertColPctToFixed:function(){var _7a5=false;this.grid.initialWidth="";var _7a6=_770("th",this.headerContentNode);var _7a7=_76e.map(_7a6,function(c,vIdx){var w=c.style.width;html.attr(c,"vIdx",vIdx);if(w&&w.slice(-1)=="%"){_7a5=true;}else{if(w&&w.slice(-2)=="px"){return window.parseInt(w,10);}}return html.contentBox(c).w;});if(_7a5){_76e.forEach(this.grid.layout.cells,function(cell,idx){if(cell.view==this){var _7a8=cell.view.getHeaderCellNode(cell.index);if(_7a8&&html.hasAttr(_7a8,"vIdx")){var vIdx=window.parseInt(html.attr(_7a8,"vIdx"));this.setColWidth(idx,_7a7[vIdx]);html.removeAttr(_7a8,"vIdx");}}},this);return true;}return false;},adaptHeight:function(_7a9){if(!this.grid._autoHeight){var h=(this.domNode.style.height&&parseInt(this.domNode.style.height.replace(/px/,""),10))||this.domNode.clientHeight;var self=this;var _7aa=function(){var v;for(var i=0;i<self.grid.views.views.length;++i){v=self.grid.views.views[i];if(v!==self&&v.hasHScrollbar()){return true;}}return false;};if(_7a9||(this.noscroll&&_7aa())){h-=_775.getScrollbar().h;}util.setStyleHeightPx(this.scrollboxNode,h);}this.hasVScrollbar(true);},adaptWidth:function(){if(this.flexCells){this.contentWidth=this.getContentWidth();this.headerContentNode.firstChild.style.width=this.contentWidth;}var w=this.scrollboxNode.offsetWidth-this.getScrollbarWidth();if(!this._removingColumn){w=Math.max(w,this.getColumnsWidth())+"px";}else{w=Math.min(w,this.getColumnsWidth())+"px";this._removingColumn=false;}var cn=this.contentNode;cn.style.width=w;this.hasHScrollbar(true);},setSize:function(w,h){var ds=this.domNode.style;var hs=this.headerNode.style;if(w){ds.width=w;hs.width=w;}ds.height=(h>=0?h+"px":"");},renderRow:function(_7ab){var _7ac=this.createRowNode(_7ab);this.buildRow(_7ab,_7ac);return _7ac;},createRowNode:function(_7ad){var node=document.createElement("div");node.className=this.classTag+"Row";if(this instanceof _76c.grid._RowSelector){html.attr(node,"role","presentation");}else{html.attr(node,"role","row");if(this.grid.selectionMode!="none"){node.setAttribute("aria-selected","false");}}node[util.gridViewTag]=this.id;node[util.rowIndexTag]=_7ad;this.rowNodes[_7ad]=node;return node;},buildRow:function(_7ae,_7af){this.buildRowContent(_7ae,_7af);this.styleRow(_7ae,_7af);},buildRowContent:function(_7b0,_7b1){_7b1.innerHTML=this.content.generateHtml(_7b0,_7b0);if(this.flexCells&&this.contentWidth){_7b1.firstChild.style.width=this.contentWidth;}util.fire(this,"onAfterRow",[_7b0,this.structure.cells,_7b1]);},rowRemoved:function(_7b2){if(_7b2>=0){this._cleanupRowWidgets(this.getRowNode(_7b2));}this.grid.edit.save(this,_7b2);delete this.rowNodes[_7b2];},getRowNode:function(_7b3){return this.rowNodes[_7b3];},getCellNode:function(_7b4,_7b5){var row=this.getRowNode(_7b4);if(row){return this.content.getCellNode(row,_7b5);}},getHeaderCellNode:function(_7b6){if(this.headerContentNode){return this.header.getCellNode(this.headerContentNode,_7b6);}},styleRow:function(_7b7,_7b8){_7b8._style=_779(_7b8);this.styleRowNode(_7b7,_7b8);},styleRowNode:function(_7b9,_7ba){if(_7ba){this.doStyleRowNode(_7b9,_7ba);}},doStyleRowNode:function(_7bb,_7bc){this.grid.styleRowNode(_7bb,_7bc);},updateRow:function(_7bd){var _7be=this.getRowNode(_7bd);if(_7be){_7be.style.height="";this.buildRow(_7bd,_7be);}return _7be;},updateRowStyles:function(_7bf){this.styleRowNode(_7bf,this.getRowNode(_7bf));},lastTop:0,firstScroll:0,_nativeScroll:false,doscroll:function(_7c0){if(has("ff")>=13||has("chrome")){this._nativeScroll=true;}var _7c1=this.grid.isLeftToRight();if(this.firstScroll<2){if((!_7c1&&this.firstScroll==1)||(_7c1&&this.firstScroll===0)){var s=html.marginBox(this.headerNodeContainer);if(has("ie")){this.headerNodeContainer.style.width=s.w+this.getScrollbarWidth()+"px";}else{if(has("mozilla")){this.headerNodeContainer.style.width=s.w-this.getScrollbarWidth()+"px";this.scrollboxNode.scrollLeft=_7c1?this.scrollboxNode.clientWidth-this.scrollboxNode.scrollWidth:this.scrollboxNode.scrollWidth-this.scrollboxNode.clientWidth;}}}this.firstScroll++;}this.headerNode.scrollLeft=this.scrollboxNode.scrollLeft;var top=this.scrollboxNode.scrollTop;if(top!==this.lastTop){this.grid.scrollTo(top);}this._nativeScroll=false;},setScrollTop:function(_7c2){this.lastTop=_7c2;if(!this._nativeScroll){this.scrollboxNode.scrollTop=_7c2;}return this.scrollboxNode.scrollTop;},doContentEvent:function(e){if(this.content.decorateEvent(e)){this.grid.onContentEvent(e);}},doHeaderEvent:function(e){if(this.header.decorateEvent(e)){this.grid.onHeaderEvent(e);}},dispatchContentEvent:function(e){return this.content.dispatchEvent(e);},dispatchHeaderEvent:function(e){return this.header.dispatchEvent(e);},setColWidth:function(_7c3,_7c4){this.grid.setCellWidth(_7c3,_7c4+"px");},update:function(){if(!this.domNode){return;}this.content.update();this.grid.update();var left=this.scrollboxNode.scrollLeft;this.scrollboxNode.scrollLeft=left;this.headerNode.scrollLeft=left;}});var _7c5=_76d("dojox.grid._GridAvatar",_777,{construct:function(){var dd=win.doc;var a=dd.createElement("table");a.cellPadding=a.cellSpacing="0";a.className="dojoxGridDndAvatar";a.style.position="absolute";a.style.zIndex=1999;a.style.margin="0px";var b=dd.createElement("tbody");var tr=dd.createElement("tr");var td=dd.createElement("td");var img=dd.createElement("td");tr.className="dojoxGridDndAvatarItem";img.className="dojoxGridDndAvatarItemImage";img.style.width="16px";var _7c6=this.manager.source,node;if(_7c6.creator){node=_7c6._normalizedCreator(_7c6.getItem(this.manager.nodes[0].id).data,"avatar").node;}else{node=this.manager.nodes[0].cloneNode(true);var _7c7,_7c8;if(node.tagName.toLowerCase()=="tr"){_7c7=dd.createElement("table");_7c8=dd.createElement("tbody");_7c8.appendChild(node);_7c7.appendChild(_7c8);node=_7c7;}else{if(node.tagName.toLowerCase()=="th"){_7c7=dd.createElement("table");_7c8=dd.createElement("tbody");var r=dd.createElement("tr");_7c7.cellPadding=_7c7.cellSpacing="0";r.appendChild(node);_7c8.appendChild(r);_7c7.appendChild(_7c8);node=_7c7;}}}node.id="";td.appendChild(node);tr.appendChild(img);tr.appendChild(td);html.style(tr,"opacity",0.9);b.appendChild(tr);a.appendChild(b);this.node=a;var m=_778.manager();this.oldOffsetY=m.OFFSET_Y;m.OFFSET_Y=1;},destroy:function(){_778.manager().OFFSET_Y=this.oldOffsetY;this.inherited(arguments);}});var _7c9=_778.manager().makeAvatar;_778.manager().makeAvatar=function(){var src=this.source;if(src.viewIndex!==undefined&&!html.hasClass(win.body(),"dijit_a11y")){return new _7c5(this);}return _7c9.call(_778.manager());};return _77c;});},"dojox/html/metrics":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/sniff","dojo/ready","dojo/_base/unload","dojo/_base/window","dojo/dom-geometry"],function(_7ca,lang,has,_7cb,_7cc,_7cd,_7ce){var dhm=lang.getObject("dojox.html.metrics",true);var _7cf=lang.getObject("dojox");dhm.getFontMeasurements=function(){var _7d0={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};var _7d1;if(has("ie")){_7d1=_7cd.doc.documentElement.style.fontSize||"";if(!_7d1){_7cd.doc.documentElement.style.fontSize="100%";}}var div=_7cd.doc.createElement("div");var ds=div.style;ds.position="absolute";ds.left="-100px";ds.top="0";ds.width="30px";ds.height="1000em";ds.borderWidth="0";ds.margin="0";ds.padding="0";ds.outline="0";ds.lineHeight="1";ds.overflow="hidden";_7cd.body().appendChild(div);for(var p in _7d0){ds.fontSize=p;_7d0[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;}if(has("ie")){_7cd.doc.documentElement.style.fontSize=_7d1;}_7cd.body().removeChild(div);div=null;return _7d0;};var _7d2=null;dhm.getCachedFontMeasurements=function(_7d3){if(_7d3||!_7d2){_7d2=dhm.getFontMeasurements();}return _7d2;};var _7d4=null,_7d5={};dhm.getTextBox=function(text,_7d6,_7d7){var m,s;if(!_7d4){m=_7d4=_7cd.doc.createElement("div");var c=_7cd.doc.createElement("div");c.appendChild(m);s=c.style;s.overflow="scroll";s.position="absolute";s.left="0px";s.top="-10000px";s.width="1px";s.height="1px";s.visibility="hidden";s.borderWidth="0";s.margin="0";s.padding="0";s.outline="0";_7cd.body().appendChild(c);}else{m=_7d4;}m.className="";s=m.style;s.borderWidth="0";s.margin="0";s.padding="0";s.outline="0";if(arguments.length>1&&_7d6){for(var i in _7d6){if(i in _7d5){continue;}s[i]=_7d6[i];}}if(arguments.length>2&&_7d7){m.className=_7d7;}m.innerHTML=text;var box=_7ce.position(m);box.w=m.parentNode.scrollWidth;return box;};var _7d8={w:16,h:16};dhm.getScrollbar=function(){return {w:_7d8.w,h:_7d8.h};};dhm._fontResizeNode=null;dhm.initOnFontResize=function(_7d9){var f=dhm._fontResizeNode=_7cd.doc.createElement("iframe");var fs=f.style;fs.position="absolute";fs.width="5em";fs.height="10em";fs.top="-10000px";fs.display="none";if(has("ie")){f.onreadystatechange=function(){if(f.contentWindow.document.readyState=="complete"){f.onresize=f.contentWindow.parent[_7cf._scopeName].html.metrics._fontresize;}};}else{f.onload=function(){f.contentWindow.onresize=f.contentWindow.parent[_7cf._scopeName].html.metrics._fontresize;};}f.setAttribute("src","javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}</script></head><body></body></html>'");_7cd.body().appendChild(f);dhm.initOnFontResize=function(){};};dhm.onFontResize=function(){};dhm._fontresize=function(){dhm.onFontResize();};_7cc.addOnUnload(function(){var f=dhm._fontResizeNode;if(f){if(has("ie")&&f.onresize){f.onresize=null;}else{if(f.contentWindow&&f.contentWindow.onresize){f.contentWindow.onresize=null;}}dhm._fontResizeNode=null;}});_7cb(function(){try{var n=_7cd.doc.createElement("div");n.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";_7cd.body().appendChild(n);_7d8.w=n.offsetWidth-n.clientWidth;_7d8.h=n.offsetHeight-n.clientHeight;_7cd.body().removeChild(n);delete n;}catch(e){}if("fontSizeWatch" in _7ca.config&&!!_7ca.config.fontSizeWatch){dhm.initOnFontResize();}});return dhm;});},"dojox/grid/util":function(){define(["../main","dojo/_base/lang","dojo/dom"],function(_7da,lang,dom){var dgu=lang.getObject("grid.util",true,_7da);dgu.na="...";dgu.rowIndexTag="gridRowIndex";dgu.gridViewTag="gridView";dgu.fire=function(ob,ev,args){var fn=ob&&ev&&ob[ev];return fn&&(args?fn.apply(ob,args):ob[ev]());};dgu.setStyleHeightPx=function(_7db,_7dc){if(_7dc>=0){var s=_7db.style;var v=_7dc+"px";if(_7db&&s["height"]!=v){s["height"]=v;}}};dgu.mouseEvents=["mouseover","mouseout","mousedown","mouseup","click","dblclick","contextmenu"];dgu.keyEvents=["keyup","keydown","keypress"];dgu.funnelEvents=function(_7dd,_7de,_7df,_7e0){var evts=(_7e0?_7e0:dgu.mouseEvents.concat(dgu.keyEvents));for(var i=0,l=evts.length;i<l;i++){_7de.connect(_7dd,"on"+evts[i],_7df);}};dgu.removeNode=function(_7e1){_7e1=dom.byId(_7e1);_7e1&&_7e1.parentNode&&_7e1.parentNode.removeChild(_7e1);return _7e1;};dgu.arrayCompare=function(inA,inB){for(var i=0,l=inA.length;i<l;i++){if(inA[i]!=inB[i]){return false;}}return (inA.length==inB.length);};dgu.arrayInsert=function(_7e2,_7e3,_7e4){if(_7e2.length<=_7e3){_7e2[_7e3]=_7e4;}else{_7e2.splice(_7e3,0,_7e4);}};dgu.arrayRemove=function(_7e5,_7e6){_7e5.splice(_7e6,1);};dgu.arraySwap=function(_7e7,inI,inJ){var _7e8=_7e7[inI];_7e7[inI]=_7e7[inJ];_7e7[inJ]=_7e8;};return dgu;});},"dojox/grid/_Builder":function(){define(["../main","dojo/_base/array","dojo/_base/lang","dojo/_base/window","dojo/_base/event","dojo/_base/sniff","dojo/_base/connect","dojo/dnd/Moveable","dojox/html/metrics","./util","dojo/_base/html","dojo/dom-geometry"],function(_7e9,_7ea,lang,win,_7eb,has,_7ec,_7ed,_7ee,util,html,_7ef){var dg=_7e9.grid;var _7f0=function(td){return td.cellIndex>=0?td.cellIndex:_7ea.indexOf(td.parentNode.cells,td);};var _7f1=function(tr){return tr.rowIndex>=0?tr.rowIndex:_7ea.indexOf(tr.parentNode.childNodes,tr);};var _7f2=function(_7f3,_7f4){return _7f3&&((_7f3.rows||0)[_7f4]||_7f3.childNodes[_7f4]);};var _7f5=function(node){for(var n=node;n&&n.tagName!="TABLE";n=n.parentNode){}return n;};var _7f6=function(_7f7,_7f8){for(var n=_7f7;n&&_7f8(n);n=n.parentNode){}return n;};var _7f9=function(_7fa){var name=_7fa.toUpperCase();return function(node){return node.tagName!=name;};};var _7fb=util.rowIndexTag;var _7fc=util.gridViewTag;var _7fd=dg._Builder=lang.extend(function(view){if(view){this.view=view;this.grid=view.grid;}},{view:null,_table:"<table class=\"dojoxGridRowTable\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" role=\"presentation\"",getTableArray:function(){var html=[this._table];if(this.view.viewWidth){html.push([" style=\"width:",this.view.viewWidth,";\""].join(""));}html.push(">");return html;},generateCellMarkup:function(_7fe,_7ff,_800,_801){var _802=[],html;if(_801){var _803=_7fe.index!=_7fe.grid.getSortIndex()?"":_7fe.grid.sortInfo>0?"aria-sort=\"ascending\"":"aria-sort=\"descending\"";if(!_7fe.id){_7fe.id=this.grid.id+"Hdr"+_7fe.index;}html=["<th tabIndex=\"-1\" aria-readonly=\"true\" role=\"columnheader\"",_803," id=\"",_7fe.id,"\""];}else{var _804=this.grid.editable&&!_7fe.editable?"aria-readonly=\"true\"":"";html=["<td tabIndex=\"-1\" role=\"gridcell\"",_804];}if(_7fe.colSpan){html.push(" colspan=\"",_7fe.colSpan,"\"");}if(_7fe.rowSpan){html.push(" rowspan=\"",_7fe.rowSpan,"\"");}html.push(" class=\"dojoxGridCell ");if(_7fe.classes){html.push(_7fe.classes," ");}if(_800){html.push(_800," ");}_802.push(html.join(""));_802.push("");html=["\" idx=\"",_7fe.index,"\" style=\""];if(_7ff&&_7ff[_7ff.length-1]!=";"){_7ff+=";";}html.push(_7fe.styles,_7ff||"",_7fe.hidden?"display:none;":"");if(_7fe.unitWidth){html.push("width:",_7fe.unitWidth,";");}_802.push(html.join(""));_802.push("");html=["\""];if(_7fe.attrs){html.push(" ",_7fe.attrs);}html.push(">");_802.push(html.join(""));_802.push("");_802.push(_801?"</th>":"</td>");return _802;},isCellNode:function(_805){return Boolean(_805&&_805!=win.doc&&html.attr(_805,"idx"));},getCellNodeIndex:function(_806){return _806?Number(html.attr(_806,"idx")):-1;},getCellNode:function(_807,_808){for(var i=0,row;((row=_7f2(_807.firstChild,i))&&row.cells);i++){for(var j=0,cell;(cell=row.cells[j]);j++){if(this.getCellNodeIndex(cell)==_808){return cell;}}}return null;},findCellTarget:function(_809,_80a){var n=_809;while(n&&(!this.isCellNode(n)||(n.offsetParent&&_7fc in n.offsetParent.parentNode&&n.offsetParent.parentNode[_7fc]!=this.view.id))&&(n!=_80a)){n=n.parentNode;}return n!=_80a?n:null;},baseDecorateEvent:function(e){e.dispatch="do"+e.type;e.grid=this.grid;e.sourceView=this.view;e.cellNode=this.findCellTarget(e.target,e.rowNode);e.cellIndex=this.getCellNodeIndex(e.cellNode);e.cell=(e.cellIndex>=0?this.grid.getCell(e.cellIndex):null);},findTarget:function(_80b,_80c){var n=_80b;while(n&&(n!=this.domNode)&&(!(_80c in n)||(_7fc in n&&n[_7fc]!=this.view.id))){n=n.parentNode;}return (n!=this.domNode)?n:null;},findRowTarget:function(_80d){return this.findTarget(_80d,_7fb);},isIntraNodeEvent:function(e){try{return (e.cellNode&&e.relatedTarget&&html.isDescendant(e.relatedTarget,e.cellNode));}catch(x){return false;}},isIntraRowEvent:function(e){try{var row=e.relatedTarget&&this.findRowTarget(e.relatedTarget);return !row&&(e.rowIndex==-1)||row&&(e.rowIndex==row.gridRowIndex);}catch(x){return false;}},dispatchEvent:function(e){if(e.dispatch in this){return this[e.dispatch](e);}return false;},domouseover:function(e){if(e.cellNode&&(e.cellNode!=this.lastOverCellNode)){this.lastOverCellNode=e.cellNode;this.grid.onMouseOver(e);}this.grid.onMouseOverRow(e);},domouseout:function(e){if(e.cellNode&&(e.cellNode==this.lastOverCellNode)&&!this.isIntraNodeEvent(e,this.lastOverCellNode)){this.lastOverCellNode=null;this.grid.onMouseOut(e);if(!this.isIntraRowEvent(e)){this.grid.onMouseOutRow(e);}}},domousedown:function(e){if(e.cellNode){this.grid.onMouseDown(e);}this.grid.onMouseDownRow(e);},_getTextDirStyle:function(_80e,_80f,_810){return "";}});var _811=dg._ContentBuilder=lang.extend(function(view){_7fd.call(this,view);},_7fd.prototype,{update:function(){this.prepareHtml();},prepareHtml:function(){var _812=this.grid.get,_813=this.view.structure.cells;for(var j=0,row;(row=_813[j]);j++){for(var i=0,cell;(cell=row[i]);i++){cell.get=cell.get||(cell.value==undefined)&&_812;cell.markup=this.generateCellMarkup(cell,cell.cellStyles,cell.cellClasses,false);if(!this.grid.editable&&cell.editable){this.grid.editable=true;}}}},generateHtml:function(_814,_815){var html=this.getTableArray(),v=this.view,dir,_816=v.structure.cells,item=this.grid.getItem(_815);util.fire(this.view,"onBeforeRow",[_815,_816]);for(var j=0,row;(row=_816[j]);j++){if(row.hidden||row.header){continue;}html.push(!row.invisible?"<tr>":"<tr class=\"dojoxGridInvisible\">");for(var i=0,cell,m,cc,cs;(cell=row[i]);i++){m=cell.markup;cc=cell.customClasses=[];cs=cell.customStyles=[];m[5]=cell.format(_815,item);m[1]=cc.join(" ");m[3]=cs.join(";");dir=cell.textDir||this.grid.textDir;if(dir){m[3]+=this._getTextDirStyle(dir,cell,_815);}html.push.apply(html,m);}html.push("</tr>");}html.push("</table>");return html.join("");},decorateEvent:function(e){e.rowNode=this.findRowTarget(e.target);if(!e.rowNode){return false;}e.rowIndex=e.rowNode[_7fb];this.baseDecorateEvent(e);e.cell=this.grid.getCell(e.cellIndex);return true;}});var _817=dg._HeaderBuilder=lang.extend(function(view){this.moveable=null;_7fd.call(this,view);},_7fd.prototype,{_skipBogusClicks:false,overResizeWidth:4,minColWidth:1,update:function(){if(this.tableMap){this.tableMap.mapRows(this.view.structure.cells);}else{this.tableMap=new dg._TableMap(this.view.structure.cells);}},generateHtml:function(_818,_819){var dir,html=this.getTableArray(),_81a=this.view.structure.cells;util.fire(this.view,"onBeforeRow",[-1,_81a]);for(var j=0,row;(row=_81a[j]);j++){if(row.hidden){continue;}html.push(!row.invisible?"<tr>":"<tr class=\"dojoxGridInvisible\">");for(var i=0,cell,_81b;(cell=row[i]);i++){cell.customClasses=[];cell.customStyles=[];if(this.view.simpleStructure){if(cell.draggable){if(cell.headerClasses){if(cell.headerClasses.indexOf("dojoDndItem")==-1){cell.headerClasses+=" dojoDndItem";}}else{cell.headerClasses="dojoDndItem";}}if(cell.attrs){if(cell.attrs.indexOf("dndType='gridColumn_")==-1){cell.attrs+=" dndType='gridColumn_"+this.grid.id+"'";}}else{cell.attrs="dndType='gridColumn_"+this.grid.id+"'";}}_81b=this.generateCellMarkup(cell,cell.headerStyles,cell.headerClasses,true);_81b[5]=(_819!=undefined?_819:_818(cell));_81b[3]=cell.customStyles.join(";");dir=cell.textDir||this.grid.textDir;if(dir){_81b[3]+=this._getTextDirStyle(dir,cell,_819);}_81b[1]=cell.customClasses.join(" ");html.push(_81b.join(""));}html.push("</tr>");}html.push("</table>");return html.join("");},getCellX:function(e){var n,x=e.layerX;if(has("mozilla")||has("ie")>=9){n=_7f6(e.target,_7f9("th"));x-=(n&&n.offsetLeft)||0;var t=e.sourceView.getScrollbarWidth();if(!this.grid.isLeftToRight()){table=_7f6(n,_7f9("table"));x-=(table&&table.offsetLeft)||0;}}n=_7f6(e.target,function(){if(!n||n==e.cellNode){return false;}x+=(n.offsetLeft<0?0:n.offsetLeft);return true;});return x;},decorateEvent:function(e){this.baseDecorateEvent(e);e.rowIndex=-1;e.cellX=this.getCellX(e);return true;},prepareResize:function(e,mod){do{var i=e.cellIndex;e.cellNode=(i?e.cellNode.parentNode.cells[i+mod]:null);e.cellIndex=(e.cellNode?this.getCellNodeIndex(e.cellNode):-1);}while(e.cellNode&&e.cellNode.style.display=="none");return Boolean(e.cellNode);},canResize:function(e){if(!e.cellNode||e.cellNode.colSpan>1){return false;}var cell=this.grid.getCell(e.cellIndex);return !cell.noresize&&cell.canResize();},overLeftResizeArea:function(e){if(html.hasClass(win.body(),"dojoDndMove")){return false;}if(has("ie")){var tN=e.target;if(html.hasClass(tN,"dojoxGridArrowButtonNode")||html.hasClass(tN,"dojoxGridArrowButtonChar")||html.hasClass(tN,"dojoxGridColCaption")){return false;}}if(this.grid.isLeftToRight()){return (e.cellIndex>0)&&(e.cellX>0&&e.cellX<this.overResizeWidth)&&this.prepareResize(e,-1);}var t=e.cellNode&&(e.cellX>0&&e.cellX<this.overResizeWidth);return t;},overRightResizeArea:function(e){if(html.hasClass(win.body(),"dojoDndMove")){return false;}if(has("ie")){var tN=e.target;if(html.hasClass(tN,"dojoxGridArrowButtonNode")||html.hasClass(tN,"dojoxGridArrowButtonChar")||html.hasClass(tN,"dojoxGridColCaption")){return false;}}if(this.grid.isLeftToRight()){return e.cellNode&&(e.cellX>=e.cellNode.offsetWidth-this.overResizeWidth);}return (e.cellIndex>0)&&(e.cellX>=e.cellNode.offsetWidth-this.overResizeWidth)&&this.prepareResize(e,-1);},domousemove:function(e){if(!this.moveable){var c=(this.overRightResizeArea(e)?"dojoxGridColResize":(this.overLeftResizeArea(e)?"dojoxGridColResize":""));if(c&&!this.canResize(e)){c="dojoxGridColNoResize";}html.toggleClass(e.sourceView.headerNode,"dojoxGridColNoResize",(c=="dojoxGridColNoResize"));html.toggleClass(e.sourceView.headerNode,"dojoxGridColResize",(c=="dojoxGridColResize"));if(c){_7eb.stop(e);}}},domousedown:function(e){if(!this.moveable){if((this.overRightResizeArea(e)||this.overLeftResizeArea(e))&&this.canResize(e)){this.beginColumnResize(e);}else{this.grid.onMouseDown(e);this.grid.onMouseOverRow(e);}}},doclick:function(e){if(this._skipBogusClicks){_7eb.stop(e);return true;}return false;},colResizeSetup:function(e,_81c){var _81d=html.contentBox(e.sourceView.headerNode);if(_81c){this.lineDiv=document.createElement("div");var vw=html.position(e.sourceView.headerNode,true);var _81e=html.contentBox(e.sourceView.domNode);var l=e.pageX;if(!this.grid.isLeftToRight()&&has("ie")<8){l-=_7ee.getScrollbar().w;}html.style(this.lineDiv,{top:vw.y+"px",left:l+"px",height:(_81e.h+_81d.h)+"px"});html.addClass(this.lineDiv,"dojoxGridResizeColLine");this.lineDiv._origLeft=l;win.body().appendChild(this.lineDiv);}var _81f=[],_820=this.tableMap.findOverlappingNodes(e.cellNode);for(var i=0,cell;(cell=_820[i]);i++){_81f.push({node:cell,index:this.getCellNodeIndex(cell),width:cell.offsetWidth});}var view=e.sourceView;var adj=this.grid.isLeftToRight()?1:-1;var _821=e.grid.views.views;var _822=[];for(var j=view.idx+adj,_823;(_823=_821[j]);j=j+adj){_822.push({node:_823.headerNode,left:window.parseInt(_823.headerNode.style.left)});}var _824=view.headerContentNode.firstChild;var drag={scrollLeft:e.sourceView.headerNode.scrollLeft,view:view,node:e.cellNode,index:e.cellIndex,w:html.contentBox(e.cellNode).w,vw:_81d.w,table:_824,tw:html.contentBox(_824).w,spanners:_81f,followers:_822};return drag;},beginColumnResize:function(e){this.moverDiv=document.createElement("div");html.style(this.moverDiv,{position:"absolute",left:0});win.body().appendChild(this.moverDiv);html.addClass(this.grid.domNode,"dojoxGridColumnResizing");var m=(this.moveable=new _7ed(this.moverDiv));var drag=this.colResizeSetup(e,true);m.onMove=lang.hitch(this,"doResizeColumn",drag);_7ec.connect(m,"onMoveStop",lang.hitch(this,function(){this.endResizeColumn(drag);if(drag.node.releaseCapture){drag.node.releaseCapture();}this.moveable.destroy();delete this.moveable;this.moveable=null;html.removeClass(this.grid.domNode,"dojoxGridColumnResizing");}));if(e.cellNode.setCapture){e.cellNode.setCapture();}m.onMouseDown(e);},doResizeColumn:function(_825,_826,_827){var _828=_827.l;var data={deltaX:_828,w:_825.w+(this.grid.isLeftToRight()?_828:-_828),vw:_825.vw+_828,tw:_825.tw+_828};this.dragRecord={inDrag:_825,mover:_826,leftTop:_827};if(data.w>=this.minColWidth){if(!_826){this.doResizeNow(_825,data);}else{html.style(this.lineDiv,"left",(this.lineDiv._origLeft+data.deltaX)+"px");}}},endResizeColumn:function(_829){if(this.dragRecord){var _82a=this.dragRecord.leftTop;var _82b=this.grid.isLeftToRight()?_82a.l:-_82a.l;_82b+=Math.max(_829.w+_82b,this.minColWidth)-(_829.w+_82b);if(has("webkit")&&_829.spanners.length){_82b+=html._getPadBorderExtents(_829.spanners[0].node).w;}var data={deltaX:_82b,w:_829.w+_82b,vw:_829.vw+_82b,tw:_829.tw+_82b};this.doResizeNow(_829,data);delete this.dragRecord;}html.destroy(this.lineDiv);html.destroy(this.moverDiv);html.destroy(this.moverDiv);delete this.moverDiv;this._skipBogusClicks=true;_829.view.update();this._skipBogusClicks=false;this.grid.onResizeColumn(_829.index);},doResizeNow:function(_82c,data){_82c.view.convertColPctToFixed();if(_82c.view.flexCells&&!_82c.view.testFlexCells()){var t=_7f5(_82c.node);if(t){(t.style.width="");}}var i,s,sw,f,fl;for(i=0;(s=_82c.spanners[i]);i++){sw=s.width+data.deltaX;if(sw>0){s.node.style.width=sw+"px";_82c.view.setColWidth(s.index,sw);}}if(this.grid.isLeftToRight()||!has("ie")){for(i=0;(f=_82c.followers[i]);i++){fl=f.left+data.deltaX;f.node.style.left=fl+"px";}}_82c.node.style.width=data.w+"px";_82c.view.setColWidth(_82c.index,data.w);_82c.view.headerNode.style.width=data.vw+"px";_82c.view.setColumnsWidth(data.tw);if(!this.grid.isLeftToRight()){_82c.view.headerNode.scrollLeft=_82c.scrollLeft+data.deltaX;}}});dg._TableMap=lang.extend(function(rows){this.mapRows(rows);},{map:null,mapRows:function(_82d){var _82e=_82d.length;if(!_82e){return;}this.map=[];var row;for(var k=0;(row=_82d[k]);k++){this.map[k]=[];}for(var j=0;(row=_82d[j]);j++){for(var i=0,x=0,cell,_82f,_830;(cell=row[i]);i++){while(this.map[j][x]){x++;}this.map[j][x]={c:i,r:j};_830=cell.rowSpan||1;_82f=cell.colSpan||1;for(var y=0;y<_830;y++){for(var s=0;s<_82f;s++){this.map[j+y][x+s]=this.map[j][x];}}x+=_82f;}}},dumpMap:function(){for(var j=0,row,h="";(row=this.map[j]);j++,h=""){for(var i=0,cell;(cell=row[i]);i++){h+=cell.r+","+cell.c+"   ";}}},getMapCoords:function(_831,_832){for(var j=0,row;(row=this.map[j]);j++){for(var i=0,cell;(cell=row[i]);i++){if(cell.c==_832&&cell.r==_831){return {j:j,i:i};}}}return {j:-1,i:-1};},getNode:function(_833,_834,_835){var row=_833&&_833.rows[_834];return row&&row.cells[_835];},_findOverlappingNodes:function(_836,_837,_838){var _839=[];var m=this.getMapCoords(_837,_838);for(var j=0,row;(row=this.map[j]);j++){if(j==m.j){continue;}var rw=row[m.i];var n=(rw?this.getNode(_836,rw.r,rw.c):null);if(n){_839.push(n);}}return _839;},findOverlappingNodes:function(_83a){return this._findOverlappingNodes(_7f5(_83a),_7f1(_83a.parentNode),_7f0(_83a));}});return {_Builder:_7fd,_HeaderBuilder:_817,_ContentBuilder:_811};});},"dojox/grid/DataGrid":function(){define(["../main","dojo/_base/array","dojo/_base/lang","dojo/_base/json","dojo/_base/sniff","dojo/_base/declare","./_Grid","./DataSelection","dojo/_base/html","dojo/has","dojo/has!dojo-bidi?./bidi/_BidiMixin"],function(_83b,_83c,lang,json,has,_83d,_83e,_83f,html){var _840=_83d("dojox.grid.DataGrid",_83e,{store:null,query:null,queryOptions:null,fetchText:"...",sortFields:null,updateDelay:1,items:null,_store_connects:null,_by_idty:null,_by_idx:null,_cache:null,_pages:null,_pending_requests:null,_bop:-1,_eop:-1,_requests:0,rowCount:0,_isLoaded:false,_isLoading:false,keepSelection:false,postCreate:function(){this._pages=[];this._store_connects=[];this._by_idty={};this._by_idx=[];this._cache=[];this._pending_requests={};this._setStore(this.store);this.inherited(arguments);},destroy:function(){this.selection.destroy();this.inherited(arguments);},createSelection:function(){this.selection=new _83f(this);},get:function(_841,_842){if(_842&&this.field=="_item"&&!this.fields){return _842;}else{if(_842&&this.fields){var ret=[];var s=this.grid.store;_83c.forEach(this.fields,function(f){ret=ret.concat(s.getValues(_842,f));});return ret;}else{if(!_842&&typeof _841==="string"){return this.inherited(arguments);}}}return (!_842?this.defaultValue:(!this.field?this.value:(this.field=="_item"?_842:this.grid.store.getValue(_842,this.field))));},_checkUpdateStatus:function(){if(this.updateDelay>0){var _843=false;if(this._endUpdateDelay){clearTimeout(this._endUpdateDelay);delete this._endUpdateDelay;_843=true;}if(!this.updating){this.beginUpdate();_843=true;}if(_843){var _844=this;this._endUpdateDelay=setTimeout(function(){delete _844._endUpdateDelay;_844.endUpdate();},this.updateDelay);}}},_onSet:function(item,_845,_846,_847){this._checkUpdateStatus();var idx=this.getItemIndex(item);if(idx>-1){this.updateRow(idx);}},_createItem:function(item,_848){var idty=this._hasIdentity?this.store.getIdentity(item):json.toJson(this.query)+":idx:"+_848+":sort:"+json.toJson(this.getSortProps());var o=this._by_idty[idty]={idty:idty,item:item};return o;},_addItem:function(item,_849,_84a){this._by_idx[_849]=this._createItem(item,_849);if(!_84a){this.updateRow(_849);}},_onNew:function(item,_84b){this._checkUpdateStatus();var _84c=this.get("rowCount");this._addingItem=true;this.updateRowCount(_84c+1);this._addingItem=false;this._addItem(item,_84c);this.showMessage();},_onDelete:function(item){this._checkUpdateStatus();var idx=this._getItemIndex(item,true);if(idx>=0){this._pages=[];this._bop=-1;this._eop=-1;var o=this._by_idx[idx];this._by_idx.splice(idx,1);delete this._by_idty[o.idty];this.updateRowCount(this.get("rowCount")-1);if(this.get("rowCount")===0){this.showMessage(this.noDataMessage);}}if(this.selection.isSelected(idx)){this.selection.deselect(idx);this.selection.selected.splice(idx,1);}},_onRevert:function(){this._refresh();},setStore:function(_84d,_84e,_84f){if(this._requestsPending(0)){return;}this._setQuery(_84e,_84f);this._setStore(_84d);this._refresh(true);},setQuery:function(_850,_851){if(this._requestsPending(0)){return;}this._setQuery(_850,_851);this._refresh(true);},setItems:function(_852){this.items=_852;this._setStore(this.store);this._refresh(true);},_setQuery:function(_853,_854){this.query=_853;this.queryOptions=_854||this.queryOptions;},_setStore:function(_855){if(this.store&&this._store_connects){_83c.forEach(this._store_connects,this.disconnect,this);}this.store=_855;if(this.store){var f=this.store.getFeatures();var h=[];this._canEdit=!!f["dojo.data.api.Write"]&&!!f["dojo.data.api.Identity"];this._hasIdentity=!!f["dojo.data.api.Identity"];if(!!f["dojo.data.api.Notification"]&&!this.items){h.push(this.connect(this.store,"onSet","_onSet"));h.push(this.connect(this.store,"onNew","_onNew"));h.push(this.connect(this.store,"onDelete","_onDelete"));}if(this._canEdit){h.push(this.connect(this.store,"revert","_onRevert"));}this._store_connects=h;}},_onFetchBegin:function(size,req){if(!this.scroller){return;}if(this.rowCount!=size){if(req.isRender){this.scroller.init(size,this.keepRows,this.rowsPerPage);this.rowCount=size;this._setAutoHeightAttr(this.autoHeight,true);this._skipRowRenormalize=true;this.prerender();this._skipRowRenormalize=false;}else{this.updateRowCount(size);}}if(!size){this.views.render();this._resize();this.showMessage(this.noDataMessage);this.focus.initFocusView();}else{this.showMessage();}},_onFetchComplete:function(_856,req){if(!this.scroller){return;}if(_856&&_856.length>0){_83c.forEach(_856,function(item,idx){this._addItem(item,req.start+idx,true);},this);this.updateRows(req.start,_856.length);if(req.isRender){this.setScrollTop(0);this.postrender();}else{if(this._lastScrollTop){this.setScrollTop(this._lastScrollTop);}}if(has("ie")){html.setSelectable(this.domNode,this.selectable);}}delete this._lastScrollTop;if(!this._isLoaded){this._isLoading=false;this._isLoaded=true;}this._pending_requests[req.start]=false;},_onFetchError:function(err,req){delete this._lastScrollTop;if(!this._isLoaded){this._isLoading=false;this._isLoaded=true;this.showMessage(this.errorMessage);}this._pending_requests[req.start]=false;this.onFetchError(err,req);},onFetchError:function(err,req){},_fetch:function(_857,_858){_857=_857||0;if(this.store&&!this._pending_requests[_857]){if(!this._isLoaded&&!this._isLoading){this._isLoading=true;this.showMessage(this.loadingMessage);}this._pending_requests[_857]=true;try{if(this.items){var _859=this.items;var _85a=this.store;this.rowsPerPage=_859.length;var req={start:_857,count:this.rowsPerPage,isRender:_858};this._onFetchBegin(_859.length,req);var _85b=0;_83c.forEach(_859,function(i){if(!_85a.isItemLoaded(i)){_85b++;}});if(_85b===0){this._onFetchComplete(_859,req);}else{var _85c=function(item){_85b--;if(_85b===0){this._onFetchComplete(_859,req);}};_83c.forEach(_859,function(i){if(!_85a.isItemLoaded(i)){_85a.loadItem({item:i,onItem:_85c,scope:this});}},this);}}else{this.store.fetch({start:_857,count:this.rowsPerPage,query:this.query,sort:this.getSortProps(),queryOptions:this.queryOptions,isRender:_858,onBegin:lang.hitch(this,"_onFetchBegin"),onComplete:lang.hitch(this,"_onFetchComplete"),onError:lang.hitch(this,"_onFetchError")});}}catch(e){this._onFetchError(e,{start:_857,count:this.rowsPerPage});}}},_clearData:function(){this.updateRowCount(0);this._by_idty={};this._by_idx=[];this._pages=[];this._bop=this._eop=-1;this._isLoaded=false;this._isLoading=false;},getItem:function(idx){var data=this._by_idx[idx];if(!data||(data&&!data.item)){this._preparePage(idx);return null;}return data.item;},getItemIndex:function(item){return this._getItemIndex(item,false);},_getItemIndex:function(item,_85d){if(!_85d&&!this.store.isItem(item)){return -1;}var idty=this._hasIdentity?this.store.getIdentity(item):null;for(var i=0,l=this._by_idx.length;i<l;i++){var d=this._by_idx[i];if(d&&((idty&&d.idty==idty)||(d.item===item))){return i;}}return -1;},filter:function(_85e,_85f){this.query=_85e;if(_85f){this._clearData();}this._fetch();},_getItemAttr:function(idx,attr){var item=this.getItem(idx);return (!item?this.fetchText:this.store.getValue(item,attr));},_render:function(){if(this.domNode.parentNode){this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage);this.prerender();this._fetch(0,true);}},_requestsPending:function(_860){return this._pending_requests[_860];},_rowToPage:function(_861){return (this.rowsPerPage?Math.floor(_861/this.rowsPerPage):_861);},_pageToRow:function(_862){return (this.rowsPerPage?this.rowsPerPage*_862:_862);},_preparePage:function(_863){if((_863<this._bop||_863>=this._eop)&&!this._addingItem){var _864=this._rowToPage(_863);this._needPage(_864);this._bop=_864*this.rowsPerPage;this._eop=this._bop+(this.rowsPerPage||this.get("rowCount"));}},_needPage:function(_865){if(!this._pages[_865]){this._pages[_865]=true;this._requestPage(_865);}},_requestPage:function(_866){var row=this._pageToRow(_866);var _867=Math.min(this.rowsPerPage,this.get("rowCount")-row);if(_867>0){this._requests++;if(!this._requestsPending(row)){setTimeout(lang.hitch(this,"_fetch",row,false),1);}}},getCellName:function(_868){return _868.field;},_refresh:function(_869){this._clearData();this._fetch(0,_869);},sort:function(){this.edit.apply();this._lastScrollTop=this.scrollTop;this._refresh();},canSort:function(){return (!this._isLoading);},getSortProps:function(){var c=this.getCell(this.getSortIndex());if(!c){if(this.sortFields){return this.sortFields;}return null;}else{var desc=c["sortDesc"];var si=!(this.sortInfo>0);if(typeof desc=="undefined"){desc=si;}else{desc=si?!desc:desc;}return [{attribute:c.field,descending:desc}];}},styleRowState:function(_86a){if(this.store&&this.store.getState){var _86b=this.store.getState(_86a.index),c="";for(var i=0,ss=["inflight","error","inserting"],s;s=ss[i];i++){if(_86b[s]){c=" dojoxGridRow-"+s;break;}}_86a.customClasses+=c;}},onStyleRow:function(_86c){this.styleRowState(_86c);this.inherited(arguments);},canEdit:function(_86d,_86e){return this._canEdit;},_copyAttr:function(idx,attr){var row={};var _86f={};var src=this.getItem(idx);return this.store.getValue(src,attr);},doStartEdit:function(_870,_871){if(!this._cache[_871]){this._cache[_871]=this._copyAttr(_871,_870.field);}this.onStartEdit(_870,_871);},doApplyCellEdit:function(_872,_873,_874){this.store.fetchItemByIdentity({identity:this._by_idx[_873].idty,onItem:lang.hitch(this,function(item){var _875=this.store.getValue(item,_874);if(typeof _875=="number"){_872=isNaN(_872)?_872:parseFloat(_872);}else{if(typeof _875=="boolean"){_872=_872=="true"?true:_872=="false"?false:_872;}else{if(_875 instanceof Date){var _876=new Date(_872);_872=isNaN(_876.getTime())?_872:_876;}}}this.store.setValue(item,_874,_872);this.onApplyCellEdit(_872,_873,_874);})});},doCancelEdit:function(_877){var _878=this._cache[_877];if(_878){this.updateRow(_877);delete this._cache[_877];}this.onCancelEdit.apply(this,arguments);},doApplyEdit:function(_879,_87a){var _87b=this._cache[_879];this.onApplyEdit(_879);},removeSelectedRows:function(){if(this._canEdit){this.edit.apply();var fx=lang.hitch(this,function(_87c){if(_87c.length){_83c.forEach(_87c,this.store.deleteItem,this.store);this.selection.clear();}});if(this.allItemsSelected){this.store.fetch({query:this.query,queryOptions:this.queryOptions,onComplete:fx});}else{fx(this.selection.getSelected());}}}});_840.cell_markupFactory=function(_87d,node,_87e){var _87f=lang.trim(html.attr(node,"field")||"");if(_87f){_87e.field=_87f;}_87e.field=_87e.field||_87e.name;var _880=lang.trim(html.attr(node,"fields")||"");if(_880){_87e.fields=_880.split(",");}if(_87d){_87d(node,_87e);}};_840.markupFactory=function(_881,node,ctor,_882){return _83e.markupFactory(_881,node,ctor,lang.partial(_840.cell_markupFactory,_882));};return _840;});},"dojox/grid/_Grid":function(){define(["dojo/_base/kernel","../main","dojo/_base/declare","./_Events","./_Scroller","./_Layout","./_View","./_ViewManager","./_RowManager","./_FocusManager","./_EditManager","./Selection","./_RowSelector","./util","dijit/_Widget","dijit/_TemplatedMixin","dijit/CheckedMenuItem","dojo/text!./resources/_Grid.html","dojo/string","dojo/_base/array","dojo/_base/lang","dojo/_base/sniff","dojox/html/metrics","dojo/_base/html","dojo/query","dojo/dnd/common","dojo/i18n!dijit/nls/loading"],function(dojo,_883,_884,_885,_886,_887,_888,_889,_88a,_88b,_88c,_88d,_88e,util,_88f,_890,_891,_892,_893,_894,lang,has,_895,html,_896){if(!dojo.isCopyKey){dojo.isCopyKey=dojo.dnd.getCopyKeyState;}var _897=_884("dojox.grid._Grid",[_88f,_890,_885],{templateString:_892,classTag:"dojoxGrid",rowCount:5,keepRows:75,rowsPerPage:25,autoWidth:false,initialWidth:"",autoHeight:"",rowHeight:0,autoRender:true,defaultHeight:"15em",height:"",structure:null,elasticView:-1,singleClickEdit:false,selectionMode:"extended",rowSelector:"",columnReordering:false,headerMenu:null,placeholderLabel:"GridColumns",selectable:false,_click:null,loadingMessage:"<span class='dojoxGridLoading'>${loadingState}</span>",errorMessage:"<span class='dojoxGridError'>${errorState}</span>",noDataMessage:"",escapeHTMLInData:true,formatterScope:null,editable:false,summary:"",_setSummaryAttr:"domNode",sortInfo:0,_placeholders:null,_layoutClass:_887,buildRendering:function(){this.inherited(arguments);if(!this.domNode.getAttribute("tabIndex")){this.domNode.tabIndex="0";}this.createScroller();this.createLayout();this.createViews();this.createManagers();this.createSelection();this.connect(this.selection,"onSelected","onSelected");this.connect(this.selection,"onDeselected","onDeselected");this.connect(this.selection,"onChanged","onSelectionChanged");_895.initOnFontResize();this.connect(_895,"onFontResize","textSizeChanged");util.funnelEvents(this.domNode,this,"doKeyEvent",util.keyEvents);if(this.selectionMode!="none"){this.domNode.setAttribute("aria-multiselectable",this.selectionMode=="single"?"false":"true");}html.addClass(this.domNode,this.classTag);if(!this.isLeftToRight()){html.addClass(this.domNode,this.classTag+"Rtl");}if(this.rowHeight>0){html.addClass(this.viewsNode,this.classTag+"FixedRowHeight");}},postMixInProperties:function(){this.inherited(arguments);var _898=dojo.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=_893.substitute(this.loadingMessage,_898);this.errorMessage=_893.substitute(this.errorMessage,_898);if(this.srcNodeRef&&this.srcNodeRef.style.height){this.height=this.srcNodeRef.style.height;}this._setAutoHeightAttr(this.autoHeight,true);this.lastScrollTop=this.scrollTop=0;},postCreate:function(){this._placeholders=[];this._setHeaderMenuAttr(this.headerMenu);this._setStructureAttr(this.structure);this._click=[];this.inherited(arguments);if(this.domNode&&this.autoWidth&&this.initialWidth){this.domNode.style.width=this.initialWidth;}if(this.domNode&&!this.editable){html.attr(this.domNode,"aria-readonly","true");}},destroy:function(){this.domNode.onReveal=null;this.domNode.onSizeChange=null;delete this._click;if(this.scroller){this.scroller.destroy();delete this.scroller;}this.edit.destroy();delete this.edit;this.views.destroyViews();if(this.focus){this.focus.destroy();delete this.focus;}if(this.headerMenu&&this._placeholders.length){_894.forEach(this._placeholders,function(p){p.unReplace(true);});this.headerMenu.unBindDomNode(this.viewsHeaderNode);}this.inherited(arguments);},_setAutoHeightAttr:function(ah,_899){if(typeof ah=="string"){if(!ah||ah=="false"){ah=false;}else{if(ah=="true"){ah=true;}else{ah=window.parseInt(ah,10);}}}if(typeof ah=="number"){if(isNaN(ah)){ah=false;}if(ah<0){ah=true;}else{if(ah===0){ah=false;}}}this.autoHeight=ah;if(typeof ah=="boolean"){this._autoHeight=ah;}else{if(typeof ah=="number"){this._autoHeight=(ah>=this.get("rowCount"));}else{this._autoHeight=false;}}if(this._started&&!_899){this.render();}},_getRowCountAttr:function(){return this.updating&&this.invalidated&&this.invalidated.rowCount!=undefined?this.invalidated.rowCount:this.rowCount;},textSizeChanged:function(){this.render();},sizeChange:function(){this.update();},createManagers:function(){this.rows=new _88a(this);this.focus=new _88b(this);this.edit=new _88c(this);},createSelection:function(){this.selection=new _88d(this);},createScroller:function(){this.scroller=new _886();this.scroller.grid=this;this.scroller.renderRow=lang.hitch(this,"renderRow");this.scroller.removeRow=lang.hitch(this,"rowRemoved");},createLayout:function(){this.layout=new this._layoutClass(this);this.connect(this.layout,"moveColumn","onMoveColumn");},onMoveColumn:function(){this.update();},onResizeColumn:function(_89a){},createViews:function(){this.views=new _889(this);this.views.createView=lang.hitch(this,"createView");},createView:function(_89b,idx){var c=lang.getObject(_89b);var view=new c({grid:this,index:idx});this.viewsNode.appendChild(view.domNode);this.viewsHeaderNode.appendChild(view.headerNode);this.views.addView(view);html.attr(this.domNode,"align",this.isLeftToRight()?"left":"right");return view;},buildViews:function(){for(var i=0,vs;(vs=this.layout.structure[i]);i++){this.createView(vs.type||_883._scopeName+".grid._View",i).setStructure(vs);}this.scroller.setContentNodes(this.views.getContentNodes());},_setStructureAttr:function(_89c){var s=_89c;if(s&&lang.isString(s)){dojo.deprecated("dojox.grid._Grid.set('structure', 'objVar')","use dojox.grid._Grid.set('structure', objVar) instead","2.0");s=lang.getObject(s);}this.structure=s;if(!s){if(this.layout.structure){s=this.layout.structure;}else{return;}}this.views.destroyViews();this.focus.focusView=null;if(s!==this.layout.structure){this.layout.setStructure(s);}this._structureChanged();},setStructure:function(_89d){dojo.deprecated("dojox.grid._Grid.setStructure(obj)","use dojox.grid._Grid.set('structure', obj) instead.","2.0");this._setStructureAttr(_89d);},getColumnTogglingItems:function(){var _89e,_89f=[];_89e=_894.map(this.layout.cells,function(cell){if(!cell.menuItems){cell.menuItems=[];}var self=this;var item=new _891({label:cell.name,checked:!cell.hidden,_gridCell:cell,onChange:function(_8a0){if(self.layout.setColumnVisibility(this._gridCell.index,_8a0)){var _8a1=this._gridCell.menuItems;if(_8a1.length>1){_894.forEach(_8a1,function(item){if(item!==this){item.setAttribute("checked",_8a0);}},this);}_8a0=_894.filter(self.layout.cells,function(c){if(c.menuItems.length>1){_894.forEach(c.menuItems,"item.set('disabled', false);");}else{c.menuItems[0].set("disabled",false);}return !c.hidden;});if(_8a0.length==1){_894.forEach(_8a0[0].menuItems,"item.set('disabled', true);");}}},destroy:function(){var _8a2=_894.indexOf(this._gridCell.menuItems,this);this._gridCell.menuItems.splice(_8a2,1);delete this._gridCell;_891.prototype.destroy.apply(this,arguments);}});cell.menuItems.push(item);if(!cell.hidden){_89f.push(item);}return item;},this);if(_89f.length==1){_89f[0].set("disabled",true);}return _89e;},_setHeaderMenuAttr:function(menu){if(this._placeholders&&this._placeholders.length){_894.forEach(this._placeholders,function(p){p.unReplace(true);});this._placeholders=[];}if(this.headerMenu){this.headerMenu.unBindDomNode(this.viewsHeaderNode);}this.headerMenu=menu;if(!menu){return;}this.headerMenu.bindDomNode(this.viewsHeaderNode);if(this.headerMenu.getPlaceholders){this._placeholders=this.headerMenu.getPlaceholders(this.placeholderLabel);}},setHeaderMenu:function(menu){dojo.deprecated("dojox.grid._Grid.setHeaderMenu(obj)","use dojox.grid._Grid.set('headerMenu', obj) instead.","2.0");this._setHeaderMenuAttr(menu);},setupHeaderMenu:function(){if(this._placeholders&&this._placeholders.length){_894.forEach(this._placeholders,function(p){if(p._replaced){p.unReplace(true);}p.replace(this.getColumnTogglingItems());},this);}},_fetch:function(_8a3){this.setScrollTop(0);},getItem:function(_8a4){return null;},showMessage:function(_8a5){if(_8a5){this.messagesNode.innerHTML=_8a5;this.messagesNode.style.display="";}else{this.messagesNode.innerHTML="";this.messagesNode.style.display="none";}},_structureChanged:function(){this.buildViews();if(this.autoRender&&this._started){this.render();}},hasLayout:function(){return this.layout.cells.length;},resize:function(_8a6,_8a7){this._pendingChangeSize=_8a6;this._pendingResultSize=_8a7;this.sizeChange();},_getPadBorder:function(){this._padBorder=this._padBorder||html._getPadBorderExtents(this.domNode);return this._padBorder;},_getHeaderHeight:function(){var vns=this.viewsHeaderNode.style,t=vns.display=="none"?0:this.views.measureHeader();vns.height=t+"px";this.views.normalizeHeaderNodeHeight();return t;},_resize:function(_8a8,_8a9){_8a8=_8a8||this._pendingChangeSize;_8a9=_8a9||this._pendingResultSize;delete this._pendingChangeSize;delete this._pendingResultSize;if(!this.domNode){return;}var pn=this.domNode.parentNode;if(!pn||pn.nodeType!=1||!this.hasLayout()||pn.style.visibility=="hidden"||pn.style.display=="none"){return;}var _8aa=this._getPadBorder();var hh=undefined;var h;if(this._autoHeight){this.domNode.style.height="auto";}else{if(typeof this.autoHeight=="number"){h=hh=this._getHeaderHeight();h+=(this.scroller.averageRowHeight*this.autoHeight);this.domNode.style.height=h+"px";}else{if(this.domNode.clientHeight<=_8aa.h){if(pn==document.body){this.domNode.style.height=this.defaultHeight;}else{if(this.height){this.domNode.style.height=this.height;}else{this.fitTo="parent";}}}}}if(_8a9){_8a8=_8a9;}if(!this._autoHeight&&_8a8){html.marginBox(this.domNode,_8a8);this.height=this.domNode.style.height;delete this.fitTo;}else{if(this.fitTo=="parent"){h=this._parentContentBoxHeight=(this._parentContentBoxHeight>0?this._parentContentBoxHeight:html._getContentBox(pn).h);this.domNode.style.height=Math.max(0,h)+"px";}}var _8ab=_894.some(this.views.views,function(v){return v.flexCells;});if(!this._autoHeight&&(h||html._getContentBox(this.domNode).h)===0){this.viewsHeaderNode.style.display="none";}else{this.viewsHeaderNode.style.display="block";if(!_8ab&&hh===undefined){hh=this._getHeaderHeight();}}if(_8ab){hh=undefined;}this.adaptWidth();this.adaptHeight(hh);this.postresize();},adaptWidth:function(){var _8ac=(!this.initialWidth&&this.autoWidth);var w=_8ac?0:this.domNode.clientWidth||(this.domNode.offsetWidth-this._getPadBorder().w),vw=this.views.arrange(1,w);this.views.onEach("adaptWidth");if(_8ac){this.domNode.style.width=vw+"px";}},adaptHeight:function(_8ad){var t=_8ad===undefined?this._getHeaderHeight():_8ad;var h=(this._autoHeight?-1:Math.max(this.domNode.clientHeight-t,0)||0);this.views.onEach("setSize",[0,h]);this.views.onEach("adaptHeight");if(!this._autoHeight){var _8ae=0,_8af=0;var _8b0=_894.filter(this.views.views,function(v){var has=v.hasHScrollbar();if(has){_8ae++;}else{_8af++;}return (!has);});if(_8ae>0&&_8af>0){_894.forEach(_8b0,function(v){v.adaptHeight(true);});}}if(this.autoHeight===true||h!=-1||(typeof this.autoHeight=="number"&&this.autoHeight>=this.get("rowCount"))){this.scroller.windowHeight=h;}else{this.scroller.windowHeight=Math.max(this.domNode.clientHeight-t,0);}},startup:function(){if(this._started){return;}this.inherited(arguments);if(this.autoRender){this.render();}},render:function(){if(!this.domNode){return;}if(!this._started){return;}if(!this.hasLayout()){this.scroller.init(0,this.keepRows,this.rowsPerPage);return;}this.update=this.defaultUpdate;this._render();},_render:function(){this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage);this.prerender();this.setScrollTop(0);this.postrender();},prerender:function(){this.keepRows=this._autoHeight?0:this.keepRows;this.scroller.setKeepInfo(this.keepRows);this.views.render();this._resize();},postrender:function(){this.postresize();this.focus.initFocusView();html.setSelectable(this.domNode,this.selectable);},postresize:function(){if(this._autoHeight){var size=Math.max(this.views.measureContent())+"px";this.viewsNode.style.height=size;}},renderRow:function(_8b1,_8b2){this.views.renderRow(_8b1,_8b2,this._skipRowRenormalize);},rowRemoved:function(_8b3){this.views.rowRemoved(_8b3);},invalidated:null,updating:false,beginUpdate:function(){this.invalidated=[];this.updating=true;},endUpdate:function(){this.updating=false;var i=this.invalidated,r;if(i.all){this.update();}else{if(i.rowCount!=undefined){this.updateRowCount(i.rowCount);}else{for(r in i){this.updateRow(Number(r));}}}this.invalidated=[];},defaultUpdate:function(){if(!this.domNode){return;}if(this.updating){this.invalidated.all=true;return;}this.lastScrollTop=this.scrollTop;this.prerender();this.scroller.invalidateNodes();this.setScrollTop(this.lastScrollTop);this.postrender();},update:function(){this.render();},updateRow:function(_8b4){_8b4=Number(_8b4);if(this.updating){this.invalidated[_8b4]=true;}else{this.views.updateRow(_8b4);this.scroller.rowHeightChanged(_8b4);}},updateRows:function(_8b5,_8b6){_8b5=Number(_8b5);_8b6=Number(_8b6);var i;if(this.updating){for(i=0;i<_8b6;i++){this.invalidated[i+_8b5]=true;}}else{for(i=0;i<_8b6;i++){this.views.updateRow(i+_8b5,this._skipRowRenormalize);}this.scroller.rowHeightChanged(_8b5);}},updateRowCount:function(_8b7){if(this.updating){this.invalidated.rowCount=_8b7;}else{this.rowCount=_8b7;this._setAutoHeightAttr(this.autoHeight,true);if(this.layout.cells.length){this.scroller.updateRowCount(_8b7);}this._resize();if(this.layout.cells.length){this.setScrollTop(this.scrollTop);}}},updateRowStyles:function(_8b8){this.views.updateRowStyles(_8b8);},getRowNode:function(_8b9){if(this.focus.focusView&&!(this.focus.focusView instanceof _88e)){return this.focus.focusView.rowNodes[_8b9];}else{for(var i=0,_8ba;(_8ba=this.views.views[i]);i++){if(!(_8ba instanceof _88e)){return _8ba.rowNodes[_8b9];}}}return null;},rowHeightChanged:function(_8bb){this.views.renormalizeRow(_8bb);this.scroller.rowHeightChanged(_8bb);},fastScroll:true,delayScroll:false,scrollRedrawThreshold:(has("ie")?100:50),scrollTo:function(_8bc){if(!this.fastScroll){this.setScrollTop(_8bc);return;}var _8bd=Math.abs(this.lastScrollTop-_8bc);this.lastScrollTop=_8bc;if(_8bd>this.scrollRedrawThreshold||this.delayScroll){this.delayScroll=true;this.scrollTop=_8bc;this.views.setScrollTop(_8bc);if(this._pendingScroll){window.clearTimeout(this._pendingScroll);}var _8be=this;this._pendingScroll=window.setTimeout(function(){delete _8be._pendingScroll;_8be.finishScrollJob();},200);}else{this.setScrollTop(_8bc);}},finishScrollJob:function(){this.delayScroll=false;this.setScrollTop(this.scrollTop);},setScrollTop:function(_8bf){this.scroller.scroll(this.views.setScrollTop(_8bf));},scrollToRow:function(_8c0){this.setScrollTop(this.scroller.findScrollTop(_8c0)+1);},styleRowNode:function(_8c1,_8c2){if(_8c2){this.rows.styleRowNode(_8c1,_8c2);}},_mouseOut:function(e){this.rows.setOverRow(-2);},getCell:function(_8c3){return this.layout.cells[_8c3];},setCellWidth:function(_8c4,_8c5){this.getCell(_8c4).unitWidth=_8c5;},getCellName:function(_8c6){return "Cell "+_8c6.index;},canSort:function(_8c7){},sort:function(){},getSortAsc:function(_8c8){_8c8=_8c8==undefined?this.sortInfo:_8c8;return Boolean(_8c8>0);},getSortIndex:function(_8c9){_8c9=_8c9==undefined?this.sortInfo:_8c9;return Math.abs(_8c9)-1;},setSortIndex:function(_8ca,_8cb){var si=_8ca+1;if(_8cb!=undefined){si*=(_8cb?1:-1);}else{if(this.getSortIndex()==_8ca){si=-this.sortInfo;}}this.setSortInfo(si);},setSortInfo:function(_8cc){if(this.canSort(_8cc)){this.sortInfo=_8cc;this.sort();this.update();}},doKeyEvent:function(e){e.dispatch="do"+e.type;this.onKeyEvent(e);},_dispatch:function(m,e){if(m in this){return this[m](e);}return false;},dispatchKeyEvent:function(e){this._dispatch(e.dispatch,e);},dispatchContentEvent:function(e){this.edit.dispatchEvent(e)||e.sourceView.dispatchContentEvent(e)||this._dispatch(e.dispatch,e);},dispatchHeaderEvent:function(e){e.sourceView.dispatchHeaderEvent(e)||this._dispatch("doheader"+e.type,e);},dokeydown:function(e){this.onKeyDown(e);},doclick:function(e){if(e.cellNode){this.onCellClick(e);}else{this.onRowClick(e);}},dodblclick:function(e){if(e.cellNode){this.onCellDblClick(e);}else{this.onRowDblClick(e);}},docontextmenu:function(e){if(e.cellNode){this.onCellContextMenu(e);}else{this.onRowContextMenu(e);}},doheaderclick:function(e){if(e.cellNode){this.onHeaderCellClick(e);}else{this.onHeaderClick(e);}},doheaderdblclick:function(e){if(e.cellNode){this.onHeaderCellDblClick(e);}else{this.onHeaderDblClick(e);}},doheadercontextmenu:function(e){if(e.cellNode){this.onHeaderCellContextMenu(e);}else{this.onHeaderContextMenu(e);}},doStartEdit:function(_8cd,_8ce){this.onStartEdit(_8cd,_8ce);},doApplyCellEdit:function(_8cf,_8d0,_8d1){this.onApplyCellEdit(_8cf,_8d0,_8d1);},doCancelEdit:function(_8d2){this.onCancelEdit(_8d2);},doApplyEdit:function(_8d3){this.onApplyEdit(_8d3);},addRow:function(){this.updateRowCount(this.get("rowCount")+1);},removeSelectedRows:function(){if(this.allItemsSelected){this.updateRowCount(0);}else{this.updateRowCount(Math.max(0,this.get("rowCount")-this.selection.getSelected().length));}this.selection.clear();}});_897.markupFactory=function(_8d4,node,ctor,_8d5){var _8d6=function(n){var w=html.attr(n,"width")||"auto";if((w!="auto")&&(w.slice(-2)!="em")&&(w.slice(-1)!="%")){w=parseInt(w,10)+"px";}return w;};if(!_8d4.structure&&node.nodeName.toLowerCase()=="table"){_8d4.structure=_896("> colgroup",node).map(function(cg){var sv=html.attr(cg,"span");var v={noscroll:(html.attr(cg,"noscroll")=="true")?true:false,__span:(!!sv?parseInt(sv,10):1),cells:[]};if(html.hasAttr(cg,"width")){v.width=_8d6(cg);}return v;});if(!_8d4.structure.length){_8d4.structure.push({__span:Infinity,cells:[]});}_896("thead > tr",node).forEach(function(tr,_8d7){var _8d8=0;var _8d9=0;var _8da;var _8db=null;_896("> th",tr).map(function(th){if(!_8db){_8da=0;_8db=_8d4.structure[0];}else{if(_8d8>=(_8da+_8db.__span)){_8d9++;_8da+=_8db.__span;var _8dc=_8db;_8db=_8d4.structure[_8d9];}}var cell={name:lang.trim(html.attr(th,"name")||th.innerHTML),colSpan:parseInt(html.attr(th,"colspan")||1,10),type:lang.trim(html.attr(th,"cellType")||""),id:lang.trim(html.attr(th,"id")||"")};_8d8+=cell.colSpan;var _8dd=html.attr(th,"rowspan");if(_8dd){cell.rowSpan=_8dd;}if(html.hasAttr(th,"width")){cell.width=_8d6(th);}if(html.hasAttr(th,"relWidth")){cell.relWidth=window.parseInt(html.attr(th,"relWidth"),10);}if(html.hasAttr(th,"hidden")){cell.hidden=(html.attr(th,"hidden")=="true"||html.attr(th,"hidden")===true);}if(_8d5){_8d5(th,cell);}cell.type=cell.type?lang.getObject(cell.type):_883.grid.cells.Cell;if(cell.type&&cell.type.markupFactory){cell.type.markupFactory(th,cell);}if(!_8db.cells[_8d7]){_8db.cells[_8d7]=[];}_8db.cells[_8d7].push(cell);});});}return new ctor(_8d4,node);};return _897;});},"dojox/grid/_Events":function(){define(["dojo/keys","dojo/dom-class","dojo/_base/declare","dojo/_base/event","dojo/_base/sniff"],function(keys,_8de,_8df,_8e0,has){return _8df("dojox.grid._Events",null,{cellOverClass:"dojoxGridCellOver",onKeyEvent:function(e){this.dispatchKeyEvent(e);},onContentEvent:function(e){this.dispatchContentEvent(e);},onHeaderEvent:function(e){this.dispatchHeaderEvent(e);},onStyleRow:function(_8e1){var i=_8e1;i.customClasses+=(i.odd?" dojoxGridRowOdd":"")+(i.selected?" dojoxGridRowSelected":"")+(i.over?" dojoxGridRowOver":"");this.focus.styleRow(_8e1);this.edit.styleRow(_8e1);},onKeyDown:function(e){if(e.altKey||e.metaKey){return;}var _8e2;switch(e.keyCode){case keys.ESCAPE:this.edit.cancel();break;case keys.ENTER:if(!this.edit.isEditing()){_8e2=this.focus.getHeaderIndex();if(_8e2>=0){this.setSortIndex(_8e2);break;}else{this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(e),e.shiftKey);}_8e0.stop(e);}if(!e.shiftKey){var _8e3=this.edit.isEditing();this.edit.apply();if(!_8e3){this.edit.setEditCell(this.focus.cell,this.focus.rowIndex);}}if(!this.edit.isEditing()){var _8e4=this.focus.focusView||this.views.views[0];_8e4.content.decorateEvent(e);this.onRowClick(e);_8e0.stop(e);}break;case keys.SPACE:if(!this.edit.isEditing()){_8e2=this.focus.getHeaderIndex();if(_8e2>=0){this.setSortIndex(_8e2);break;}else{this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(e),e.shiftKey);}_8e0.stop(e);}break;case keys.TAB:this.focus[e.shiftKey?"previousKey":"nextKey"](e);break;case keys.LEFT_ARROW:case keys.RIGHT_ARROW:if(!this.edit.isEditing()){var _8e5=e.keyCode;_8e0.stop(e);_8e2=this.focus.getHeaderIndex();if(_8e2>=0&&(e.shiftKey&&e.ctrlKey)){this.focus.colSizeAdjust(e,_8e2,(_8e5==keys.LEFT_ARROW?-1:1)*5);}else{var _8e6=(_8e5==keys.LEFT_ARROW)?1:-1;if(this.isLeftToRight()){_8e6*=-1;}this.focus.move(0,_8e6);}}break;case keys.UP_ARROW:if(!this.edit.isEditing()&&this.focus.rowIndex!==0){_8e0.stop(e);this.focus.move(-1,0);}break;case keys.DOWN_ARROW:if(!this.edit.isEditing()&&this.focus.rowIndex+1!=this.rowCount){_8e0.stop(e);this.focus.move(1,0);}break;case keys.PAGE_UP:if(!this.edit.isEditing()&&this.focus.rowIndex!==0){_8e0.stop(e);if(this.focus.rowIndex!=this.scroller.firstVisibleRow+1){this.focus.move(this.scroller.firstVisibleRow-this.focus.rowIndex,0);}else{this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex-1));this.focus.move(this.scroller.firstVisibleRow-this.scroller.lastVisibleRow+1,0);}}break;case keys.PAGE_DOWN:if(!this.edit.isEditing()&&this.focus.rowIndex+1!=this.rowCount){_8e0.stop(e);if(this.focus.rowIndex!=this.scroller.lastVisibleRow-1){this.focus.move(this.scroller.lastVisibleRow-this.focus.rowIndex-1,0);}else{this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex+1));this.focus.move(this.scroller.lastVisibleRow-this.scroller.firstVisibleRow-1,0);}}break;default:break;}},onMouseOver:function(e){e.rowIndex==-1?this.onHeaderCellMouseOver(e):this.onCellMouseOver(e);},onMouseOut:function(e){e.rowIndex==-1?this.onHeaderCellMouseOut(e):this.onCellMouseOut(e);},onMouseDown:function(e){e.rowIndex==-1?this.onHeaderCellMouseDown(e):this.onCellMouseDown(e);},onMouseOverRow:function(e){if(!this.rows.isOver(e.rowIndex)){this.rows.setOverRow(e.rowIndex);e.rowIndex==-1?this.onHeaderMouseOver(e):this.onRowMouseOver(e);}},onMouseOutRow:function(e){if(this.rows.isOver(-1)){this.onHeaderMouseOut(e);}else{if(!this.rows.isOver(-2)){this.rows.setOverRow(-2);this.onRowMouseOut(e);}}},onMouseDownRow:function(e){if(e.rowIndex!=-1){this.onRowMouseDown(e);}},onCellMouseOver:function(e){if(e.cellNode){_8de.add(e.cellNode,this.cellOverClass);}},onCellMouseOut:function(e){if(e.cellNode){_8de.remove(e.cellNode,this.cellOverClass);}},onCellMouseDown:function(e){},onCellClick:function(e){this._click[0]=this._click[1];this._click[1]=e;if(!this.edit.isEditCell(e.rowIndex,e.cellIndex)){this.focus.setFocusCell(e.cell,e.rowIndex);}if(this._click.length>1&&this._click[0]==null){this._click.shift();}this.onRowClick(e);},onCellDblClick:function(e){var _8e7;if(this._click.length>1&&has("ie")){_8e7=this._click[1];}else{if(this._click.length>1&&this._click[0].rowIndex!=this._click[1].rowIndex){_8e7=this._click[0];}else{_8e7=e;}}this.focus.setFocusCell(_8e7.cell,_8e7.rowIndex);this.edit.setEditCell(_8e7.cell,_8e7.rowIndex);this.onRowDblClick(e);},onCellContextMenu:function(e){this.onRowContextMenu(e);},onCellFocus:function(_8e8,_8e9){this.edit.cellFocus(_8e8,_8e9);},onRowClick:function(e){this.edit.rowClick(e);this.selection.clickSelectEvent(e);},onRowDblClick:function(e){},onRowMouseOver:function(e){},onRowMouseOut:function(e){},onRowMouseDown:function(e){},onRowContextMenu:function(e){_8e0.stop(e);},onHeaderMouseOver:function(e){},onHeaderMouseOut:function(e){},onHeaderCellMouseOver:function(e){if(e.cellNode){_8de.add(e.cellNode,this.cellOverClass);}},onHeaderCellMouseOut:function(e){if(e.cellNode){_8de.remove(e.cellNode,this.cellOverClass);}},onHeaderCellMouseDown:function(e){},onHeaderClick:function(e){},onHeaderCellClick:function(e){this.setSortIndex(e.cell.index);this.onHeaderClick(e);},onHeaderDblClick:function(e){},onHeaderCellDblClick:function(e){this.onHeaderDblClick(e);},onHeaderCellContextMenu:function(e){this.onHeaderContextMenu(e);},onHeaderContextMenu:function(e){if(!this.headerMenu){_8e0.stop(e);}},onStartEdit:function(_8ea,_8eb){},onApplyCellEdit:function(_8ec,_8ed,_8ee){},onCancelEdit:function(_8ef){},onApplyEdit:function(_8f0){},onCanSelect:function(_8f1){return true;},onCanDeselect:function(_8f2){return true;},onSelected:function(_8f3){this.updateRowStyles(_8f3);},onDeselected:function(_8f4){this.updateRowStyles(_8f4);},onSelectionChanged:function(){}});});},"dojox/grid/_Scroller":function(){define(["dijit/registry","dojo/_base/declare","dojo/_base/lang","./util","dojo/_base/html"],function(_8f5,_8f6,lang,util,html){var _8f7=function(_8f8){var i=0,n,p=_8f8.parentNode;while((n=p.childNodes[i++])){if(n==_8f8){return i-1;}}return -1;};var _8f9=function(_8fa){if(!_8fa){return;}dojo.forEach(_8f5.toArray(),function(w){if(w.domNode&&html.isDescendant(w.domNode,_8fa,true)){w.destroy();}});};var _8fb=function(_8fc){var node=html.byId(_8fc);return (node&&node.tagName?node.tagName.toLowerCase():"");};var _8fd=function(_8fe,_8ff){var _900=[];var i=0,n;while((n=_8fe.childNodes[i])){i++;if(_8fb(n)==_8ff){_900.push(n);}}return _900;};var _901=function(_902){return _8fd(_902,"div");};return _8f6("dojox.grid._Scroller",null,{constructor:function(_903){this.setContentNodes(_903);this.pageHeights=[];this.pageNodes=[];this.stack=[];},rowCount:0,defaultRowHeight:32,keepRows:100,contentNode:null,scrollboxNode:null,defaultPageHeight:0,keepPages:10,pageCount:0,windowHeight:0,firstVisibleRow:0,lastVisibleRow:0,averageRowHeight:0,page:0,pageTop:0,init:function(_904,_905,_906){switch(arguments.length){case 3:this.rowsPerPage=_906;case 2:this.keepRows=_905;case 1:this.rowCount=_904;default:break;}this.defaultPageHeight=(this.grid.rowHeight>0?this.grid.rowHeight:this.defaultRowHeight)*this.rowsPerPage;this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);this.setKeepInfo(this.keepRows);this.invalidate();if(this.scrollboxNode){this.scrollboxNode.scrollTop=0;this.scroll(0);this.scrollboxNode.onscroll=lang.hitch(this,"onscroll");}},_getPageCount:function(_907,_908){return _907?(Math.ceil(_907/_908)||1):0;},destroy:function(){this.invalidateNodes();delete this.contentNodes;delete this.contentNode;delete this.scrollboxNode;},setKeepInfo:function(_909){this.keepRows=_909;this.keepPages=!this.keepRows?this.keepPages:Math.max(Math.ceil(this.keepRows/this.rowsPerPage),2);},setContentNodes:function(_90a){this.contentNodes=_90a;this.colCount=(this.contentNodes?this.contentNodes.length:0);this.pageNodes=[];for(var i=0;i<this.colCount;i++){this.pageNodes[i]=[];}},getDefaultNodes:function(){return this.pageNodes[0]||[];},invalidate:function(){this._invalidating=true;this.invalidateNodes();this.pageHeights=[];this.height=(this.pageCount?(this.pageCount-1)*this.defaultPageHeight+this.calcLastPageHeight():0);this.resize();this._invalidating=false;},updateRowCount:function(_90b){this.invalidateNodes();this.rowCount=_90b;var _90c=this.pageCount;if(_90c===0){this.height=1;}this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);if(this.pageCount<_90c){for(var i=_90c-1;i>=this.pageCount;i--){this.height-=this.getPageHeight(i);delete this.pageHeights[i];}}else{if(this.pageCount>_90c){this.height+=this.defaultPageHeight*(this.pageCount-_90c-1)+this.calcLastPageHeight();}}this.resize();},pageExists:function(_90d){return Boolean(this.getDefaultPageNode(_90d));},measurePage:function(_90e){if(this.grid.rowHeight){return ((_90e+1)*this.rowsPerPage>this.rowCount?this.rowCount-_90e*this.rowsPerPage:this.rowsPerPage)*this.grid.rowHeight;}var n=this.getDefaultPageNode(_90e);return (n&&n.innerHTML)?n.offsetHeight:undefined;},positionPage:function(_90f,_910){for(var i=0;i<this.colCount;i++){this.pageNodes[i][_90f].style.top=_910+"px";}},repositionPages:function(_911){var _912=this.getDefaultNodes();var last=0;for(var i=0;i<this.stack.length;i++){last=Math.max(this.stack[i],last);}var n=_912[_911];var y=(n?this.getPageNodePosition(n)+this.getPageHeight(_911):0);for(var p=_911+1;p<=last;p++){n=_912[p];if(n){if(this.getPageNodePosition(n)==y){return;}this.positionPage(p,y);}y+=this.getPageHeight(p);}},installPage:function(_913){for(var i=0;i<this.colCount;i++){this.contentNodes[i].appendChild(this.pageNodes[i][_913]);}},preparePage:function(_914,_915){var p=(_915?this.popPage():null);for(var i=0;i<this.colCount;i++){var _916=this.pageNodes[i];var _917=(p===null?this.createPageNode():this.invalidatePageNode(p,_916));_917.pageIndex=_914;_916[_914]=_917;}},renderPage:function(_918){var _919=[];var i,j;for(i=0;i<this.colCount;i++){_919[i]=this.pageNodes[i][_918];}for(i=0,j=_918*this.rowsPerPage;(i<this.rowsPerPage)&&(j<this.rowCount);i++,j++){this.renderRow(j,_919);}},removePage:function(_91a){for(var i=0,j=_91a*this.rowsPerPage;i<this.rowsPerPage;i++,j++){this.removeRow(j);}},destroyPage:function(_91b){for(var i=0;i<this.colCount;i++){var n=this.invalidatePageNode(_91b,this.pageNodes[i]);if(n){html.destroy(n);}}},pacify:function(_91c){},pacifying:false,pacifyTicks:200,setPacifying:function(_91d){if(this.pacifying!=_91d){this.pacifying=_91d;this.pacify(this.pacifying);}},startPacify:function(){this.startPacifyTicks=new Date().getTime();},doPacify:function(){var _91e=(new Date().getTime()-this.startPacifyTicks)>this.pacifyTicks;this.setPacifying(true);this.startPacify();return _91e;},endPacify:function(){this.setPacifying(false);},resize:function(){if(this.scrollboxNode){this.windowHeight=this.scrollboxNode.clientHeight;}for(var i=0;i<this.colCount;i++){util.setStyleHeightPx(this.contentNodes[i],Math.max(1,this.height));}var _91f=(!this._invalidating);if(!_91f){var ah=this.grid.get("autoHeight");if(typeof ah=="number"&&ah<=Math.min(this.rowsPerPage,this.rowCount)){_91f=true;}}if(_91f){this.needPage(this.page,this.pageTop);}var _920=(this.page<this.pageCount-1)?this.rowsPerPage:((this.rowCount%this.rowsPerPage)||this.rowsPerPage);var _921=this.getPageHeight(this.page);this.averageRowHeight=(_921>0&&_920>0)?(_921/_920):0;},calcLastPageHeight:function(){if(!this.pageCount){return 0;}var _922=this.pageCount-1;var _923=((this.rowCount%this.rowsPerPage)||(this.rowsPerPage))*this.defaultRowHeight;this.pageHeights[_922]=_923;return _923;},updateContentHeight:function(inDh){this.height+=inDh;this.resize();},updatePageHeight:function(_924,_925,_926){if(this.pageExists(_924)){var oh=this.getPageHeight(_924);var h=(this.measurePage(_924));if(h===undefined){h=oh;}this.pageHeights[_924]=h;if(oh!=h){this.updateContentHeight(h-oh);var ah=this.grid.get("autoHeight");if((typeof ah=="number"&&ah>this.rowCount)||(ah===true&&!_925)){if(!_926){this.grid.sizeChange();}else{var ns=this.grid.viewsNode.style;ns.height=parseInt(ns.height)+h-oh+"px";this.repositionPages(_924);}}else{this.repositionPages(_924);}}return h;}return 0;},rowHeightChanged:function(_927,_928){this.updatePageHeight(Math.floor(_927/this.rowsPerPage),false,_928);},invalidateNodes:function(){while(this.stack.length){this.destroyPage(this.popPage());}},createPageNode:function(){var p=document.createElement("div");html.attr(p,"role","presentation");p.style.position="absolute";p.style[this.grid.isLeftToRight()?"left":"right"]="0";return p;},getPageHeight:function(_929){var ph=this.pageHeights[_929];return (ph!==undefined?ph:this.defaultPageHeight);},pushPage:function(_92a){return this.stack.push(_92a);},popPage:function(){return this.stack.shift();},findPage:function(_92b){var i=0,h=0;for(var ph=0;i<this.pageCount;i++,h+=ph){ph=this.getPageHeight(i);if(h+ph>=_92b){break;}}this.page=i;this.pageTop=h;},buildPage:function(_92c,_92d,_92e){this.preparePage(_92c,_92d);this.positionPage(_92c,_92e);this.installPage(_92c);this.renderPage(_92c);this.pushPage(_92c);},needPage:function(_92f,_930){var h=this.getPageHeight(_92f),oh=h;if(!this.pageExists(_92f)){this.buildPage(_92f,(!this.grid._autoHeight&&this.keepPages&&(this.stack.length>=this.keepPages)),_930);h=this.updatePageHeight(_92f,true);}else{this.positionPage(_92f,_930);}return h;},onscroll:function(){this.scroll(this.scrollboxNode.scrollTop);},scroll:function(_931){this.grid.scrollTop=_931;if(this.colCount){this.startPacify();this.findPage(_931);var h=this.height;var b=this.getScrollBottom(_931);for(var p=this.page,y=this.pageTop;(p<this.pageCount)&&((b<0)||(y<b));p++){y+=this.needPage(p,y);}this.firstVisibleRow=this.getFirstVisibleRow(this.page,this.pageTop,_931);this.lastVisibleRow=this.getLastVisibleRow(p-1,y,b);if(h!=this.height){this.repositionPages(p-1);}this.endPacify();}},getScrollBottom:function(_932){return (this.windowHeight>=0?_932+this.windowHeight:-1);},processNodeEvent:function(e,_933){var t=e.target;while(t&&(t!=_933)&&t.parentNode&&(t.parentNode.parentNode!=_933)){t=t.parentNode;}if(!t||!t.parentNode||(t.parentNode.parentNode!=_933)){return false;}var page=t.parentNode;e.topRowIndex=page.pageIndex*this.rowsPerPage;e.rowIndex=e.topRowIndex+_8f7(t);e.rowTarget=t;return true;},processEvent:function(e){return this.processNodeEvent(e,this.contentNode);},renderRow:function(_934,_935){},removeRow:function(_936){},getDefaultPageNode:function(_937){return this.getDefaultNodes()[_937];},positionPageNode:function(_938,_939){},getPageNodePosition:function(_93a){return _93a.offsetTop;},invalidatePageNode:function(_93b,_93c){var p=_93c[_93b];if(p){delete _93c[_93b];this.removePage(_93b,p);_8f9(p);p.innerHTML="";}return p;},getPageRow:function(_93d){return _93d*this.rowsPerPage;},getLastPageRow:function(_93e){return Math.min(this.rowCount,this.getPageRow(_93e+1))-1;},getFirstVisibleRow:function(_93f,_940,_941){if(!this.pageExists(_93f)){return 0;}var row=this.getPageRow(_93f);var _942=this.getDefaultNodes();var rows=_901(_942[_93f]);for(var i=0,l=rows.length;i<l&&_940<_941;i++,row++){_940+=rows[i].offsetHeight;}return (row?row-1:row);},getLastVisibleRow:function(_943,_944,_945){if(!this.pageExists(_943)){return 0;}var _946=this.getDefaultNodes();var row=this.getLastPageRow(_943);var rows=_901(_946[_943]);for(var i=rows.length-1;i>=0&&_944>_945;i--,row--){_944-=rows[i].offsetHeight;}return row+1;},findTopRow:function(_947){var _948=this.getDefaultNodes();var rows=_901(_948[this.page]);for(var i=0,l=rows.length,t=this.pageTop,h;i<l;i++){h=rows[i].offsetHeight;t+=h;if(t>=_947){this.offset=h-(t-_947);return i+this.page*this.rowsPerPage;}}return -1;},findScrollTop:function(_949){var _94a=Math.floor(_949/this.rowsPerPage);var t=0;var i,l;for(i=0;i<_94a;i++){t+=this.getPageHeight(i);}this.pageTop=t;this.page=_94a;this.needPage(_94a,this.pageTop);var _94b=this.getDefaultNodes();var rows=_901(_94b[_94a]);var r=_949-this.rowsPerPage*_94a;for(i=0,l=rows.length;i<l&&i<r;i++){t+=rows[i].offsetHeight;}return t;},dummy:0});});},"dojox/grid/_Layout":function(){define(["dojo/_base/kernel","../main","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-geometry","./cells","./_RowSelector"],function(dojo,_94c,_94d,_94e,lang,_94f){return _94d("dojox.grid._Layout",null,{constructor:function(_950){this.grid=_950;},cells:[],structure:null,defaultWidth:"6em",moveColumn:function(_951,_952,_953,_954,_955){var _956=this.structure[_951].cells[0];var _957=this.structure[_952].cells[0];var cell=null;var _958=0;var _959=0;for(var i=0,c;c=_956[i];i++){if(c.index==_953){_958=i;break;}}cell=_956.splice(_958,1)[0];cell.view=this.grid.views.views[_952];for(i=0,c=null;c=_957[i];i++){if(c.index==_954){_959=i;break;}}if(!_955){_959+=1;}_957.splice(_959,0,cell);var _95a=this.grid.getCell(this.grid.getSortIndex());if(_95a){_95a._currentlySorted=this.grid.getSortAsc();}this.cells=[];_953=0;var v;for(i=0;v=this.structure[i];i++){for(var j=0,cs;cs=v.cells[j];j++){for(var k=0;c=cs[k];k++){c.index=_953;this.cells.push(c);if("_currentlySorted" in c){var si=_953+1;si*=c._currentlySorted?1:-1;this.grid.sortInfo=si;delete c._currentlySorted;}_953++;}}}_94e.forEach(this.cells,function(c){var _95b=c.markup[2].split(" ");var _95c=parseInt(_95b[1].substring(5));if(_95c!=c.index){_95b[1]="idx=\""+c.index+"\"";c.markup[2]=_95b.join(" ");}});this.grid.setupHeaderMenu();},setColumnVisibility:function(_95d,_95e){var cell=this.cells[_95d];if(cell.hidden==_95e){cell.hidden=!_95e;var v=cell.view,w=v.viewWidth;if(w&&w!="auto"){v._togglingColumn=_94f.getMarginBox(cell.getHeaderNode()).w||0;}v.update();return true;}else{return false;}},addCellDef:function(_95f,_960,_961){var self=this;var _962=function(_963){var w=0;if(_963.colSpan>1){w=0;}else{w=_963.width||self._defaultCellProps.width||self.defaultWidth;if(!isNaN(w)){w=w+"em";}}return w;};var _964={grid:this.grid,subrow:_95f,layoutIndex:_960,index:this.cells.length};if(_961&&_961 instanceof _94c.grid.cells._Base){var _965=lang.clone(_961);_964.unitWidth=_962(_965._props);_965=lang.mixin(_965,this._defaultCellProps,_961._props,_964);return _965;}var _966=_961.type||_961.cellType||this._defaultCellProps.type||this._defaultCellProps.cellType||_94c.grid.cells.Cell;if(lang.isString(_966)){_966=lang.getObject(_966);}_964.unitWidth=_962(_961);return new _966(lang.mixin({},this._defaultCellProps,_961,_964));},addRowDef:function(_967,_968){var _969=[];var _96a=0,_96b=0,_96c=true;for(var i=0,def,cell;(def=_968[i]);i++){cell=this.addCellDef(_967,i,def);_969.push(cell);this.cells.push(cell);if(_96c&&cell.relWidth){_96a+=cell.relWidth;}else{if(cell.width){var w=cell.width;if(typeof w=="string"&&w.slice(-1)=="%"){_96b+=window.parseInt(w,10);}else{if(w=="auto"){_96c=false;}}}}}if(_96a&&_96c){_94e.forEach(_969,function(cell){if(cell.relWidth){cell.width=cell.unitWidth=((cell.relWidth/_96a)*(100-_96b))+"%";}});}return _969;},addRowsDef:function(_96d){var _96e=[];if(lang.isArray(_96d)){if(lang.isArray(_96d[0])){for(var i=0,row;_96d&&(row=_96d[i]);i++){_96e.push(this.addRowDef(i,row));}}else{_96e.push(this.addRowDef(0,_96d));}}return _96e;},addViewDef:function(_96f){this._defaultCellProps=_96f.defaultCell||{};if(_96f.width&&_96f.width=="auto"){delete _96f.width;}return lang.mixin({},_96f,{cells:this.addRowsDef(_96f.rows||_96f.cells)});},setStructure:function(_970){this.fieldIndex=0;this.cells=[];var s=this.structure=[];if(this.grid.rowSelector){var sel={type:_94c._scopeName+".grid._RowSelector"};if(lang.isString(this.grid.rowSelector)){var _971=this.grid.rowSelector;if(_971=="false"){sel=null;}else{if(_971!="true"){sel["width"]=_971;}}}else{if(!this.grid.rowSelector){sel=null;}}if(sel){s.push(this.addViewDef(sel));}}var _972=function(def){return ("name" in def||"field" in def||"get" in def);};var _973=function(def){if(lang.isArray(def)){if(lang.isArray(def[0])||_972(def[0])){return true;}}return false;};var _974=function(def){return (def!==null&&lang.isObject(def)&&("cells" in def||"rows" in def||("type" in def&&!_972(def))));};if(lang.isArray(_970)){var _975=false;for(var i=0,st;(st=_970[i]);i++){if(_974(st)){_975=true;break;}}if(!_975){s.push(this.addViewDef({cells:_970}));}else{for(i=0;(st=_970[i]);i++){if(_973(st)){s.push(this.addViewDef({cells:st}));}else{if(_974(st)){s.push(this.addViewDef(st));}}}}}else{if(_974(_970)){s.push(this.addViewDef(_970));}}this.cellCount=this.cells.length;this.grid.setupHeaderMenu();}});});},"dojox/grid/cells":function(){define(["../main","./cells/_base"],function(_976){return _976.grid.cells;});},"dojox/grid/cells/_base":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/event","dojo/_base/connect","dojo/_base/array","dojo/_base/sniff","dojo/dom","dojo/dom-attr","dojo/dom-construct","dijit/_Widget","../util"],function(dojo,_977,lang,_978,_979,_97a,has,dom,_97b,_97c,_97d,util){var _97e=_977("dojox.grid._DeferredTextWidget",_97d,{deferred:null,_destroyOnRemove:true,postCreate:function(){if(this.deferred){this.deferred.addBoth(lang.hitch(this,function(text){if(this.domNode){this.domNode.innerHTML=text;}}));}}});var _97f=function(_980){try{util.fire(_980,"focus");util.fire(_980,"select");}catch(e){}};var _981=function(){setTimeout(lang.hitch.apply(dojo,arguments),0);};var _982=_977("dojox.grid.cells._Base",null,{styles:"",classes:"",editable:false,alwaysEditing:false,formatter:null,defaultValue:"...",value:null,hidden:false,noresize:false,draggable:true,_valueProp:"value",_formatPending:false,constructor:function(_983){this._props=_983||{};lang.mixin(this,_983);if(this.draggable===undefined){this.draggable=true;}},_defaultFormat:function(_984,_985){var s=this.grid.formatterScope||this;var f=this.formatter;if(f&&s&&typeof f=="string"){f=this.formatter=s[f];}var v=(_984!=this.defaultValue&&f)?f.apply(s,_985):_984;if(typeof v=="undefined"){return this.defaultValue;}if(v&&v.addBoth){v=new _97e({deferred:v},_97c.create("span",{innerHTML:this.defaultValue}));}if(v&&v.declaredClass&&v.startup){return "<div class='dojoxGridStubNode' linkWidget='"+v.id+"' cellIdx='"+this.index+"'>"+this.defaultValue+"</div>";}return v;},format:function(_986,_987){var f,i=this.grid.edit.info,d=this.get?this.get(_986,_987):(this.value||this.defaultValue);d=(d&&d.replace&&this.grid.escapeHTMLInData)?d.replace(/&/g,"&amp;").replace(/</g,"&lt;"):d;if(this.editable&&(this.alwaysEditing||(i.rowIndex==_986&&i.cell==this))){return this.formatEditing(i.value?i.value:d,_986);}else{return this._defaultFormat(d,[d,_986,this]);}},formatEditing:function(_988,_989){},getNode:function(_98a){return this.view.getCellNode(_98a,this.index);},getHeaderNode:function(){return this.view.getHeaderCellNode(this.index);},getEditNode:function(_98b){return (this.getNode(_98b)||0).firstChild||0;},canResize:function(){var uw=this.unitWidth;return uw&&(uw!=="auto");},isFlex:function(){var uw=this.unitWidth;return uw&&lang.isString(uw)&&(uw=="auto"||uw.slice(-1)=="%");},applyEdit:function(_98c,_98d){if(this.getNode(_98d)){this.grid.edit.applyCellEdit(_98c,this,_98d);}},cancelEdit:function(_98e){this.grid.doCancelEdit(_98e);},_onEditBlur:function(_98f){if(this.grid.edit.isEditCell(_98f,this.index)){this.grid.edit.apply();}},registerOnBlur:function(_990,_991){if(this.commitOnBlur){_979.connect(_990,"onblur",function(e){setTimeout(lang.hitch(this,"_onEditBlur",_991),250);});}},needFormatNode:function(_992,_993){this._formatPending=true;_981(this,"_formatNode",_992,_993);},cancelFormatNode:function(){this._formatPending=false;},_formatNode:function(_994,_995){if(this._formatPending){this._formatPending=false;if(!has("ie")){dom.setSelectable(this.grid.domNode,true);}this.formatNode(this.getEditNode(_995),_994,_995);}},formatNode:function(_996,_997,_998){if(has("ie")){_981(this,"focus",_998,_996);}else{this.focus(_998,_996);}},dispatchEvent:function(m,e){if(m in this){return this[m](e);}},getValue:function(_999){return this.getEditNode(_999)[this._valueProp];},setValue:function(_99a,_99b){var n=this.getEditNode(_99a);if(n){n[this._valueProp]=_99b;}},focus:function(_99c,_99d){_97f(_99d||this.getEditNode(_99c));},save:function(_99e){this.value=this.value||this.getValue(_99e);},restore:function(_99f){this.setValue(_99f,this.value);},_finish:function(_9a0){dom.setSelectable(this.grid.domNode,false);this.cancelFormatNode();},apply:function(_9a1){this.applyEdit(this.getValue(_9a1),_9a1);this._finish(_9a1);},cancel:function(_9a2){this.cancelEdit(_9a2);this._finish(_9a2);}});_982.markupFactory=function(node,_9a3){var _9a4=lang.trim(_97b.get(node,"formatter")||"");if(_9a4){_9a3.formatter=lang.getObject(_9a4)||_9a4;}var get=lang.trim(_97b.get(node,"get")||"");if(get){_9a3.get=lang.getObject(get);}var _9a5=function(attr,cell,_9a6){var _9a7=lang.trim(_97b.get(node,attr)||"");if(_9a7){cell[_9a6||attr]=!(_9a7.toLowerCase()=="false");}};_9a5("sortDesc",_9a3);_9a5("editable",_9a3);_9a5("alwaysEditing",_9a3);_9a5("noresize",_9a3);_9a5("draggable",_9a3);var _9a8=lang.trim(_97b.get(node,"loadingText")||_97b.get(node,"defaultValue")||"");if(_9a8){_9a3.defaultValue=_9a8;}var _9a9=function(attr,cell,_9aa){var _9ab=lang.trim(_97b.get(node,attr)||"")||undefined;if(_9ab){cell[_9aa||attr]=_9ab;}};_9a9("styles",_9a3);_9a9("headerStyles",_9a3);_9a9("cellStyles",_9a3);_9a9("classes",_9a3);_9a9("headerClasses",_9a3);_9a9("cellClasses",_9a3);};var Cell=_982.Cell=_977("dojox.grid.cells.Cell",_982,{constructor:function(){this.keyFilter=this.keyFilter;},keyFilter:null,formatEditing:function(_9ac,_9ad){this.needFormatNode(_9ac,_9ad);return "<input class=\"dojoxGridInput\" type=\"text\" value=\""+_9ac+"\">";},formatNode:function(_9ae,_9af,_9b0){this.inherited(arguments);this.registerOnBlur(_9ae,_9b0);},doKey:function(e){if(this.keyFilter){var key=String.fromCharCode(e.charCode);if(key.search(this.keyFilter)==-1){_978.stop(e);}}},_finish:function(_9b1){this.inherited(arguments);var n=this.getEditNode(_9b1);try{util.fire(n,"blur");}catch(e){}}});Cell.markupFactory=function(node,_9b2){_982.markupFactory(node,_9b2);var _9b3=lang.trim(_97b.get(node,"keyFilter")||"");if(_9b3){_9b2.keyFilter=new RegExp(_9b3);}};var _9b4=_982.RowIndex=_977("dojox.grid.cells.RowIndex",Cell,{name:"Row",postscript:function(){this.editable=false;},get:function(_9b5){return _9b5+1;}});_9b4.markupFactory=function(node,_9b6){Cell.markupFactory(node,_9b6);};var _9b7=_982.Select=_977("dojox.grid.cells.Select",Cell,{options:null,values:null,returnIndex:-1,constructor:function(_9b8){this.values=this.values||this.options;},formatEditing:function(_9b9,_9ba){this.needFormatNode(_9b9,_9ba);var h=["<select class=\"dojoxGridSelect\">"];for(var i=0,o,v;((o=this.options[i])!==undefined)&&((v=this.values[i])!==undefined);i++){v=v.replace?v.replace(/&/g,"&amp;").replace(/</g,"&lt;"):v;o=o.replace?o.replace(/&/g,"&amp;").replace(/</g,"&lt;"):o;h.push("<option",(_9b9==v?" selected":"")," value=\""+v+"\"",">",o,"</option>");}h.push("</select>");return h.join("");},_defaultFormat:function(_9bb,_9bc){var v=this.inherited(arguments);if(!this.formatter&&this.values&&this.options){var i=_97a.indexOf(this.values,v);if(i>=0){v=this.options[i];}}return v;},getValue:function(_9bd){var n=this.getEditNode(_9bd);if(n){var i=n.selectedIndex,o=n.options[i];return this.returnIndex>-1?i:o.value||o.innerHTML;}}});_9b7.markupFactory=function(node,cell){Cell.markupFactory(node,cell);var _9be=lang.trim(_97b.get(node,"options")||"");if(_9be){var o=_9be.split(",");if(o[0]!=_9be){cell.options=o;}}var _9bf=lang.trim(_97b.get(node,"values")||"");if(_9bf){var v=_9bf.split(",");if(v[0]!=_9bf){cell.values=v;}}};var _9c0=_982.AlwaysEdit=_977("dojox.grid.cells.AlwaysEdit",Cell,{alwaysEditing:true,_formatNode:function(_9c1,_9c2){this.formatNode(this.getEditNode(_9c2),_9c1,_9c2);},applyStaticValue:function(_9c3){var e=this.grid.edit;e.applyCellEdit(this.getValue(_9c3),this,_9c3);e.start(this,_9c3,true);}});_9c0.markupFactory=function(node,cell){Cell.markupFactory(node,cell);};var Bool=_982.Bool=_977("dojox.grid.cells.Bool",_9c0,{_valueProp:"checked",formatEditing:function(_9c4,_9c5){return "<input class=\"dojoxGridInput\" type=\"checkbox\""+(_9c4?" checked=\"checked\"":"")+" style=\"width: auto\" />";},doclick:function(e){if(e.target.tagName=="INPUT"){this.applyStaticValue(e.rowIndex);}}});Bool.markupFactory=function(node,cell){_9c0.markupFactory(node,cell);};return _982;});},"dojox/grid/_RowSelector":function(){define(["dojo/_base/declare","./_View"],function(_9c6,_9c7){return _9c6("dojox.grid._RowSelector",_9c7,{defaultWidth:"2em",noscroll:true,padBorderWidth:2,buildRendering:function(){this.inherited("buildRendering",arguments);this.scrollboxNode.style.overflow="hidden";this.headerNode.style.visibility="hidden";},getWidth:function(){return this.viewWidth||this.defaultWidth;},buildRowContent:function(_9c8,_9c9){var w=this.contentWidth||0;_9c9.innerHTML="<table class=\"dojoxGridRowbarTable\" style=\"width:"+w+"px;height:1px;\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" role=\"presentation\"><tr><td class=\"dojoxGridRowbarInner\">&nbsp;</td></tr></table>";},renderHeader:function(){},updateRow:function(){},resize:function(){this.adaptHeight();},adaptWidth:function(){if(!("contentWidth" in this)&&this.contentNode&&this.contentNode.offsetWidth>0){this.contentWidth=this.contentNode.offsetWidth-this.padBorderWidth;}},doStyleRowNode:function(_9ca,_9cb){var n=["dojoxGridRowbar dojoxGridNonNormalizedCell"];if(this.grid.rows.isOver(_9ca)){n.push("dojoxGridRowbarOver");}if(this.grid.selection.isSelected(_9ca)){n.push("dojoxGridRowbarSelected");}_9cb.className=n.join(" ");},domouseover:function(e){this.grid.onMouseOverRow(e);},domouseout:function(e){if(!this.isIntraRowEvent(e)){this.grid.onMouseOutRow(e);}}});});},"dojox/grid/_ViewManager":function(){define(["dojo/_base/declare","dojo/_base/sniff","dojo/dom-class"],function(_9cc,has,_9cd){return _9cc("dojox.grid._ViewManager",null,{constructor:function(_9ce){this.grid=_9ce;},defaultWidth:200,views:[],resize:function(){this.onEach("resize");},render:function(){this.onEach("render");},addView:function(_9cf){_9cf.idx=this.views.length;this.views.push(_9cf);},destroyViews:function(){for(var i=0,v;v=this.views[i];i++){v.destroy();}this.views=[];},getContentNodes:function(){var _9d0=[];for(var i=0,v;v=this.views[i];i++){_9d0.push(v.contentNode);}return _9d0;},forEach:function(_9d1){for(var i=0,v;v=this.views[i];i++){_9d1(v,i);}},onEach:function(_9d2,_9d3){_9d3=_9d3||[];for(var i=0,v;v=this.views[i];i++){if(_9d2 in v){v[_9d2].apply(v,_9d3);}}},normalizeHeaderNodeHeight:function(){var _9d4=[];for(var i=0,v;(v=this.views[i]);i++){if(v.headerContentNode.firstChild){_9d4.push(v.headerContentNode);}}this.normalizeRowNodeHeights(_9d4);},normalizeRowNodeHeights:function(_9d5){var h=0;var _9d6=[];if(this.grid.rowHeight){h=this.grid.rowHeight;}else{if(_9d5.length<=1){return;}for(var i=0,n;(n=_9d5[i]);i++){if(!_9cd.contains(n,"dojoxGridNonNormalizedCell")){_9d6[i]=n.firstChild.offsetHeight;h=Math.max(h,_9d6[i]);}}h=(h>=0?h:0);if((has("mozilla")||has("ie")>8)&&h){h++;}}for(i=0;(n=_9d5[i]);i++){if(_9d6[i]!=h){n.firstChild.style.height=h+"px";}}},resetHeaderNodeHeight:function(){for(var i=0,v,n;(v=this.views[i]);i++){n=v.headerContentNode.firstChild;if(n){n.style.height="";}}},renormalizeRow:function(_9d7){var _9d8=[];for(var i=0,v,n;(v=this.views[i])&&(n=v.getRowNode(_9d7));i++){n.firstChild.style.height="";_9d8.push(n);}this.normalizeRowNodeHeights(_9d8);},getViewWidth:function(_9d9){return this.views[_9d9].getWidth()||this.defaultWidth;},measureHeader:function(){this.resetHeaderNodeHeight();this.forEach(function(_9da){_9da.headerContentNode.style.height="";});var h=0;this.forEach(function(_9db){h=Math.max(_9db.headerNode.offsetHeight,h);});return h;},measureContent:function(){var h=0;this.forEach(function(_9dc){h=Math.max(_9dc.domNode.offsetHeight,h);});return h;},findClient:function(_9dd){var c=this.grid.elasticView||-1;if(c<0){for(var i=1,v;(v=this.views[i]);i++){if(v.viewWidth){for(i=1;(v=this.views[i]);i++){if(!v.viewWidth){c=i;break;}}break;}}}if(c<0){c=Math.floor(this.views.length/2);}return c;},arrange:function(l,w){var i,v,vw,len=this.views.length,self=this;var c=(w<=0?len:this.findClient());var _9de=function(v,l){var ds=v.domNode.style;var hs=v.headerNode.style;if(!self.grid.isLeftToRight()){ds.right=l+"px";if(has("ff")<4){hs.right=l+v.getScrollbarWidth()+"px";}else{hs.right=l+"px";}if(!has("webkit")&&hs.width!="auto"){hs.width=parseInt(hs.width,10)-v.getScrollbarWidth()+"px";}}else{ds.left=l+"px";hs.left=l+"px";}ds.top=0+"px";hs.top=0;};for(i=0;(v=this.views[i])&&(i<c);i++){vw=this.getViewWidth(i);v.setSize(vw,0);_9de(v,l);if(v.headerContentNode&&v.headerContentNode.firstChild){vw=v.getColumnsWidth()+v.getScrollbarWidth();}else{vw=v.domNode.offsetWidth;}l+=vw;}i++;var r=w;for(var j=len-1;(v=this.views[j])&&(i<=j);j--){vw=this.getViewWidth(j);v.setSize(vw,0);vw=v.domNode.offsetWidth;r-=vw;_9de(v,r);}if(c<len){v=this.views[c];vw=Math.max(1,r-l);v.setSize(vw+"px",0);_9de(v,l);}return l;},renderRow:function(_9df,_9e0,_9e1){var _9e2=[];for(var i=0,v,n,_9e3;(v=this.views[i])&&(n=_9e0[i]);i++){_9e3=v.renderRow(_9df);n.appendChild(_9e3);_9e2.push(_9e3);}if(!_9e1){this.normalizeRowNodeHeights(_9e2);}},rowRemoved:function(_9e4){this.onEach("rowRemoved",[_9e4]);},updateRow:function(_9e5,_9e6){for(var i=0,v;v=this.views[i];i++){v.updateRow(_9e5);}if(!_9e6){this.renormalizeRow(_9e5);}},updateRowStyles:function(_9e7){this.onEach("updateRowStyles",[_9e7]);},setScrollTop:function(_9e8){var top=_9e8;for(var i=0,v;v=this.views[i];i++){top=v.setScrollTop(_9e8);if(has("ie")&&v.headerNode&&v.scrollboxNode){v.headerNode.scrollLeft=v.scrollboxNode.scrollLeft;}}return top;},getFirstScrollingView:function(){for(var i=0,v;(v=this.views[i]);i++){if(v.hasHScrollbar()||v.hasVScrollbar()){return v;}}return null;}});});},"dojox/grid/_RowManager":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-class"],function(_9e9,lang,_9ea){var _9eb=function(_9ec,_9ed){if(_9ec.style.cssText==undefined){_9ec.setAttribute("style",_9ed);}else{_9ec.style.cssText=_9ed;}};return _9e9("dojox.grid._RowManager",null,{constructor:function(_9ee){this.grid=_9ee;},linesToEms:2,overRow:-2,prepareStylingRow:function(_9ef,_9f0){return {index:_9ef,node:_9f0,odd:Boolean(_9ef&1),selected:!!this.grid.selection.isSelected(_9ef),over:this.isOver(_9ef),customStyles:"",customClasses:"dojoxGridRow"};},styleRowNode:function(_9f1,_9f2){var row=this.prepareStylingRow(_9f1,_9f2);this.grid.onStyleRow(row);this.applyStyles(row);},applyStyles:function(_9f3){var i=_9f3;i.node.className=i.customClasses;var h=i.node.style.height;_9eb(i.node,i.customStyles+";"+(i.node._style||""));i.node.style.height=h;},updateStyles:function(_9f4){this.grid.updateRowStyles(_9f4);},setOverRow:function(_9f5){var last=this.overRow;this.overRow=_9f5;if((last!=this.overRow)&&(lang.isString(last)||last>=0)){this.updateStyles(last);}this.updateStyles(this.overRow);},isOver:function(_9f6){return (this.overRow==_9f6&&!_9ea.contains(this.grid.domNode,"dojoxGridColumnResizing"));}});});},"dojox/grid/_FocusManager":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dojo/_base/connect","dojo/_base/event","dojo/_base/sniff","dojo/query","./util","dojo/_base/html"],function(_9f7,lang,_9f8,_9f9,_9fa,has,_9fb,util,html){return _9f8("dojox.grid._FocusManager",null,{constructor:function(_9fc){this.grid=_9fc;this.cell=null;this.rowIndex=-1;this._connects=[];this._headerConnects=[];this.headerMenu=this.grid.headerMenu;this._connects.push(_9f9.connect(this.grid.domNode,"onfocus",this,"doFocus"));this._connects.push(_9f9.connect(this.grid.domNode,"onblur",this,"doBlur"));this._connects.push(_9f9.connect(this.grid.domNode,"mousedown",this,"_mouseDown"));this._connects.push(_9f9.connect(this.grid.domNode,"mouseup",this,"_mouseUp"));this._connects.push(_9f9.connect(this.grid.domNode,"oncontextmenu",this,"doContextMenu"));this._connects.push(_9f9.connect(this.grid.lastFocusNode,"onfocus",this,"doLastNodeFocus"));this._connects.push(_9f9.connect(this.grid.lastFocusNode,"onblur",this,"doLastNodeBlur"));this._connects.push(_9f9.connect(this.grid,"_onFetchComplete",this,"_delayedCellFocus"));this._connects.push(_9f9.connect(this.grid,"postrender",this,"_delayedHeaderFocus"));},destroy:function(){_9f7.forEach(this._connects,_9f9.disconnect);_9f7.forEach(this._headerConnects,_9f9.disconnect);delete this.grid;delete this.cell;},_colHeadNode:null,_colHeadFocusIdx:null,_contextMenuBindNode:null,tabbingOut:false,focusClass:"dojoxGridCellFocus",focusView:null,initFocusView:function(){this.focusView=this.grid.views.getFirstScrollingView()||this.focusView||this.grid.views.views[0];this._initColumnHeaders();},isFocusCell:function(_9fd,_9fe){return (this.cell==_9fd)&&(this.rowIndex==_9fe);},isLastFocusCell:function(){if(this.cell){return (this.rowIndex==this.grid.rowCount-1)&&(this.cell.index==this.grid.layout.cellCount-1);}return false;},isFirstFocusCell:function(){if(this.cell){return (this.rowIndex===0)&&(this.cell.index===0);}return false;},isNoFocusCell:function(){return (this.rowIndex<0)||!this.cell;},isNavHeader:function(){return (!!this._colHeadNode);},getHeaderIndex:function(){if(this._colHeadNode){return _9f7.indexOf(this._findHeaderCells(),this._colHeadNode);}else{return -1;}},_focusifyCellNode:function(_9ff){var n=this.cell&&this.cell.getNode(this.rowIndex);if(n){html.toggleClass(n,this.focusClass,_9ff);if(_9ff){var sl=this.scrollIntoView();try{if(has("webkit")||!this.grid.edit.isEditing()){util.fire(n,"focus");if(sl){this.cell.view.scrollboxNode.scrollLeft=sl;}}}catch(e){}}}},_delayedCellFocus:function(){if(this.isNavHeader()||!this.grid.focused){return;}var n=this.cell&&this.cell.getNode(this.rowIndex);if(n){try{if(!this.grid.edit.isEditing()){html.toggleClass(n,this.focusClass,true);if(this._colHeadNode){this.blurHeader();}util.fire(n,"focus");}}catch(e){}}},_delayedHeaderFocus:function(){if(this.isNavHeader()){this.focusHeader();}},_initColumnHeaders:function(){_9f7.forEach(this._headerConnects,_9f9.disconnect);this._headerConnects=[];var _a00=this._findHeaderCells();for(var i=0;i<_a00.length;i++){this._headerConnects.push(_9f9.connect(_a00[i],"onfocus",this,"doColHeaderFocus"));this._headerConnects.push(_9f9.connect(_a00[i],"onblur",this,"doColHeaderBlur"));}},_findHeaderCells:function(){var _a01=_9fb("th",this.grid.viewsHeaderNode);var _a02=[];for(var i=0;i<_a01.length;i++){var _a03=_a01[i];var _a04=html.hasAttr(_a03,"tabIndex");var _a05=html.attr(_a03,"tabIndex");if(_a04&&_a05<0){_a02.push(_a03);}}return _a02;},_setActiveColHeader:function(_a06,_a07,_a08){this.grid.domNode.setAttribute("aria-activedescendant",_a06.id);if(_a08!=null&&_a08>=0&&_a08!=_a07){html.toggleClass(this._findHeaderCells()[_a08],this.focusClass,false);}html.toggleClass(_a06,this.focusClass,true);this._colHeadNode=_a06;this._colHeadFocusIdx=_a07;this._scrollHeader(this._colHeadFocusIdx);},scrollIntoView:function(){var info=(this.cell?this._scrollInfo(this.cell):null);if(!info||!info.s){return null;}var rt=this.grid.scroller.findScrollTop(this.rowIndex);if(info.n&&info.sr){if(info.n.offsetLeft+info.n.offsetWidth>info.sr.l+info.sr.w){info.s.scrollLeft=info.n.offsetLeft+info.n.offsetWidth-info.sr.w;}else{if(info.n.offsetLeft<info.sr.l){info.s.scrollLeft=info.n.offsetLeft;}}}if(info.r&&info.sr){if(rt+info.r.offsetHeight>info.sr.t+info.sr.h){this.grid.setScrollTop(rt+info.r.offsetHeight-info.sr.h);}else{if(rt<info.sr.t){this.grid.setScrollTop(rt);}}}return info.s.scrollLeft;},_scrollInfo:function(cell,_a09){if(cell){var cl=cell,sbn=cl.view.scrollboxNode,sbnr={w:sbn.clientWidth,l:sbn.scrollLeft,t:sbn.scrollTop,h:sbn.clientHeight},rn=cl.view.getRowNode(this.rowIndex);return {c:cl,s:sbn,sr:sbnr,n:(_a09?_a09:cell.getNode(this.rowIndex)),r:rn};}return null;},_scrollHeader:function(_a0a){var info=null;if(this._colHeadNode){var cell=this.grid.getCell(_a0a);if(!cell){return;}info=this._scrollInfo(cell,cell.getNode(0));}if(info&&info.s&&info.sr&&info.n){var _a0b=info.sr.l+info.sr.w;if(info.n.offsetLeft+info.n.offsetWidth>_a0b){info.s.scrollLeft=info.n.offsetLeft+info.n.offsetWidth-info.sr.w;}else{if(info.n.offsetLeft<info.sr.l){info.s.scrollLeft=info.n.offsetLeft;}else{if(has("ie")<=7&&cell&&cell.view.headerNode){cell.view.headerNode.scrollLeft=info.s.scrollLeft;}}}}},_isHeaderHidden:function(){var _a0c=this.focusView;if(!_a0c){for(var i=0,_a0d;(_a0d=this.grid.views.views[i]);i++){if(_a0d.headerNode){_a0c=_a0d;break;}}}return (_a0c&&html.getComputedStyle(_a0c.headerNode).display=="none");},colSizeAdjust:function(e,_a0e,_a0f){var _a10=this._findHeaderCells();var view=this.focusView;if(!view||!view.header.tableMap.map){for(var i=0,_a11;(_a11=this.grid.views.views[i]);i++){if(_a11.header.tableMap.map){view=_a11;break;}}}var _a12=_a10[_a0e];if(!view||(_a0e==_a10.length-1&&_a0e===0)){return;}view.content.baseDecorateEvent(e);e.cellNode=_a12;e.cellIndex=view.content.getCellNodeIndex(e.cellNode);e.cell=(e.cellIndex>=0?this.grid.getCell(e.cellIndex):null);if(view.header.canResize(e)){var _a13={l:_a0f};var drag=view.header.colResizeSetup(e,false);view.header.doResizeColumn(drag,null,_a13);view.update();}},styleRow:function(_a14){return;},setFocusIndex:function(_a15,_a16){this.setFocusCell(this.grid.getCell(_a16),_a15);},setFocusCell:function(_a17,_a18){if(_a17&&!this.isFocusCell(_a17,_a18)){this.tabbingOut=false;if(this._colHeadNode){this.blurHeader();}this._colHeadNode=this._colHeadFocusIdx=null;this.focusGridView();this._focusifyCellNode(false);this.cell=_a17;this.rowIndex=_a18;this._focusifyCellNode(true);}if(has("opera")){setTimeout(lang.hitch(this.grid,"onCellFocus",this.cell,this.rowIndex),1);}else{this.grid.onCellFocus(this.cell,this.rowIndex);}},next:function(){if(this.cell){var row=this.rowIndex,col=this.cell.index+1,cc=this.grid.layout.cellCount-1,rc=this.grid.rowCount-1;if(col>cc){col=0;row++;}if(row>rc){col=cc;row=rc;}if(this.grid.edit.isEditing()){var _a19=this.grid.getCell(col);if(!this.isLastFocusCell()&&(!_a19.editable||this.grid.canEdit&&!this.grid.canEdit(_a19,row))){this.cell=_a19;this.rowIndex=row;this.next();return;}}this.setFocusIndex(row,col);}},previous:function(){if(this.cell){var row=(this.rowIndex||0),col=(this.cell.index||0)-1;if(col<0){col=this.grid.layout.cellCount-1;row--;}if(row<0){row=0;col=0;}if(this.grid.edit.isEditing()){var _a1a=this.grid.getCell(col);if(!this.isFirstFocusCell()&&!_a1a.editable){this.cell=_a1a;this.rowIndex=row;this.previous();return;}}this.setFocusIndex(row,col);}},move:function(_a1b,_a1c){var _a1d=_a1c<0?-1:1;if(this.isNavHeader()){var _a1e=this._findHeaderCells();var _a1f=currentIdx=_9f7.indexOf(_a1e,this._colHeadNode);currentIdx+=_a1c;while(currentIdx>=0&&currentIdx<_a1e.length&&_a1e[currentIdx].style.display=="none"){currentIdx+=_a1d;}if((currentIdx>=0)&&(currentIdx<_a1e.length)){this._setActiveColHeader(_a1e[currentIdx],currentIdx,_a1f);}}else{if(this.cell){var sc=this.grid.scroller,r=this.rowIndex,rc=this.grid.rowCount-1,row=Math.min(rc,Math.max(0,r+_a1b));if(_a1b){if(_a1b>0){if(row>sc.getLastPageRow(sc.page)){this.grid.setScrollTop(this.grid.scrollTop+sc.findScrollTop(row)-sc.findScrollTop(r));}}else{if(_a1b<0){if(row<=sc.getPageRow(sc.page)){this.grid.setScrollTop(this.grid.scrollTop-sc.findScrollTop(r)-sc.findScrollTop(row));}}}}var cc=this.grid.layout.cellCount-1,i=this.cell.index,col=Math.min(cc,Math.max(0,i+_a1c));var cell=this.grid.getCell(col);while(col>=0&&col<cc&&cell&&cell.hidden===true){col+=_a1d;cell=this.grid.getCell(col);}if(!cell||cell.hidden===true){col=i;}var n=cell.getNode(row);if(!n&&_a1b){if((row+_a1b)>=0&&(row+_a1b)<=rc){this.move(_a1b>0?++_a1b:--_a1b,_a1c);}return;}else{if((!n||html.style(n,"display")==="none")&&_a1c){if((col+_a1c)>=0&&(col+_a1c)<=cc){this.move(_a1b,_a1c>0?++_a1c:--_a1c);}return;}}this.setFocusIndex(row,col);if(_a1b){this.grid.updateRow(r);}}}},previousKey:function(e){if(this.grid.edit.isEditing()){_9fa.stop(e);this.previous();}else{if(!this.isNavHeader()&&!this._isHeaderHidden()){this.grid.domNode.focus();_9fa.stop(e);}else{this.tabOut(this.grid.domNode);if(this._colHeadFocusIdx!=null){html.toggleClass(this._findHeaderCells()[this._colHeadFocusIdx],this.focusClass,false);this._colHeadFocusIdx=null;}this._focusifyCellNode(false);}}},nextKey:function(e){var _a20=(this.grid.rowCount===0);if(e.target===this.grid.domNode&&this._colHeadFocusIdx==null){this.focusHeader();_9fa.stop(e);}else{if(this.isNavHeader()){this.blurHeader();if(!this.findAndFocusGridCell()){this.tabOut(this.grid.lastFocusNode);}this._colHeadNode=this._colHeadFocusIdx=null;}else{if(this.grid.edit.isEditing()){_9fa.stop(e);this.next();}else{this.tabOut(this.grid.lastFocusNode);}}}},tabOut:function(_a21){this.tabbingOut=true;_a21.focus();},focusGridView:function(){util.fire(this.focusView,"focus");},focusGrid:function(_a22){this.focusGridView();this._focusifyCellNode(true);},findAndFocusGridCell:function(){var _a23=true;var _a24=(this.grid.rowCount===0);if(this.isNoFocusCell()&&!_a24){var _a25=0;var cell=this.grid.getCell(_a25);if(cell.hidden){_a25=this.isNavHeader()?this._colHeadFocusIdx:0;}this.setFocusIndex(0,_a25);}else{if(this.cell&&!_a24){if(this.focusView&&!this.focusView.rowNodes[this.rowIndex]){this.grid.scrollToRow(this.rowIndex);}this.focusGrid();}else{_a23=false;}}this._colHeadNode=this._colHeadFocusIdx=null;return _a23;},focusHeader:function(){var _a26=this._findHeaderCells();var _a27=this._colHeadFocusIdx;if(this._isHeaderHidden()){this.findAndFocusGridCell();}else{if(!this._colHeadFocusIdx){if(this.isNoFocusCell()){this._colHeadFocusIdx=0;}else{this._colHeadFocusIdx=this.cell.index;}}}this._colHeadNode=_a26[this._colHeadFocusIdx];while(this._colHeadNode&&this._colHeadFocusIdx>=0&&this._colHeadFocusIdx<_a26.length&&this._colHeadNode.style.display=="none"){this._colHeadFocusIdx++;this._colHeadNode=_a26[this._colHeadFocusIdx];}if(this._colHeadNode&&this._colHeadNode.style.display!="none"){if(this.headerMenu&&this._contextMenuBindNode!=this.grid.domNode){this.headerMenu.unBindDomNode(this.grid.viewsHeaderNode);this.headerMenu.bindDomNode(this.grid.domNode);this._contextMenuBindNode=this.grid.domNode;}this._setActiveColHeader(this._colHeadNode,this._colHeadFocusIdx,_a27);this._scrollHeader(this._colHeadFocusIdx);this._focusifyCellNode(false);}else{this.findAndFocusGridCell();}},blurHeader:function(){html.removeClass(this._colHeadNode,this.focusClass);html.removeAttr(this.grid.domNode,"aria-activedescendant");if(this.headerMenu&&this._contextMenuBindNode==this.grid.domNode){var _a28=this.grid.viewsHeaderNode;this.headerMenu.unBindDomNode(this.grid.domNode);this.headerMenu.bindDomNode(_a28);this._contextMenuBindNode=_a28;}},doFocus:function(e){if(e&&e.target!=e.currentTarget){_9fa.stop(e);return;}if(this._clickFocus){return;}if(!this.tabbingOut){this.focusHeader();}this.tabbingOut=false;_9fa.stop(e);},doBlur:function(e){_9fa.stop(e);},doContextMenu:function(e){if(!this.headerMenu){_9fa.stop(e);}},doLastNodeFocus:function(e){if(this.tabbingOut){this._focusifyCellNode(false);}else{if(this.grid.rowCount>0){if(this.isNoFocusCell()){this.setFocusIndex(0,0);}this._focusifyCellNode(true);}else{this.focusHeader();}}this.tabbingOut=false;_9fa.stop(e);},doLastNodeBlur:function(e){_9fa.stop(e);},doColHeaderFocus:function(e){this._setActiveColHeader(e.target,html.attr(e.target,"idx"),this._colHeadFocusIdx);this._scrollHeader(this.getHeaderIndex());_9fa.stop(e);},doColHeaderBlur:function(e){html.toggleClass(e.target,this.focusClass,false);},_mouseDown:function(e){this._clickFocus=dojo.some(this.grid.views.views,function(v){return v.scrollboxNode===e.target;});},_mouseUp:function(e){this._clickFocus=false;}});});},"dojox/grid/_EditManager":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/connect","dojo/_base/sniff","./util"],function(lang,_a29,_a2a,_a2b,has,util){return _a2a("dojox.grid._EditManager",null,{constructor:function(_a2c){this.grid=_a2c;this.connections=!has("ie")?[]:[_a2b.connect(document.body,"onfocus",lang.hitch(this,"_boomerangFocus"))];this.connections.push(_a2b.connect(this.grid,"onBlur",this,"apply"));this.connections.push(_a2b.connect(this.grid,"prerender",this,"_onPreRender"));},info:{},destroy:function(){_a29.forEach(this.connections,_a2b.disconnect);},cellFocus:function(_a2d,_a2e){if(this.grid.singleClickEdit||this.isEditRow(_a2e)){this.setEditCell(_a2d,_a2e);}else{this.apply();}if(this.isEditing()||(_a2d&&_a2d.editable&&_a2d.alwaysEditing)){this._focusEditor(_a2d,_a2e);}},rowClick:function(e){if(this.isEditing()&&!this.isEditRow(e.rowIndex)){this.apply();}},styleRow:function(_a2f){if(_a2f.index==this.info.rowIndex){_a2f.customClasses+=" dojoxGridRowEditing";}},dispatchEvent:function(e){var c=e.cell,ed=(c&&c["editable"])?c:0;return ed&&ed.dispatchEvent(e.dispatch,e);},isEditing:function(){return this.info.rowIndex!==undefined;},isEditCell:function(_a30,_a31){return (this.info.rowIndex===_a30)&&(this.info.cell.index==_a31);},isEditRow:function(_a32){return this.info.rowIndex===_a32;},setEditCell:function(_a33,_a34){if(!this.isEditCell(_a34,_a33.index)&&this.grid.canEdit&&this.grid.canEdit(_a33,_a34)){this.start(_a33,_a34,this.isEditRow(_a34)||_a33.editable);}},_focusEditor:function(_a35,_a36){util.fire(_a35,"focus",[_a36]);},focusEditor:function(){if(this.isEditing()){this._focusEditor(this.info.cell,this.info.rowIndex);}},_boomerangWindow:500,_shouldCatchBoomerang:function(){return this._catchBoomerang>new Date().getTime();},_boomerangFocus:function(){if(this._shouldCatchBoomerang()){this.grid.focus.focusGrid();this.focusEditor();this._catchBoomerang=0;}},_doCatchBoomerang:function(){if(has("ie")){this._catchBoomerang=new Date().getTime()+this._boomerangWindow;}},start:function(_a37,_a38,_a39){if(!this._isValidInput()){return;}this.grid.beginUpdate();this.editorApply();if(this.isEditing()&&!this.isEditRow(_a38)){this.applyRowEdit();this.grid.updateRow(_a38);}if(_a39){this.info={cell:_a37,rowIndex:_a38};this.grid.doStartEdit(_a37,_a38);this.grid.updateRow(_a38);}else{this.info={};}this.grid.endUpdate();this.grid.focus.focusGrid();this._focusEditor(_a37,_a38);this._doCatchBoomerang();},_editorDo:function(_a3a){var c=this.info.cell;if(c&&c.editable){c[_a3a](this.info.rowIndex);}},editorApply:function(){this._editorDo("apply");},editorCancel:function(){this._editorDo("cancel");},applyCellEdit:function(_a3b,_a3c,_a3d){if(this.grid.canEdit(_a3c,_a3d)){this.grid.doApplyCellEdit(_a3b,_a3d,_a3c.field);}},applyRowEdit:function(){this.grid.doApplyEdit(this.info.rowIndex,this.info.cell.field);},apply:function(){if(this.isEditing()&&this._isValidInput()){this.grid.beginUpdate();this.editorApply();this.applyRowEdit();this.info={};this.grid.endUpdate();this.grid.focus.focusGrid();this._doCatchBoomerang();}},cancel:function(){if(this.isEditing()){this.grid.beginUpdate();this.editorCancel();this.info={};this.grid.endUpdate();this.grid.focus.focusGrid();this._doCatchBoomerang();}},save:function(_a3e,_a3f){var c=this.info.cell;if(this.isEditRow(_a3e)&&(!_a3f||c.view==_a3f)&&c.editable){c.save(c,this.info.rowIndex);}},restore:function(_a40,_a41){var c=this.info.cell;if(this.isEditRow(_a41)&&c.view==_a40&&c.editable){c.restore(this.info.rowIndex);}},_isValidInput:function(){var w=(this.info.cell||{}).widget;if(!w||!w.isValid){return true;}w.focused=true;return w.isValid(true);},_onPreRender:function(){if(this.isEditing()){this.info.value=this.info.cell.getValue();}}});});},"dojox/grid/Selection":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-attr"],function(_a42,_a43,lang,_a44){return _a42("dojox.grid.Selection",null,{constructor:function(_a45){this.grid=_a45;this.selected=[];this.setMode(_a45.selectionMode);},mode:"extended",selected:null,updating:0,selectedIndex:-1,rangeStartIndex:-1,setMode:function(mode){if(this.selected.length){this.deselectAll();}if(mode!="extended"&&mode!="multiple"&&mode!="single"&&mode!="none"){this.mode="extended";}else{this.mode=mode;}},onCanSelect:function(_a46){return this.grid.onCanSelect(_a46);},onCanDeselect:function(_a47){return this.grid.onCanDeselect(_a47);},onSelected:function(_a48){},onDeselected:function(_a49){},onChanging:function(){},onChanged:function(){},isSelected:function(_a4a){if(this.mode=="none"){return false;}return this.selected[_a4a];},getFirstSelected:function(){if(!this.selected.length||this.mode=="none"){return -1;}for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){return i;}}return -1;},getNextSelected:function(_a4b){if(this.mode=="none"){return -1;}for(var i=_a4b+1,l=this.selected.length;i<l;i++){if(this.selected[i]){return i;}}return -1;},getSelected:function(){var _a4c=[];for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){_a4c.push(i);}}return _a4c;},getSelectedCount:function(){var c=0;for(var i=0;i<this.selected.length;i++){if(this.selected[i]){c++;}}return c;},_beginUpdate:function(){if(this.updating===0){this.onChanging();}this.updating++;},_endUpdate:function(){this.updating--;if(this.updating===0){this.onChanged();}},select:function(_a4d){if(this.mode=="none"){return;}if(this.mode!="multiple"){this.deselectAll(_a4d);this.addToSelection(_a4d);}else{this.toggleSelect(_a4d);}},addToSelection:function(_a4e){if(this.mode=="none"){return;}if(lang.isArray(_a4e)){_a43.forEach(_a4e,this.addToSelection,this);return;}_a4e=Number(_a4e);if(this.selected[_a4e]){this.selectedIndex=_a4e;}else{if(this.onCanSelect(_a4e)!==false){this.selectedIndex=_a4e;var _a4f=this.grid.getRowNode(_a4e);if(_a4f){_a44.set(_a4f,"aria-selected","true");}this._beginUpdate();this.selected[_a4e]=true;this.onSelected(_a4e);this._endUpdate();}}},deselect:function(_a50){if(this.mode=="none"){return;}if(lang.isArray(_a50)){_a43.forEach(_a50,this.deselect,this);return;}_a50=Number(_a50);if(this.selectedIndex==_a50){this.selectedIndex=-1;}if(this.selected[_a50]){if(this.onCanDeselect(_a50)===false){return;}var _a51=this.grid.getRowNode(_a50);if(_a51){_a44.set(_a51,"aria-selected","false");}this._beginUpdate();delete this.selected[_a50];this.onDeselected(_a50);this._endUpdate();}},setSelected:function(_a52,_a53){this[(_a53?"addToSelection":"deselect")](_a52);},toggleSelect:function(_a54){if(lang.isArray(_a54)){_a43.forEach(_a54,this.toggleSelect,this);return;}this.setSelected(_a54,!this.selected[_a54]);},_range:function(_a55,inTo,func){var s=(_a55>=0?_a55:inTo),e=inTo;if(s>e){e=s;s=inTo;}for(var i=s;i<=e;i++){func(i);}},selectRange:function(_a56,inTo){this._range(_a56,inTo,lang.hitch(this,"addToSelection"));},deselectRange:function(_a57,inTo){this._range(_a57,inTo,lang.hitch(this,"deselect"));},insert:function(_a58){this.selected.splice(_a58,0,false);if(this.selectedIndex>=_a58){this.selectedIndex++;}},remove:function(_a59){this.selected.splice(_a59,1);if(this.selectedIndex>=_a59){this.selectedIndex--;}},deselectAll:function(_a5a){for(var i in this.selected){if((i!=_a5a)&&(this.selected[i]===true)){this.deselect(i);}}},clickSelect:function(_a5b,_a5c,_a5d){if(this.mode=="none"){return;}this._beginUpdate();if(this.mode!="extended"){this.select(_a5b);}else{if(!_a5d||this.rangeStartIndex<0){this.rangeStartIndex=_a5b;}if(!_a5c){this.deselectAll(_a5b);}if(_a5d){this.selectRange(this.rangeStartIndex,_a5b);}else{if(_a5c){this.toggleSelect(_a5b);}else{this.addToSelection(_a5b);}}}this._endUpdate();},clickSelectEvent:function(e){this.clickSelect(e.rowIndex,dojo.isCopyKey(e),e.shiftKey);},clear:function(){this._beginUpdate();this.deselectAll();this._endUpdate();}});});},"dojox/grid/DataSelection":function(){define(["dojo/_base/declare","./_SelectionPreserver","./Selection"],function(_a5e,_a5f,_a60){return _a5e("dojox.grid.DataSelection",_a60,{constructor:function(grid){if(grid.keepSelection){this.preserver=new _a5f(this);}},destroy:function(){if(this.preserver){this.preserver.destroy();}},getFirstSelected:function(){var idx=_a60.prototype.getFirstSelected.call(this);if(idx==-1){return null;}return this.grid.getItem(idx);},getNextSelected:function(_a61){var _a62=this.grid.getItemIndex(_a61);var idx=_a60.prototype.getNextSelected.call(this,_a62);if(idx==-1){return null;}return this.grid.getItem(idx);},getSelected:function(){var _a63=[];for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){_a63.push(this.grid.getItem(i));}}return _a63;},addToSelection:function(_a64){if(this.mode=="none"){return;}var idx=null;if(typeof _a64=="number"||typeof _a64=="string"){idx=_a64;}else{idx=this.grid.getItemIndex(_a64);}_a60.prototype.addToSelection.call(this,idx);},deselect:function(_a65){if(this.mode=="none"){return;}var idx=null;if(typeof _a65=="number"||typeof _a65=="string"){idx=_a65;}else{idx=this.grid.getItemIndex(_a65);}_a60.prototype.deselect.call(this,idx);},deselectAll:function(_a66){var idx=null;if(_a66||typeof _a66=="number"){if(typeof _a66=="number"||typeof _a66=="string"){idx=_a66;}else{idx=this.grid.getItemIndex(_a66);}_a60.prototype.deselectAll.call(this,idx);}else{this.inherited(arguments);}}});});},"dojox/grid/_SelectionPreserver":function(){define(["dojo/_base/declare","dojo/_base/connect","dojo/_base/lang","dojo/_base/array"],function(_a67,_a68,lang,_a69){return _a67("dojox.grid._SelectionPreserver",null,{constructor:function(_a6a){this.selection=_a6a;var grid=this.grid=_a6a.grid;this.reset();this._connects=[_a68.connect(grid,"_setStore",this,"reset"),_a68.connect(grid,"_addItem",this,"_reSelectById"),_a68.connect(_a6a,"onSelected",lang.hitch(this,"_selectById",true)),_a68.connect(_a6a,"onDeselected",lang.hitch(this,"_selectById",false)),_a68.connect(_a6a,"deselectAll",this,"reset")];},destroy:function(){this.reset();_a69.forEach(this._connects,_a68.disconnect);delete this._connects;},reset:function(){this._selectedById={};},_reSelectById:function(item,_a6b){if(item&&this.grid._hasIdentity){this.selection.selected[_a6b]=this._selectedById[this.grid.store.getIdentity(item)];}},_selectById:function(_a6c,_a6d){if(this.selection.mode=="none"||!this.grid._hasIdentity){return;}var item=_a6d,g=this.grid;if(typeof _a6d=="number"||typeof _a6d=="string"){var _a6e=g._by_idx[_a6d];item=_a6e&&_a6e.item;}if(item){this._selectedById[g.store.getIdentity(item)]=!!_a6c;}return item;}});});},"dojox/grid/EnhancedGrid":function(){define(["dojo/_base/kernel","../main","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/sniff","dojo/dom","dojo/dom-geometry","./DataGrid","./DataSelection","./enhanced/_PluginManager","./enhanced/plugins/_SelectionPreserver","dojo/i18n!./enhanced/nls/EnhancedGrid"],function(dojo,_a6f,_a70,lang,_a71,has,dom,_a72,_a73,_a74,_a75,_a76,nls){dojo.experimental("dojox.grid.EnhancedGrid");var _a77=_a70("dojox.grid.EnhancedGrid",_a73,{plugins:null,pluginMgr:null,_pluginMgrClass:_a75,postMixInProperties:function(){this._nls=nls;this.inherited(arguments);},postCreate:function(){this.pluginMgr=new this._pluginMgrClass(this);this.pluginMgr.preInit();this.inherited(arguments);this.pluginMgr.postInit();},plugin:function(name){return this.pluginMgr.getPlugin(name);},startup:function(){this.inherited(arguments);this.pluginMgr.startup();},createSelection:function(){this.selection=new _a6f.grid.enhanced.DataSelection(this);},canSort:function(_a78,_a79){return true;},doKeyEvent:function(e){try{var view=this.focus.focusView;view.content.decorateEvent(e);if(!e.cell){view.header.decorateEvent(e);}}catch(e){}this.inherited(arguments);},doApplyCellEdit:function(_a7a,_a7b,_a7c){if(!_a7c){this.invalidated[_a7b]=true;return;}this.inherited(arguments);},mixin:function(_a7d,_a7e){var _a7f={};for(var p in _a7e){if(p=="_inherited"||p=="declaredClass"||p=="constructor"||_a7e["privates"]&&_a7e["privates"][p]){continue;}_a7f[p]=_a7e[p];}lang.mixin(_a7d,_a7f);},_copyAttr:function(idx,attr){if(!attr){return;}return this.inherited(arguments);},_getHeaderHeight:function(){this.inherited(arguments);return _a72.getMarginBox(this.viewsHeaderNode).h;},_fetch:function(_a80,_a81){if(this.items){return this.inherited(arguments);}_a80=_a80||0;if(this.store&&!this._pending_requests[_a80]){if(!this._isLoaded&&!this._isLoading){this._isLoading=true;this.showMessage(this.loadingMessage);}this._pending_requests[_a80]=true;try{var req={start:_a80,count:this.rowsPerPage,query:this.query,sort:this.getSortProps(),queryOptions:this.queryOptions,isRender:_a81,onBegin:lang.hitch(this,"_onFetchBegin"),onComplete:lang.hitch(this,"_onFetchComplete"),onError:lang.hitch(this,"_onFetchError")};this._storeLayerFetch(req);}catch(e){this._onFetchError(e,{start:_a80,count:this.rowsPerPage});}}return 0;},_storeLayerFetch:function(req){this.store.fetch(req);},getCellByField:function(_a82){return _a71.filter(this.layout.cells,function(cell){return cell.field==_a82;})[0];},onMouseUp:function(e){},createView:function(){var view=this.inherited(arguments);if(has("mozilla")){var _a83=function(_a84,_a85){for(var n=_a84;n&&_a85(n);n=n.parentNode){}return n;};var _a86=function(_a87){var name=_a87.toUpperCase();return function(node){return node.tagName!=name;};};var func=view.header.getCellX;view.header.getCellX=function(e){var x=func.call(view.header,e);var n=_a83(e.target,_a86("th"));if(n&&n!==e.target&&dom.isDescendant(e.target,n)){x+=n.firstChild.offsetLeft;}return x;};}return view;},destroy:function(){delete this._nls;this.pluginMgr.destroy();this.inherited(arguments);}});_a70("dojox.grid.enhanced.DataSelection",_a74,{constructor:function(grid){if(grid.keepSelection){if(this.preserver){this.preserver.destroy();}this.preserver=new _a76(this);}},_range:function(_a88,inTo){this.grid._selectingRange=true;this.inherited(arguments);this.grid._selectingRange=false;this.onChanged();},deselectAll:function(_a89){this.grid._selectingRange=true;this.inherited(arguments);this.grid._selectingRange=false;this.onChanged();}});_a77.markupFactory=function(_a8a,node,ctor,_a8b){return _a6f.grid._Grid.markupFactory(_a8a,node,ctor,lang.partial(_a73.cell_markupFactory,_a8b));};_a77.registerPlugin=function(_a8c,_a8d){_a75.registerPlugin(_a8c,_a8d);};return _a77;});},"dojox/grid/enhanced/_PluginManager":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/_base/connect","./_Events","./_FocusManager","../util"],function(dojo,lang,_a8e,_a8f,_a90,_a91,_a92,util){var _a93=_a8e("dojox.grid.enhanced._PluginManager",null,{_options:null,_plugins:null,_connects:null,constructor:function(_a94){this.grid=_a94;this._store=_a94.store;this._options={};this._plugins=[];this._connects=[];this._parseProps(this.grid.plugins);_a94.connect(_a94,"_setStore",lang.hitch(this,function(_a95){if(this._store!==_a95){this.forEach("onSetStore",[_a95,this._store]);this._store=_a95;}}));},startup:function(){this.forEach("onStartUp");},preInit:function(){this.grid.focus.destroy();this.grid.focus=new _a92(this.grid);new _a91(this.grid);this._init(true);this.forEach("onPreInit");},postInit:function(){this._init(false);_a8f.forEach(this.grid.views.views,this._initView,this);this._connects.push(_a90.connect(this.grid.views,"addView",lang.hitch(this,this._initView)));if(this._plugins.length>0){var edit=this.grid.edit;if(edit){edit.styleRow=function(_a96){};}}this.forEach("onPostInit");},forEach:function(func,args){_a8f.forEach(this._plugins,function(p){if(!p||!p[func]){return;}p[func].apply(p,args?args:[]);});},_parseProps:function(_a97){if(!_a97){return;}var p,_a98={},_a99=this._options,grid=this.grid;var _a9a=_a93.registry;for(p in _a97){if(_a97[p]){this._normalize(p,_a97,_a9a,_a98);}}if(_a99.dnd){_a99.columnReordering=false;}lang.mixin(grid,_a99);},_normalize:function(p,_a9b,_a9c,_a9d){if(!_a9c[p]){throw new Error("Plugin "+p+" is required.");}if(_a9d[p]){throw new Error("Recursive cycle dependency is not supported.");}var _a9e=this._options;if(_a9e[p]){return _a9e[p];}_a9d[p]=true;_a9e[p]=lang.mixin({},_a9c[p],lang.isObject(_a9b[p])?_a9b[p]:{});var _a9f=_a9e[p]["dependency"];if(_a9f){if(!lang.isArray(_a9f)){_a9f=_a9e[p]["dependency"]=[_a9f];}_a8f.forEach(_a9f,function(_aa0){if(!this._normalize(_aa0,_a9b,_a9c,_a9d)){throw new Error("Plugin "+_aa0+" is required.");}},this);}delete _a9d[p];return _a9e[p];},_init:function(pre){var p,_aa1,_aa2=this._options;for(p in _aa2){_aa1=_aa2[p]["preInit"];if((pre?_aa1:!_aa1)&&_aa2[p]["class"]&&!this.pluginExisted(p)){this.loadPlugin(p);}}},loadPlugin:function(name){var _aa3=this._options[name];if(!_aa3){return null;}var _aa4=this.getPlugin(name);if(_aa4){return _aa4;}var _aa5=_aa3["dependency"];_a8f.forEach(_aa5,function(_aa6){if(!this.loadPlugin(_aa6)){throw new Error("Plugin "+_aa6+" is required.");}},this);var cls=_aa3["class"];delete _aa3["class"];_aa4=new this.getPluginClazz(cls)(this.grid,_aa3);this._plugins.push(_aa4);return _aa4;},_initView:function(view){if(!view){return;}util.funnelEvents(view.contentNode,view,"doContentEvent",["mouseup","mousemove"]);util.funnelEvents(view.headerNode,view,"doHeaderEvent",["mouseup"]);},pluginExisted:function(name){return !!this.getPlugin(name);},getPlugin:function(name){var _aa7=this._plugins;name=name.toLowerCase();for(var i=0,len=_aa7.length;i<len;i++){if(name==_aa7[i]["name"].toLowerCase()){return _aa7[i];}}return null;},getPluginClazz:function(_aa8){if(lang.isFunction(_aa8)){return _aa8;}var _aa9="Please make sure Plugin \""+_aa8+"\" is existed.";try{var cls=lang.getObject(_aa8);if(!cls){throw new Error(_aa9);}return cls;}catch(e){throw new Error(_aa9);}},isFixedCell:function(cell){return cell&&(cell.isRowSelector||cell.fixedPos);},destroy:function(){_a8f.forEach(this._connects,_a90.disconnect);this.forEach("destroy");if(this.grid.unwrap){this.grid.unwrap();}delete this._connects;delete this._plugins;delete this._options;}});_a93.registerPlugin=function(_aaa,_aab){if(!_aaa){return;}var cls=_a93;cls.registry=cls.registry||{};cls.registry[_aaa.prototype.name]=lang.mixin({"class":_aaa},(_aab?_aab:{}));};return _a93;});},"dojox/grid/enhanced/_Events":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/keys","dojo/_base/html","dojo/_base/event","dojox/grid/_Events"],function(dojo,_aac,keys,html,_aad,_aae){return _aac("dojox.grid.enhanced._Events",null,{_events:null,headerCellActiveClass:"dojoxGridHeaderActive",cellActiveClass:"dojoxGridCellActive",rowActiveClass:"dojoxGridRowActive",constructor:function(_aaf){this._events=new _aae();_aaf.mixin(_aaf,this);},dokeyup:function(e){this.focus.currentArea().keyup(e);},onKeyDown:function(e){if(e.altKey||e.metaKey){return;}var _ab0=this.focus;var _ab1=this.edit.isEditing();switch(e.keyCode){case keys.TAB:if(e.ctrlKey){return;}_ab0.tab(e.shiftKey?-1:1,e);break;case keys.UP_ARROW:case keys.DOWN_ARROW:if(_ab1){return;}_ab0.currentArea().move(e.keyCode==keys.UP_ARROW?-1:1,0,e);break;case keys.LEFT_ARROW:case keys.RIGHT_ARROW:if(_ab1){return;}var _ab2=(e.keyCode==keys.LEFT_ARROW)?1:-1;if(html._isBodyLtr()){_ab2*=-1;}_ab0.currentArea().move(0,_ab2,e);break;case keys.F10:if(this.menus&&e.shiftKey){this.onRowContextMenu(e);}break;default:_ab0.currentArea().keydown(e);break;}},domouseup:function(e){if(e.cellNode){this.onMouseUp(e);}else{this.onRowSelectorMouseUp(e);}},domousedown:function(e){if(!e.cellNode){this.onRowSelectorMouseDown(e);}},onMouseUp:function(e){this[e.rowIndex==-1?"onHeaderCellMouseUp":"onCellMouseUp"](e);},onCellMouseDown:function(e){html.addClass(e.cellNode,this.cellActiveClass);html.addClass(e.rowNode,this.rowActiveClass);},onCellMouseUp:function(e){html.removeClass(e.cellNode,this.cellActiveClass);html.removeClass(e.rowNode,this.rowActiveClass);},onCellClick:function(e){this._events.onCellClick.call(this,e);this.focus.contentMouseEvent(e);},onCellDblClick:function(e){if(this.pluginMgr.isFixedCell(e.cell)){return;}if(this._click.length>1&&(!this._click[0]||!this._click[1])){this._click[0]=this._click[1]=e;}this._events.onCellDblClick.call(this,e);},onRowClick:function(e){this.edit.rowClick(e);if(!e.cell||!this.plugin("indirectSelection")){this.selection.clickSelectEvent(e);}},onRowContextMenu:function(e){if(!this.edit.isEditing()&&this.menus){this.showMenu(e);}},onSelectedRegionContextMenu:function(e){if(this.selectedRegionMenu){this.selectedRegionMenu._openMyself({target:e.target,coords:e.keyCode!==keys.F10&&"pageX" in e?{x:e.pageX,y:e.pageY}:null});_aad.stop(e);}},onHeaderCellMouseOut:function(e){if(e.cellNode){html.removeClass(e.cellNode,this.cellOverClass);html.removeClass(e.cellNode,this.headerCellActiveClass);}},onHeaderCellMouseDown:function(e){if(e.cellNode){html.addClass(e.cellNode,this.headerCellActiveClass);}},onHeaderCellMouseUp:function(e){if(e.cellNode){html.removeClass(e.cellNode,this.headerCellActiveClass);}},onHeaderCellClick:function(e){this.focus.currentArea("header");if(!e.cell.isRowSelector){this._events.onHeaderCellClick.call(this,e);}this.focus.headerMouseEvent(e);},onRowSelectorMouseDown:function(e){this.focus.focusArea("rowHeader",e);},onRowSelectorMouseUp:function(e){},onMouseUpRow:function(e){if(e.rowIndex!=-1){this.onRowMouseUp(e);}},onRowMouseUp:function(e){}});});},"dojox/grid/enhanced/_FocusManager":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/_base/connect","dojo/_base/event","dojo/_base/sniff","dojo/_base/html","dojo/keys","dijit/a11y","dijit/focus","../_FocusManager"],function(dojo,lang,_ab3,_ab4,_ab5,_ab6,has,html,keys,_ab7,_ab8,_ab9){var _aba=_ab3("dojox.grid.enhanced._FocusArea",null,{constructor:function(area,_abb){this._fm=_abb;this._evtStack=[area.name];var _abc=function(){return true;};area.onFocus=area.onFocus||_abc;area.onBlur=area.onBlur||_abc;area.onMove=area.onMove||_abc;area.onKeyUp=area.onKeyUp||_abc;area.onKeyDown=area.onKeyDown||_abc;lang.mixin(this,area);},move:function(_abd,_abe,evt){if(this.name){var i,len=this._evtStack.length;for(i=len-1;i>=0;--i){if(this._fm._areas[this._evtStack[i]].onMove(_abd,_abe,evt)===false){return false;}}}return true;},_onKeyEvent:function(evt,_abf){if(this.name){var i,len=this._evtStack.length;for(i=len-1;i>=0;--i){if(this._fm._areas[this._evtStack[i]][_abf](evt,false)===false){return false;}}for(i=0;i<len;++i){if(this._fm._areas[this._evtStack[i]][_abf](evt,true)===false){return false;}}}return true;},keydown:function(evt){return this._onKeyEvent(evt,"onKeyDown");},keyup:function(evt){return this._onKeyEvent(evt,"onKeyUp");},contentMouseEventPlanner:function(){return 0;},headerMouseEventPlanner:function(){return 0;}});return _ab3("dojox.grid.enhanced._FocusManager",_ab9,{_stopEvent:function(evt){try{if(evt&&evt.preventDefault){_ab6.stop(evt);}}catch(e){}},constructor:function(grid){this.grid=grid;this._areas={};this._areaQueue=[];this._contentMouseEventHandlers=[];this._headerMouseEventHandlers=[];this._currentAreaIdx=-1;this._gridBlured=true;this._connects.push(_ab5.connect(grid,"onBlur",this,"_doBlur"));this._connects.push(_ab5.connect(grid.scroller,"renderPage",this,"_delayedCellFocus"));this.addArea({name:"header",onFocus:lang.hitch(this,this.focusHeader),onBlur:lang.hitch(this,this._blurHeader),onMove:lang.hitch(this,this._navHeader),getRegions:lang.hitch(this,this._findHeaderCells),onRegionFocus:lang.hitch(this,this.doColHeaderFocus),onRegionBlur:lang.hitch(this,this.doColHeaderBlur),onKeyDown:lang.hitch(this,this._onHeaderKeyDown)});this.addArea({name:"content",onFocus:lang.hitch(this,this._focusContent),onBlur:lang.hitch(this,this._blurContent),onMove:lang.hitch(this,this._navContent),onKeyDown:lang.hitch(this,this._onContentKeyDown)});this.addArea({name:"editableCell",onFocus:lang.hitch(this,this._focusEditableCell),onBlur:lang.hitch(this,this._blurEditableCell),onKeyDown:lang.hitch(this,this._onEditableCellKeyDown),onContentMouseEvent:lang.hitch(this,this._onEditableCellMouseEvent),contentMouseEventPlanner:function(evt,_ac0){return -1;}});this.placeArea("header");this.placeArea("content");this.placeArea("editableCell");this.placeArea("editableCell","above","content");},destroy:function(){for(var name in this._areas){var area=this._areas[name];_ab4.forEach(area._connects,_ab5.disconnect);area._connects=null;if(area.uninitialize){area.uninitialize();}}this.inherited(arguments);},addArea:function(area){if(area.name&&lang.isString(area.name)){if(this._areas[area.name]){_ab4.forEach(area._connects,_ab5.disconnect);}this._areas[area.name]=new _aba(area,this);if(area.onHeaderMouseEvent){this._headerMouseEventHandlers.push(area.name);}if(area.onContentMouseEvent){this._contentMouseEventHandlers.push(area.name);}}},getArea:function(_ac1){return this._areas[_ac1];},_bindAreaEvents:function(){var area,hdl,_ac2=this._areas;_ab4.forEach(this._areaQueue,function(name){area=_ac2[name];if(!area._initialized&&lang.isFunction(area.initialize)){area.initialize();area._initialized=true;}if(area.getRegions){area._regions=area.getRegions()||[];_ab4.forEach(area._connects||[],_ab5.disconnect);area._connects=[];_ab4.forEach(area._regions,function(r){if(area.onRegionFocus){hdl=_ab5.connect(r,"onfocus",area.onRegionFocus);area._connects.push(hdl);}if(area.onRegionBlur){hdl=_ab5.connect(r,"onblur",area.onRegionBlur);area._connects.push(hdl);}});}});},removeArea:function(_ac3){var area=this._areas[_ac3];if(area){this.ignoreArea(_ac3);var i=_ab4.indexOf(this._contentMouseEventHandlers,_ac3);if(i>=0){this._contentMouseEventHandlers.splice(i,1);}i=_ab4.indexOf(this._headerMouseEventHandlers,_ac3);if(i>=0){this._headerMouseEventHandlers.splice(i,1);}_ab4.forEach(area._connects,_ab5.disconnect);if(area.uninitialize){area.uninitialize();}delete this._areas[_ac3];}},currentArea:function(_ac4,_ac5){var idx,cai=this._currentAreaIdx;if(lang.isString(_ac4)&&(idx=_ab4.indexOf(this._areaQueue,_ac4))>=0){if(cai!=idx){this.tabbingOut=false;if(_ac5&&cai>=0&&cai<this._areaQueue.length){this._areas[this._areaQueue[cai]].onBlur();}this._currentAreaIdx=idx;}}else{return (cai<0||cai>=this._areaQueue.length)?new _aba({},this):this._areas[this._areaQueue[this._currentAreaIdx]];}return null;},placeArea:function(name,pos,_ac6){if(!this._areas[name]){return;}var idx=_ab4.indexOf(this._areaQueue,_ac6);switch(pos){case "after":if(idx>=0){++idx;}case "before":if(idx>=0){this._areaQueue.splice(idx,0,name);break;}default:this._areaQueue.push(name);break;case "above":var _ac7=true;case "below":var _ac8=this._areas[_ac6];if(_ac8){if(_ac7){_ac8._evtStack.push(name);}else{_ac8._evtStack.splice(0,0,name);}}}},ignoreArea:function(name){this._areaQueue=_ab4.filter(this._areaQueue,function(_ac9){return _ac9!=name;});},focusArea:function(_aca,evt){var idx;if(typeof _aca=="number"){idx=_aca<0?this._areaQueue.length+_aca:_aca;}else{idx=_ab4.indexOf(this._areaQueue,lang.isString(_aca)?_aca:(_aca&&_aca.name));}if(idx<0){idx=0;}var step=idx-this._currentAreaIdx;this._gridBlured=false;if(step){this.tab(step,evt);}else{this.currentArea().onFocus(evt,step);}},tab:function(step,evt){this._gridBlured=false;this.tabbingOut=false;if(step===0){return;}var cai=this._currentAreaIdx;var dir=step>0?1:-1;if(cai<0||cai>=this._areaQueue.length){cai=(this._currentAreaIdx+=step);}else{var _acb=this._areas[this._areaQueue[cai]].onBlur(evt,step);if(_acb===true){cai=(this._currentAreaIdx+=step);}else{if(lang.isString(_acb)&&this._areas[_acb]){cai=this._currentAreaIdx=_ab4.indexOf(this._areaQueue,_acb);}}}for(;cai>=0&&cai<this._areaQueue.length;cai+=dir){this._currentAreaIdx=cai;if(this._areaQueue[cai]&&this._areas[this._areaQueue[cai]].onFocus(evt,step)){return;}}this.tabbingOut=true;if(step<0){this._currentAreaIdx=-1;_ab8.focus(this.grid.domNode);}else{this._currentAreaIdx=this._areaQueue.length;_ab8.focus(this.grid.lastFocusNode);}},_onMouseEvent:function(type,evt){var _acc=type.toLowerCase(),_acd=this["_"+_acc+"MouseEventHandlers"],res=_ab4.map(_acd,function(_ace){return {"area":_ace,"idx":this._areas[_ace][_acc+"MouseEventPlanner"](evt,_acd)};},this).sort(function(a,b){return b.idx-a.idx;}),_acf=_ab4.map(res,function(_ad0){return res.area;}),i=res.length;while(--i>=0){if(this._areas[res[i].area]["on"+type+"MouseEvent"](evt,_acf)===false){return;}}},contentMouseEvent:function(evt){this._onMouseEvent("Content",evt);},headerMouseEvent:function(evt){this._onMouseEvent("Header",evt);},initFocusView:function(){this.focusView=this.grid.views.getFirstScrollingView()||this.focusView||this.grid.views.views[0];this._bindAreaEvents();},isNavHeader:function(){return this._areaQueue[this._currentAreaIdx]=="header";},previousKey:function(e){this.tab(-1,e);},nextKey:function(e){this.tab(1,e);},setFocusCell:function(_ad1,_ad2){if(_ad1){this.currentArea(this.grid.edit.isEditing()?"editableCell":"content",true);this._focusifyCellNode(false);this.cell=_ad1;this.rowIndex=_ad2;this._focusifyCellNode(true);}this.grid.onCellFocus(this.cell,this.rowIndex);},doFocus:function(e){if(e&&e.target==e.currentTarget&&!this.tabbingOut){if(this._gridBlured){this._gridBlured=false;if(this._currentAreaIdx<0||this._currentAreaIdx>=this._areaQueue.length){this.focusArea(0,e);}else{this.focusArea(this._currentAreaIdx,e);}}}else{this.tabbingOut=false;}_ab6.stop(e);},_doBlur:function(){this._gridBlured=true;},doLastNodeFocus:function(e){if(this.tabbingOut){this.tabbingOut=false;}else{this.focusArea(-1,e);}},_delayedHeaderFocus:function(){if(this.isNavHeader()&&!has("ie")){this.focusHeader();}},_delayedCellFocus:function(){},_changeMenuBindNode:function(_ad3,_ad4){var hm=this.grid.headerMenu;if(hm&&this._contextMenuBindNode==_ad3){hm.unBindDomNode(_ad3);hm.bindDomNode(_ad4);this._contextMenuBindNode=_ad4;}},focusHeader:function(evt,step){var _ad5=false;this.inherited(arguments);if(this._colHeadNode&&html.style(this._colHeadNode,"display")!="none"){_ab8.focus(this._colHeadNode);this._stopEvent(evt);_ad5=true;}return _ad5;},_blurHeader:function(evt,step){if(this._colHeadNode){html.removeClass(this._colHeadNode,this.focusClass);}html.removeAttr(this.grid.domNode,"aria-activedescendant");this._changeMenuBindNode(this.grid.domNode,this.grid.viewsHeaderNode);this._colHeadNode=this._colHeadFocusIdx=null;return true;},_navHeader:function(_ad6,_ad7,evt){var _ad8=_ad7<0?-1:1,_ad9=_ab4.indexOf(this._findHeaderCells(),this._colHeadNode);if(_ad9>=0&&(evt.shiftKey&&evt.ctrlKey)){this.colSizeAdjust(evt,_ad9,_ad8*5);return;}this.move(_ad6,_ad7);},_onHeaderKeyDown:function(e,_ada){if(_ada){var dk=keys;switch(e.keyCode){case dk.ENTER:case dk.SPACE:var _adb=this.getHeaderIndex();if(_adb>=0&&!this.grid.pluginMgr.isFixedCell(e.cell)){this.grid.setSortIndex(_adb,null,e);_ab6.stop(e);}break;}}return true;},_setActiveColHeader:function(){this.inherited(arguments);_ab8.focus(this._colHeadNode);},findAndFocusGridCell:function(){this._focusContent();},_focusContent:function(evt,step){var _adc=true;var _add=(this.grid.rowCount===0);if(this.isNoFocusCell()&&!_add){for(var i=0,cell=this.grid.getCell(0);cell&&cell.hidden;cell=this.grid.getCell(++i)){}this.setFocusIndex(0,cell?i:0);}else{if(this.cell&&!_add){if(this.focusView&&!this.focusView.rowNodes[this.rowIndex]){this.grid.scrollToRow(this.rowIndex);this.focusGrid();}else{this.setFocusIndex(this.rowIndex,this.cell.index);}}else{_adc=false;}}if(_adc){this._stopEvent(evt);}return _adc;},_blurContent:function(evt,step){this._focusifyCellNode(false);return true;},_navContent:function(_ade,_adf,evt){if((this.rowIndex===0&&_ade<0)||(this.rowIndex===this.grid.rowCount-1&&_ade>0)){return;}this._colHeadNode=null;this.move(_ade,_adf,evt);if(evt){_ab6.stop(evt);}},_onContentKeyDown:function(e,_ae0){if(_ae0){var dk=keys,s=this.grid.scroller;switch(e.keyCode){case dk.ENTER:case dk.SPACE:var g=this.grid;if(g.indirectSelection){break;}g.selection.clickSelect(this.rowIndex,_ab5.isCopyKey(e),e.shiftKey);g.onRowClick(e);_ab6.stop(e);break;case dk.PAGE_UP:if(this.rowIndex!==0){if(this.rowIndex!=s.firstVisibleRow+1){this._navContent(s.firstVisibleRow-this.rowIndex,0);}else{this.grid.setScrollTop(s.findScrollTop(this.rowIndex-1));this._navContent(s.firstVisibleRow-s.lastVisibleRow+1,0);}_ab6.stop(e);}break;case dk.PAGE_DOWN:if(this.rowIndex+1!=this.grid.rowCount){_ab6.stop(e);if(this.rowIndex!=s.lastVisibleRow-1){this._navContent(s.lastVisibleRow-this.rowIndex-1,0);}else{this.grid.setScrollTop(s.findScrollTop(this.rowIndex+1));this._navContent(s.lastVisibleRow-s.firstVisibleRow-1,0);}_ab6.stop(e);}break;}}return true;},_blurFromEditableCell:false,_isNavigating:false,_navElems:null,_focusEditableCell:function(evt,step){var _ae1=false;if(this._isNavigating){_ae1=true;}else{if(this.grid.edit.isEditing()&&this.cell){if(this._blurFromEditableCell||!this._blurEditableCell(evt,step)){this.setFocusIndex(this.rowIndex,this.cell.index);_ae1=true;}this._stopEvent(evt);}}return _ae1;},_applyEditableCell:function(){try{this.grid.edit.apply();}catch(e){}},_blurEditableCell:function(evt,step){this._blurFromEditableCell=false;if(this._isNavigating){var _ae2=true;if(evt){var _ae3=this._navElems;var _ae4=_ae3.lowest||_ae3.first;var _ae5=_ae3.last||_ae3.highest||_ae4;var _ae6=has("ie")?evt.srcElement:evt.target;_ae2=_ae6==(step>0?_ae5:_ae4);}if(_ae2){this._isNavigating=false;html.setSelectable(this.cell.getNode(this.rowIndex),false);return "content";}return false;}else{if(this.grid.edit.isEditing()&&this.cell){if(!step||typeof step!="number"){return false;}var dir=step>0?1:-1;var cc=this.grid.layout.cellCount;for(var cell,col=this.cell.index+dir;col>=0&&col<cc;col+=dir){cell=this.grid.getCell(col);if(cell.editable){this.cell=cell;this._blurFromEditableCell=true;return false;}}if((this.rowIndex>0||dir==1)&&(this.rowIndex<this.grid.rowCount||dir==-1)){this.rowIndex+=dir;for(col=dir>0?0:cc-1;col>=0&&col<cc;col+=dir){cell=this.grid.getCell(col);if(cell.editable){this.cell=cell;break;}}this._applyEditableCell();return "content";}}}return true;},_initNavigatableElems:function(){this._navElems=_ab7._getTabNavigable(this.cell.getNode(this.rowIndex));},_onEditableCellKeyDown:function(e,_ae7){var dk=keys,g=this.grid,edit=g.edit,_ae8=false,_ae9=true;switch(e.keyCode){case dk.ENTER:if(_ae7&&edit.isEditing()){this._applyEditableCell();_ae8=true;_ab6.stop(e);}case dk.SPACE:if(!_ae7&&this._isNavigating){_ae9=false;break;}if(_ae7){if(!this.cell.editable&&this.cell.navigatable){this._initNavigatableElems();var _aea=this._navElems.lowest||this._navElems.first;if(_aea){this._isNavigating=true;html.setSelectable(this.cell.getNode(this.rowIndex),true);_ab8.focus(_aea);_ab6.stop(e);this.currentArea("editableCell",true);break;}}if(!_ae8&&!edit.isEditing()&&!g.pluginMgr.isFixedCell(this.cell)){edit.setEditCell(this.cell,this.rowIndex);}if(_ae8){this.currentArea("content",true);}else{if(this.cell.editable&&g.canEdit()){this.currentArea("editableCell",true);}}}break;case dk.PAGE_UP:case dk.PAGE_DOWN:if(!_ae7&&edit.isEditing()){_ae9=false;}break;case dk.ESCAPE:if(!_ae7){edit.cancel();this.currentArea("content",true);}}return _ae9;},_onEditableCellMouseEvent:function(evt){if(evt.type=="click"){var cell=this.cell||evt.cell;if(cell&&!cell.editable&&cell.navigatable){this._initNavigatableElems();if(this._navElems.lowest||this._navElems.first){var _aeb=has("ie")?evt.srcElement:evt.target;if(_aeb!=cell.getNode(evt.rowIndex)){this._isNavigating=true;this.focusArea("editableCell",evt);html.setSelectable(cell.getNode(evt.rowIndex),true);_ab8.focus(_aeb);return false;}}}else{if(this.grid.singleClickEdit){this.currentArea("editableCell");return false;}}}return true;}});});},"dojox/grid/enhanced/plugins/_SelectionPreserver":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/connect","../../_SelectionPreserver"],function(_aec,lang,_aed,_aee){return _aec("dojox.grid.enhanced.plugins._SelectionPreserver",_aee,{constructor:function(_aef){var grid=this.grid;grid.onSelectedById=this.onSelectedById;this._oldClearData=grid._clearData;var self=this;grid._clearData=function(){self._updateMapping(!grid._noInternalMapping);self._trustSelection=[];self._oldClearData.apply(grid,arguments);};this._connects.push(_aed.connect(_aef,"selectRange",lang.hitch(this,"_updateMapping",true,true,false)),_aed.connect(_aef,"deselectRange",lang.hitch(this,"_updateMapping",true,false,false)),_aed.connect(_aef,"deselectAll",lang.hitch(this,"_updateMapping",true,false,true)));},destroy:function(){this.inherited(arguments);this.grid._clearData=this._oldClearData;},reset:function(){this.inherited(arguments);this._idMap=[];this._trustSelection=[];this._defaultSelected=false;},_reSelectById:function(item,_af0){var s=this.selection,g=this.grid;if(item&&g._hasIdentity){var id=g.store.getIdentity(item);if(this._selectedById[id]===undefined){if(!this._trustSelection[_af0]){s.selected[_af0]=this._defaultSelected;}}else{s.selected[_af0]=this._selectedById[id];}this._idMap.push(id);g.onSelectedById(id,_af0,s.selected[_af0]);}},_selectById:function(_af1,_af2){if(!this.inherited(arguments)){this._trustSelection[_af2]=true;}},onSelectedById:function(id,_af3,_af4){},_updateMapping:function(_af5,_af6,_af7,from,to){var s=this.selection,g=this.grid,flag=0,_af8=0,i,id;for(i=g.rowCount-1;i>=0;--i){if(!g._by_idx[i]){++_af8;flag+=s.selected[i]?1:-1;}else{id=g._by_idx[i].idty;if(id&&(_af5||this._selectedById[id]===undefined)){this._selectedById[id]=!!s.selected[i];}}}if(_af8){this._defaultSelected=flag>0;}if(!_af7&&from!==undefined&&to!==undefined){_af7=!g.usingPagination&&Math.abs(to-from+1)===g.rowCount;}if(_af7&&(!g.usingPagination||g.selectionMode==="single")){for(i=this._idMap.length-1;i>=0;--i){this._selectedById[this._idMap[i]]=_af6;}}}});});},"dojox/grid/cells/dijit":function(){define(["dojo/_base/kernel","../../main","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/json","dojo/_base/connect","dojo/_base/sniff","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-style","dojo/dom-geometry","dojo/data/ItemFileReadStore","dijit/form/DateTextBox","dijit/form/TimeTextBox","dijit/form/ComboBox","dijit/form/CheckBox","dijit/form/TextBox","dijit/form/NumberSpinner","dijit/form/NumberTextBox","dijit/form/CurrencyTextBox","dijit/form/HorizontalSlider","dijit/form/_TextBoxMixin","dijit/Editor","../util","./_base"],function(dojo,_af9,_afa,_afb,lang,json,_afc,has,dom,_afd,_afe,_aff,_b00,_b01,_b02,_b03,_b04,_b05,_b06,_b07,_b08,_b09,_b0a,_b0b,_b0c,util,_b0d){var _b0e={};var _b0f=_b0e._Widget=_afa("dojox.grid.cells._Widget",_b0d,{widgetClass:_b06,constructor:function(_b10){this.widget=null;if(typeof this.widgetClass=="string"){dojo.deprecated("Passing a string to widgetClass is deprecated","pass the widget class object instead","2.0");this.widgetClass=lang.getObject(this.widgetClass);}},formatEditing:function(_b11,_b12){this.needFormatNode(_b11,_b12);return "<div></div>";},getValue:function(_b13){return this.widget.get("value");},_unescapeHTML:function(_b14){return (_b14&&_b14.replace&&this.grid.escapeHTMLInData)?_b14.replace(/&lt;/g,"<").replace(/&amp;/g,"&"):_b14;},setValue:function(_b15,_b16){if(this.widget&&this.widget.set){_b16=this._unescapeHTML(_b16);if(this.widget.onLoadDeferred){var self=this;this.widget.onLoadDeferred.addCallback(function(){self.widget.set("value",_b16===null?"":_b16);});}else{this.widget.set("value",_b16);}}else{this.inherited(arguments);}},getWidgetProps:function(_b17){return lang.mixin({dir:this.dir,lang:this.lang},this.widgetProps||{},{constraints:lang.mixin({},this.constraint)||{},required:(this.constraint||{}).required,value:this._unescapeHTML(_b17)});},createWidget:function(_b18,_b19,_b1a){return new this.widgetClass(this.getWidgetProps(_b19),_b18);},attachWidget:function(_b1b,_b1c,_b1d){_b1b.appendChild(this.widget.domNode);this.setValue(_b1d,_b1c);},formatNode:function(_b1e,_b1f,_b20){if(!this.widgetClass){return _b1f;}if(!this.widget){this.widget=this.createWidget.apply(this,arguments);}else{this.attachWidget.apply(this,arguments);}this.sizeWidget.apply(this,arguments);this.grid.views.renormalizeRow(_b20);this.grid.scroller.rowHeightChanged(_b20,true);this.focus();return undefined;},sizeWidget:function(_b21,_b22,_b23){var p=this.getNode(_b23);dojo.marginBox(this.widget.domNode,{w:_aff.get(p,"width")});},focus:function(_b24,_b25){if(this.widget){setTimeout(lang.hitch(this.widget,function(){util.fire(this,"focus");if(this.focusNode&&this.focusNode.tagName==="INPUT"){_b0b.selectInputText(this.focusNode);}}),0);}},_finish:function(_b26){this.inherited(arguments);util.removeNode(this.widget.domNode);if(has("ie")){dom.setSelectable(this.widget.domNode,true);}}});_b0f.markupFactory=function(node,cell){_b0d.markupFactory(node,cell);var _b27=lang.trim(_afd.get(node,"widgetProps")||"");var _b28=lang.trim(_afd.get(node,"constraint")||"");var _b29=lang.trim(_afd.get(node,"widgetClass")||"");if(_b27){cell.widgetProps=json.fromJson(_b27);}if(_b28){cell.constraint=json.fromJson(_b28);}if(_b29){cell.widgetClass=lang.getObject(_b29);}};var _b04=_b0e.ComboBox=_afa("dojox.grid.cells.ComboBox",_b0f,{widgetClass:_b04,getWidgetProps:function(_b2a){var _b2b=[];_afb.forEach(this.options,function(o){_b2b.push({name:o,value:o});});var _b2c=new _b01({data:{identifier:"name",items:_b2b}});return lang.mixin({},this.widgetProps||{},{value:_b2a,store:_b2c});},getValue:function(){var e=this.widget;e.set("displayedValue",e.get("displayedValue"));return e.get("value");}});_b04.markupFactory=function(node,cell){_b0f.markupFactory(node,cell);var _b2d=lang.trim(_afd.get(node,"options")||"");if(_b2d){var o=_b2d.split(",");if(o[0]!=_b2d){cell.options=o;}}};var _b02=_b0e.DateTextBox=_afa("dojox.grid.cells.DateTextBox",_b0f,{widgetClass:_b02,setValue:function(_b2e,_b2f){if(this.widget){this.widget.set("value",new Date(_b2f));}else{this.inherited(arguments);}},getWidgetProps:function(_b30){return lang.mixin(this.inherited(arguments),{value:new Date(_b30)});}});_b02.markupFactory=function(node,cell){_b0f.markupFactory(node,cell);};var _b05=_b0e.CheckBox=_afa("dojox.grid.cells.CheckBox",_b0f,{widgetClass:_b05,getValue:function(){return this.widget.checked;},setValue:function(_b31,_b32){if(this.widget&&this.widget.attributeMap.checked){this.widget.set("checked",_b32);}else{this.inherited(arguments);}},sizeWidget:function(_b33,_b34,_b35){return;}});_b05.markupFactory=function(node,cell){_b0f.markupFactory(node,cell);};var _b0c=_b0e.Editor=_afa("dojox.grid.cells.Editor",_b0f,{widgetClass:_b0c,getWidgetProps:function(_b36){return lang.mixin({},this.widgetProps||{},{height:this.widgetHeight||"100px"});},createWidget:function(_b37,_b38,_b39){var _b3a=new this.widgetClass(this.getWidgetProps(_b38),_b37);_b3a.onLoadDeferred.then(lang.hitch(this,"populateEditor"));return _b3a;},formatNode:function(_b3b,_b3c,_b3d){this.content=_b3c;this.inherited(arguments);if(has("mozilla")){var e=this.widget;e.open();if(this.widgetToolbar){_afe.place(e.toolbar.domNode,e.editingArea,"before");}}},populateEditor:function(){this.widget.set("value",this.content);this.widget.placeCursorAtEnd();}});_b0c.markupFactory=function(node,cell){_b0f.markupFactory(node,cell);var h=lang.trim(_afd.get(node,"widgetHeight")||"");if(h){if((h!="auto")&&(h.substr(-2)!="em")){h=parseInt(h,10)+"px";}cell.widgetHeight=h;}};return _b0e;});},"dojox/grid/enhanced/plugins/IndirectSelection":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/event","dojo/_base/lang","dojo/_base/html","dojo/_base/window","dojo/_base/connect","dojo/_base/sniff","dojo/query","dojo/keys","dojo/string","../_Plugin","../../EnhancedGrid","../../cells/dijit"],function(_b3e,_b3f,evt,lang,html,win,_b40,has,_b41,keys,_b42,_b43,_b44){var _b45=lang.getObject("dojox.grid.cells");var _b46=_b3e("dojox.grid.cells.RowSelector",_b45._Widget,{inputType:"",map:null,disabledMap:null,isRowSelector:true,_connects:null,_subscribes:null,checkedText:"&#10003;",unCheckedText:"O",constructor:function(){this.map={};this.disabledMap={};this.disabledCount=0;this._connects=[];this._subscribes=[];this.inA11YMode=html.hasClass(win.body(),"dijit_a11y");this.baseClass="dojoxGridRowSelector dijitReset dijitInline dijit"+this.inputType;this.checkedClass=" dijit"+this.inputType+"Checked";this.disabledClass=" dijit"+this.inputType+"Disabled";this.checkedDisabledClass=" dijit"+this.inputType+"CheckedDisabled";this.statusTextClass=" dojoxGridRowSelectorStatusText";this._connects.push(_b40.connect(this.grid,"dokeyup",this,"_dokeyup"));this._connects.push(_b40.connect(this.grid.selection,"onSelected",this,"_onSelected"));this._connects.push(_b40.connect(this.grid.selection,"onDeselected",this,"_onDeselected"));this._connects.push(_b40.connect(this.grid.scroller,"invalidatePageNode",this,"_pageDestroyed"));this._connects.push(_b40.connect(this.grid,"onCellClick",this,"_onClick"));this._connects.push(_b40.connect(this.grid,"updateRow",this,"_onUpdateRow"));},formatter:function(data,_b47,_b48){var _b49=_b48;var _b4a=_b49.baseClass;var _b4b=!!_b49.getValue(_b47);var _b4c=!!_b49.disabledMap[_b47];if(_b4b){_b4a+=_b49.checkedClass;if(_b4c){_b4a+=_b49.checkedDisabledClass;}}else{if(_b4c){_b4a+=_b49.disabledClass;}}return ["<div tabindex = -1 ","id = '"+_b49.grid.id+"_rowSelector_"+_b47+"' ","name = '"+_b49.grid.id+"_rowSelector' class = '"+_b4a+"' ","role = "+_b49.inputType.toLowerCase()+" aria-checked = '"+_b4b+"' aria-disabled = '"+_b4c+"' aria-label = '"+_b42.substitute(_b49.grid._nls["indirectSelection"+_b49.inputType],[_b47+1])+"'>","<span class = '"+_b49.statusTextClass+"'>"+(_b4b?_b49.checkedText:_b49.unCheckedText)+"</span>","</div>"].join("");},setValue:function(_b4d,_b4e){},getValue:function(_b4f){return this.grid.selection.isSelected(_b4f);},toggleRow:function(_b50,_b51){this._nativeSelect(_b50,_b51);},setDisabled:function(_b52,_b53){if(_b52<0){return;}this._toggleDisabledStyle(_b52,_b53);},disabled:function(_b54){return !!this.disabledMap[_b54];},_onClick:function(e){if(e.cell===this){this._selectRow(e);}},_dokeyup:function(e){if(e.cellIndex==this.index&&e.rowIndex>=0&&e.keyCode==keys.SPACE){this._selectRow(e);}},focus:function(_b55){var _b56=this.map[_b55];if(_b56){_b56.focus();}},_focusEndingCell:function(_b57,_b58){var cell=this.grid.getCell(_b58);this.grid.focus.setFocusCell(cell,_b57);},_nativeSelect:function(_b59,_b5a){this.grid.selection[_b5a?"select":"deselect"](_b59);},_onSelected:function(_b5b){this._toggleCheckedStyle(_b5b,true);},_onDeselected:function(_b5c){this._toggleCheckedStyle(_b5c,false);},_onUpdateRow:function(_b5d){delete this.map[_b5d];},_toggleCheckedStyle:function(_b5e,_b5f){var _b60=this._getSelector(_b5e);if(_b60){html.toggleClass(_b60,this.checkedClass,_b5f);if(this.disabledMap[_b5e]){html.toggleClass(_b60,this.checkedDisabledClass,_b5f);}_b60.setAttribute("aria-checked",_b5f);if(this.inA11YMode){_b60.firstChild.innerHTML=(_b5f?this.checkedText:this.unCheckedText);}}},_toggleDisabledStyle:function(_b61,_b62){var _b63=this._getSelector(_b61);if(_b63){html.toggleClass(_b63,this.disabledClass,_b62);if(this.getValue(_b61)){html.toggleClass(_b63,this.checkedDisabledClass,_b62);}_b63.setAttribute("aria-disabled",_b62);}this.disabledMap[_b61]=_b62;if(_b61>=0){this.disabledCount+=_b62?1:-1;}},_getSelector:function(_b64){var _b65=this.map[_b64];if(!_b65){var _b66=this.view.rowNodes[_b64];if(_b66){_b65=_b41(".dojoxGridRowSelector",_b66)[0];if(_b65){this.map[_b64]=_b65;}}}return _b65;},_pageDestroyed:function(_b67){var _b68=this.grid.scroller.rowsPerPage;var _b69=_b67*_b68,end=_b69+_b68-1;for(var i=_b69;i<=end;i++){if(!this.map[i]){continue;}html.destroy(this.map[i]);delete this.map[i];}},destroy:function(){for(var i in this.map){html.destroy(this.map[i]);delete this.map[i];}for(i in this.disabledMap){delete this.disabledMap[i];}_b3f.forEach(this._connects,_b40.disconnect);_b3f.forEach(this._subscribes,_b40.unsubscribe);delete this._connects;delete this._subscribes;}});var _b6a=_b3e("dojox.grid.cells.SingleRowSelector",_b46,{inputType:"Radio",_selectRow:function(e){var _b6b=e.rowIndex;if(this.disabledMap[_b6b]){return;}this._focusEndingCell(_b6b,e.cellIndex);this._nativeSelect(_b6b,!this.grid.selection.selected[_b6b]);}});var _b6c=_b3e("dojox.grid.cells.MultipleRowSelector",_b46,{inputType:"CheckBox",swipeStartRowIndex:-1,swipeMinRowIndex:-1,swipeMaxRowIndex:-1,toSelect:false,lastClickRowIdx:-1,unCheckedText:"&#9633;",constructor:function(){this._connects.push(_b40.connect(win.doc,"onmouseup",this,"_domouseup"));this._connects.push(_b40.connect(this.grid,"onRowMouseOver",this,"_onRowMouseOver"));this._connects.push(_b40.connect(this.grid.focus,"move",this,"_swipeByKey"));this._connects.push(_b40.connect(this.grid,"onCellMouseDown",this,"_onMouseDown"));if(this.headerSelector){this._connects.push(_b40.connect(this.grid.views,"render",this,"_addHeaderSelector"));this._connects.push(_b40.connect(this.grid,"_onFetchComplete",this,"_addHeaderSelector"));this._connects.push(_b40.connect(this.grid,"onSelectionChanged",this,"_onSelectionChanged"));this._connects.push(_b40.connect(this.grid,"onKeyDown",this,function(e){if(e.rowIndex==-1&&e.cellIndex==this.index&&e.keyCode==keys.SPACE){this._toggletHeader();}}));}},toggleAllSelection:function(_b6d){var grid=this.grid,_b6e=grid.selection;if(_b6d){_b6e.selectRange(0,grid.rowCount-1);}else{_b6e.deselectAll();}},_onMouseDown:function(e){if(e.cell==this){this._startSelection(e.rowIndex);evt.stop(e);}},_onRowMouseOver:function(e){this._updateSelection(e,0);},_domouseup:function(e){if(has("ie")){this.view.content.decorateEvent(e);}var _b6f=e.cellIndex>=0&&this.inSwipeSelection()&&!this.grid.edit.isEditRow(e.rowIndex);if(_b6f){this._focusEndingCell(e.rowIndex,e.cellIndex);}this._finishSelect();},_dokeyup:function(e){this.inherited(arguments);if(!e.shiftKey){this._finishSelect();}},_startSelection:function(_b70){this.swipeStartRowIndex=this.swipeMinRowIndex=this.swipeMaxRowIndex=_b70;this.toSelect=!this.getValue(_b70);},_updateSelection:function(e,_b71){if(!this.inSwipeSelection()){return;}var _b72=_b71!==0;var _b73=e.rowIndex,_b74=_b73-this.swipeStartRowIndex+_b71;if(_b74>0&&this.swipeMaxRowIndex<_b73+_b71){this.swipeMaxRowIndex=_b73+_b71;}if(_b74<0&&this.swipeMinRowIndex>_b73+_b71){this.swipeMinRowIndex=_b73+_b71;}var min=_b74>0?this.swipeStartRowIndex:_b73+_b71;var max=_b74>0?_b73+_b71:this.swipeStartRowIndex;for(var i=this.swipeMinRowIndex;i<=this.swipeMaxRowIndex;i++){if(this.disabledMap[i]||i<0){continue;}if(i>=min&&i<=max){this._nativeSelect(i,this.toSelect);}else{if(!_b72){this._nativeSelect(i,!this.toSelect);}}}},_swipeByKey:function(_b75,_b76,e){if(!e||_b75===0||!e.shiftKey||e.cellIndex!=this.index||this.grid.focus.rowIndex<0){return;}var _b77=e.rowIndex;if(this.swipeStartRowIndex<0){this.swipeStartRowIndex=_b77;if(_b75>0){this.swipeMaxRowIndex=_b77+_b75;this.swipeMinRowIndex=_b77;}else{this.swipeMinRowIndex=_b77+_b75;this.swipeMaxRowIndex=_b77;}this.toSelect=this.getValue(_b77);}this._updateSelection(e,_b75);},_finishSelect:function(){this.swipeStartRowIndex=-1;this.swipeMinRowIndex=-1;this.swipeMaxRowIndex=-1;this.toSelect=false;},inSwipeSelection:function(){return this.swipeStartRowIndex>=0;},_nativeSelect:function(_b78,_b79){this.grid.selection[_b79?"addToSelection":"deselect"](_b78);},_selectRow:function(e){var _b7a=e.rowIndex;if(this.disabledMap[_b7a]){return;}evt.stop(e);this._focusEndingCell(_b7a,e.cellIndex);var _b7b=_b7a-this.lastClickRowIdx;var _b7c=!this.grid.selection.selected[_b7a];if(this.lastClickRowIdx>=0&&!e.ctrlKey&&!e.altKey&&e.shiftKey){var min=_b7b>0?this.lastClickRowIdx:_b7a;var max=_b7b>0?_b7a:this.lastClickRowIdx;for(var i=min;i>=0&&i<=max;i++){this._nativeSelect(i,_b7c);}}else{this._nativeSelect(_b7a,_b7c);}this.lastClickRowIdx=_b7a;},getValue:function(_b7d){if(_b7d==-1){var g=this.grid;return g.rowCount>0&&g.rowCount<=g.selection.getSelectedCount();}return this.inherited(arguments);},_addHeaderSelector:function(){var _b7e=this.view.getHeaderCellNode(this.index);if(!_b7e){return;}html.empty(_b7e);var g=this.grid;var _b7f=_b7e.appendChild(html.create("div",{"aria-label":g._nls["selectAll"],"tabindex":-1,"id":g.id+"_rowSelector_-1","class":this.baseClass,"role":"Checkbox","innerHTML":"<span class = '"+this.statusTextClass+"'></span><span style='height: 0; width: 0; overflow: hidden; display: block;'>"+g._nls["selectAll"]+"</span>"}));this.map[-1]=_b7f;var idx=this._headerSelectorConnectIdx;if(idx!==undefined){_b40.disconnect(this._connects[idx]);this._connects.splice(idx,1);}this._headerSelectorConnectIdx=this._connects.length;this._connects.push(_b40.connect(_b7f,"onclick",this,"_toggletHeader"));this._onSelectionChanged();},_toggletHeader:function(){if(!!this.disabledMap[-1]){return;}this.grid._selectingRange=true;this.toggleAllSelection(!this.getValue(-1));this._onSelectionChanged();this.grid._selectingRange=false;},_onSelectionChanged:function(){var g=this.grid;if(!this.map[-1]||g._selectingRange){return;}g.allItemsSelected=this.getValue(-1);this._toggleCheckedStyle(-1,g.allItemsSelected);},_toggleDisabledStyle:function(_b80,_b81){this.inherited(arguments);if(this.headerSelector){var _b82=(this.grid.rowCount==this.disabledCount);if(_b82!=!!this.disabledMap[-1]){arguments[0]=-1;arguments[1]=_b82;this.inherited(arguments);}}}});var _b83=_b3e("dojox.grid.enhanced.plugins.IndirectSelection",_b43,{name:"indirectSelection",constructor:function(){var _b84=this.grid.layout;this.connect(_b84,"setStructure",lang.hitch(_b84,this.addRowSelectCell,this.option));},addRowSelectCell:function(_b85){if(!this.grid.indirectSelection||this.grid.selectionMode=="none"){return;}var _b86=false,_b87=["get","formatter","field","fields"],_b88={type:_b6c,name:"",width:"30px",styles:"text-align: center;"};if(_b85.headerSelector){_b85.name="";}if(this.grid.rowSelectCell){this.grid.rowSelectCell.destroy();}_b3f.forEach(this.structure,function(view){var _b89=view.cells;if(_b89&&_b89.length>0&&!_b86){var _b8a=_b89[0];if(_b8a[0]&&_b8a[0].isRowSelector){_b86=true;return;}var _b8b,_b8c=this.grid.selectionMode=="single"?_b6a:_b6c;_b8b=lang.mixin(_b88,_b85,{type:_b8c,editable:false,notselectable:true,filterable:false,navigatable:true,nosort:true});_b3f.forEach(_b87,function(_b8d){if(_b8d in _b8b){delete _b8b[_b8d];}});if(_b89.length>1){_b8b.rowSpan=_b89.length;}_b3f.forEach(this.cells,function(cell,i){if(cell.index>=0){cell.index+=1;}else{}});var _b8e=this.addCellDef(0,0,_b8b);_b8e.index=0;_b8a.unshift(_b8e);this.cells.unshift(_b8e);this.grid.rowSelectCell=_b8e;_b86=true;}},this);this.cellCount=this.cells.length;},destroy:function(){this.grid.rowSelectCell.destroy();delete this.grid.rowSelectCell;this.inherited(arguments);}});_b44.registerPlugin(_b83,{"preInit":true});return _b83;});},"dojox/grid/enhanced/_Plugin":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/_base/connect","../EnhancedGrid"],function(dojo,lang,_b8f,_b90,_b91){return _b8f("dojox.grid.enhanced._Plugin",null,{name:"plugin",grid:null,option:{},_connects:[],_subscribes:[],privates:{},constructor:function(_b92,_b93){this.grid=_b92;this.option=_b93;this._connects=[];this._subscribes=[];this.privates=lang.mixin({},dojox.grid.enhanced._Plugin.prototype);this.init();},init:function(){},onPreInit:function(){},onPostInit:function(){},onStartUp:function(){},connect:function(obj,_b94,_b95){var conn=_b91.connect(obj,_b94,this,_b95);this._connects.push(conn);return conn;},disconnect:function(_b96){_b90.some(this._connects,function(conn,i,_b97){if(conn==_b96){_b91.disconnect(_b96);_b97.splice(i,1);return true;}return false;});},subscribe:function(_b98,_b99){var _b9a=_b91.subscribe(_b98,this,_b99);this._subscribes.push(_b9a);return _b9a;},unsubscribe:function(_b9b){_b90.some(this._subscribes,function(_b9c,i,_b9d){if(_b9c==_b9b){_b91.unsubscribe(_b9b);_b9d.splice(i,1);return true;}return false;});},onSetStore:function(_b9e){},destroy:function(){_b90.forEach(this._connects,_b91.disconnect);_b90.forEach(this._subscribes,_b91.unsubscribe);delete this._connects;delete this._subscribes;delete this.option;delete this.privates;}});});},"dojox/grid/enhanced/plugins/Menu":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/html","dojo/_base/event","dojo/keys","../_Plugin","../../EnhancedGrid"],function(_b9f,_ba0,lang,html,evt,keys,_ba1,_ba2){var Menu=_b9f("dojox.grid.enhanced.plugins.Menu",_ba1,{name:"menus",types:["headerMenu","rowMenu","cellMenu","selectedRegionMenu"],constructor:function(){var g=this.grid;g.showMenu=lang.hitch(g,this.showMenu);g._setRowMenuAttr=lang.hitch(this,"_setRowMenuAttr");g._setCellMenuAttr=lang.hitch(this,"_setCellMenuAttr");g._setSelectedRegionMenuAttr=lang.hitch(this,"_setSelectedRegionMenuAttr");},onStartUp:function(){var type,_ba3=this.option;for(type in _ba3){if(_ba0.indexOf(this.types,type)>=0&&_ba3[type]){this._initMenu(type,_ba3[type]);}}},_initMenu:function(_ba4,menu){var g=this.grid;if(!g[_ba4]){var m=this._getMenuWidget(menu);if(!m){return;}g.set(_ba4,m);if(_ba4!="headerMenu"){m._scheduleOpen=function(){return;};}else{g.setupHeaderMenu();}}},_getMenuWidget:function(menu){return (menu instanceof dijit.Menu)?menu:dijit.byId(menu);},_setRowMenuAttr:function(menu){this._setMenuAttr(menu,"rowMenu");},_setCellMenuAttr:function(menu){this._setMenuAttr(menu,"cellMenu");},_setSelectedRegionMenuAttr:function(menu){this._setMenuAttr(menu,"selectedRegionMenu");},_setMenuAttr:function(menu,_ba5){var g=this.grid,n=g.domNode;if(!menu||!(menu instanceof dijit.Menu)){return;}if(g[_ba5]){g[_ba5].unBindDomNode(n);}g[_ba5]=menu;g[_ba5].bindDomNode(n);},showMenu:function(e){var _ba6=(e.cellNode&&html.hasClass(e.cellNode,"dojoxGridRowSelected")||e.rowNode&&(html.hasClass(e.rowNode,"dojoxGridRowSelected")||html.hasClass(e.rowNode,"dojoxGridRowbarSelected")));if(_ba6&&this.selectedRegionMenu){this.onSelectedRegionContextMenu(e);return;}var info={target:e.target,coords:e.keyCode!==keys.F10&&"pageX" in e?{x:e.pageX,y:e.pageY}:null};if(this.rowMenu&&(!this.cellMenu||this.selection.isSelected(e.rowIndex)||e.rowNode&&html.hasClass(e.rowNode,"dojoxGridRowbar"))){this.rowMenu._openMyself(info);evt.stop(e);return;}if(this.cellMenu){this.cellMenu._openMyself(info);}evt.stop(e);},destroy:function(){var g=this.grid;if(g.headerMenu){g.headerMenu.unBindDomNode(g.viewsHeaderNode);}if(g.rowMenu){g.rowMenu.unBindDomNode(g.domNode);}if(g.cellMenu){g.cellMenu.unBindDomNode(g.domNode);}if(g.selectedRegionMenu){g.selectedRegionMenu.destroy();}this.inherited(arguments);}});_ba2.registerPlugin(Menu);return Menu;});},"dojox/grid/enhanced/plugins/Pagination":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/_base/html","dojo/_base/event","dojo/query","dojo/string","dojo/keys","dojo/text!../templates/Pagination.html","./Dialog","./_StoreLayer","../_Plugin","../../EnhancedGrid","dijit/form/Button","dijit/form/NumberTextBox","dijit/focus","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dojox/html/metrics","dojo/i18n!../nls/Pagination"],function(_ba7,_ba8,_ba9,_baa,lang,html,_bab,_bac,_bad,keys,_bae,_baf,_bb0,_bb1,_bb2,_bb3,_bb4,_bb5,_bb6,_bb7,_bb8,_bb9,nls){var _bba=_ba8("dojox.grid.enhanced.plugins.pagination._GotoPagePane",[_bb6,_bb7,_bb8],{templateString:"<div>"+"<div class='dojoxGridDialogMargin' dojoAttachPoint='_mainMsgNode'></div>"+"<div class='dojoxGridDialogMargin'>"+"<input dojoType='dijit.form.NumberTextBox' style='width: 50px;' dojoAttachPoint='_pageInputBox' dojoAttachEvent='onKeyUp: _onKey'></input>"+"<label dojoAttachPoint='_pageLabelNode'></label>"+"</div>"+"<div class='dojoxGridDialogButton'>"+"<button dojoType='dijit.form.Button' dojoAttachPoint='_confirmBtn' dojoAttachEvent='onClick: _onConfirm'></button>"+"<button dojoType='dijit.form.Button' dojoAttachPoint='_cancelBtn' dojoAttachEvent='onClick: _onCancel'></button>"+"</div>"+"</div>",widgetsInTemplate:true,dlg:null,postMixInProperties:function(){this.plugin=this.dlg.plugin;},postCreate:function(){this.inherited(arguments);this._mainMsgNode.innerHTML=this.plugin._nls[12];this._confirmBtn.set("label",this.plugin._nls[14]);this._confirmBtn.set("disabled",true);this._cancelBtn.set("label",this.plugin._nls[15]);},_onConfirm:function(evt){if(this._pageInputBox.isValid()&&this._pageInputBox.getDisplayedValue()!==""){this.plugin.currentPage(this._pageInputBox.parse(this._pageInputBox.getDisplayedValue()));this.dlg._gotoPageDialog.hide();this._pageInputBox.reset();}_bbb(evt);},_onCancel:function(evt){this._pageInputBox.reset();this.dlg._gotoPageDialog.hide();_bbb(evt);},_onKey:function(evt){this._confirmBtn.set("disabled",!this._pageInputBox.isValid()||this._pageInputBox.getDisplayedValue()=="");if(!evt.altKey&&!evt.metaKey&&evt.keyCode===keys.ENTER){this._onConfirm(evt);}}});var _bbc=_ba8("dojox.grid.enhanced.plugins.pagination._GotoPageDialog",null,{pageCount:0,dlgPane:null,constructor:function(_bbd){this.plugin=_bbd;this.dlgPane=new _bba({"dlg":this});this.dlgPane.startup();this._gotoPageDialog=new _baf({"refNode":_bbd.grid.domNode,"title":this.plugin._nls[11],"content":this.dlgPane});this._gotoPageDialog.startup();},_updatePageCount:function(){this.pageCount=this.plugin.getTotalPageNum();this.dlgPane._pageInputBox.constraints={fractional:false,min:1,max:this.pageCount};this.dlgPane._pageLabelNode.innerHTML=_bad.substitute(this.plugin._nls[13],[this.pageCount]);},showDialog:function(){this._updatePageCount();this._gotoPageDialog.show();},destroy:function(){this._gotoPageDialog.destroy();}});var _bbe=_ba8("dojox.grid.enhanced.plugins._ForcedPageStoreLayer",_bb0._StoreLayer,{tags:["presentation"],constructor:function(_bbf){this._plugin=_bbf;},_fetch:function(_bc0){var _bc1=this,_bc2=_bc1._plugin,grid=_bc2.grid,_bc3=_bc0.scope||_ba7.global,_bc4=_bc0.onBegin;_bc0.start=(_bc2._currentPage-1)*_bc2._currentPageSize+_bc0.start;_bc1.startIdx=_bc0.start;_bc1.endIdx=_bc0.start+_bc2._currentPageSize-1;var p=_bc2._paginator;if(!_bc2._showAll){_bc2._showAll=!p.sizeSwitch&&!p.pageStepper&&!p.gotoButton;}if(_bc4&&_bc2._showAll){_bc0.onBegin=function(size,req){_bc2._maxSize=_bc2._currentPageSize=size;_bc1.startIdx=0;_bc1.endIdx=size-1;_bc2._paginator._update();req.onBegin=_bc4;req.onBegin.call(_bc3,size,req);};}else{if(_bc4){_bc0.onBegin=function(size,req){req.start=0;req.count=_bc2._currentPageSize;_bc2._maxSize=size;_bc1.endIdx=_bc1.endIdx>=size?(size-1):_bc1.endIdx;if(_bc1.startIdx>size&&size!==0){grid._pending_requests[req.start]=false;_bc2.firstPage();}_bc2._paginator._update();req.onBegin=_bc4;req.onBegin.call(_bc3,Math.min(_bc2._currentPageSize,(size-_bc1.startIdx)),req);};}}return lang.hitch(this._store,this._originFetch)(_bc0);}});var _bbb=function(evt){try{if(evt){_bab.stop(evt);}}catch(e){}};var _bc5=_ba8("dojox.grid.enhanced.plugins.pagination._Focus",null,{_focusedNode:null,_isFocused:false,constructor:function(_bc6){this._pager=_bc6;var _bc7=_bc6.plugin.grid.focus;_bc6.plugin.connect(_bc6,"onSwitchPageSize",lang.hitch(this,"_onActive"));_bc6.plugin.connect(_bc6,"onPageStep",lang.hitch(this,"_onActive"));_bc6.plugin.connect(_bc6,"onShowGotoPageDialog",lang.hitch(this,"_onActive"));_bc6.plugin.connect(_bc6,"_update",lang.hitch(this,"_moveFocus"));},_onFocus:function(evt,step){var node,_bc8;if(!this._isFocused){node=this._focusedNode||_bac("[tabindex]",this._pager.domNode)[0];}else{if(step&&this._focusedNode){var dir=step>0?-1:1,_bc9=parseInt(this._focusedNode.getAttribute("tabindex"),10)+dir;while(_bc9>=-3&&_bc9<0){node=_bac("[tabindex="+_bc9+"]",this._pager.domNode)[0];if(node){break;}else{_bc9+=dir;}}}}return this._focus(node,evt);},_onBlur:function(evt,step){if(!step||!this._focusedNode){this._isFocused=false;if(this._focusedNode&&html.hasClass(this._focusedNode,"dojoxGridButtonFocus")){html.removeClass(this._focusedNode,"dojoxGridButtonFocus");}return true;}var node,dir=step>0?-1:1,_bca=parseInt(this._focusedNode.getAttribute("tabindex"),10)+dir;while(_bca>=-3&&_bca<0){node=_bac("[tabindex="+_bca+"]",this._pager.domNode)[0];if(node){break;}else{_bca+=dir;}}if(!node){this._isFocused=false;if(html.hasClass(this._focusedNode,"dojoxGridButtonFocus")){html.removeClass(this._focusedNode,"dojoxGridButtonFocus");}}return node?false:true;},_onMove:function(_bcb,_bcc,evt){if(this._focusedNode){var _bcd=this._focusedNode.getAttribute("tabindex"),_bce=_bcc==1?"nextSibling":"previousSibling",node=this._focusedNode[_bce];while(node){if(node.getAttribute("tabindex")==_bcd){this._focus(node);break;}node=node[_bce];}}},_focus:function(node,evt){if(node){this._isFocused=true;if(_ba7.isIE&&this._focusedNode){html.removeClass(this._focusedNode,"dojoxGridButtonFocus");}this._focusedNode=node;node.focus();if(_ba7.isIE){html.addClass(node,"dojoxGridButtonFocus");}_bbb(evt);return true;}return false;},_onActive:function(e){this._focusedNode=e.target;if(!this._isFocused){this._pager.plugin.grid.focus.focusArea("pagination"+this._pager.position);}},_moveFocus:function(){if(this._focusedNode&&!this._focusedNode.getAttribute("tabindex")){var next=this._focusedNode.nextSibling;while(next){if(next.getAttribute("tabindex")){this._focus(next);return;}next=next.nextSibling;}var prev=this._focusedNode.previousSibling;while(prev){if(prev.getAttribute("tabindex")){this._focus(prev);return;}prev=prev.previousSibling;}this._focusedNode=null;this._onBlur();}else{if(_ba7.isIE&&this._focusedNode){html.addClass(this._focusedNode,"dojoxGridButtonFocus");}}}});var _bcf=_ba8("dojox.grid.enhanced.plugins._Paginator",[_bb6,_bb7],{templateString:_bae,constructor:function(_bd0){lang.mixin(this,_bd0);this.grid=this.plugin.grid;},postCreate:function(){this.inherited(arguments);var _bd1=this,g=this.grid;this.plugin.connect(g,"_resize",lang.hitch(this,"_resetGridHeight"));this._originalResize=g.resize;g.resize=function(_bd2,_bd3){_bd1._changeSize=_bd2;_bd1._resultSize=_bd3;_bd1._originalResize.apply(g,arguments);};this.focus=_bc5(this);this._placeSelf();},destroy:function(){this.inherited(arguments);this.grid.focus.removeArea("pagination"+this.position);if(this._gotoPageDialog){this._gotoPageDialog.destroy();}this.grid.resize=this._originalResize;},onSwitchPageSize:function(evt){},onPageStep:function(evt){},onShowGotoPageDialog:function(evt){},_update:function(){this._updateDescription();this._updatePageStepper();this._updateSizeSwitch();this._updateGotoButton();},_registerFocus:function(_bd4){var _bd5=this.grid.focus,name="pagination"+this.position,f=this.focus;_bd5.addArea({name:name,onFocus:lang.hitch(this.focus,"_onFocus"),onBlur:lang.hitch(this.focus,"_onBlur"),onMove:lang.hitch(this.focus,"_onMove")});_bd5.placeArea(name,_bd4?"before":"after",_bd4?"header":"content");},_placeSelf:function(){var g=this.grid,_bd6=this.position=="top";this.placeAt(_bd6?g.viewsHeaderNode:g.viewsNode,_bd6?"before":"after");this._registerFocus(_bd6);},_resetGridHeight:function(_bd7,_bd8){var g=this.grid;_bd7=_bd7||this._changeSize;_bd8=_bd8||this._resultSize;delete this._changeSize;delete this._resultSize;if(g._autoHeight){return;}var _bd9=g._getPadBorder().h;if(!this.plugin.gh){this.plugin.gh=(g.domNode.clientHeight||html.style(g.domNode,"height"))+2*_bd9;}if(_bd8){_bd7=_bd8;}if(_bd7){this.plugin.gh=html.contentBox(g.domNode).h+2*_bd9;}var gh=this.plugin.gh,hh=g._getHeaderHeight(),ph=html.marginBox(this.domNode).h;if(typeof g.autoHeight==="number"){var cgh=gh+ph-_bd9;html.style(g.domNode,"height",cgh+"px");html.style(g.viewsNode,"height",(cgh-ph-hh)+"px");this._styleMsgNode(hh,html.marginBox(g.viewsNode).w,cgh-ph-hh);}else{var h=gh-ph-hh-_bd9;html.style(g.viewsNode,"height",h+"px");var _bda=_ba9.some(g.views.views,function(v){return v.hasHScrollbar();});_ba9.forEach(g.viewsNode.childNodes,function(c){html.style(c,"height",h+"px");});_ba9.forEach(g.views.views,function(v){if(v.scrollboxNode){if(!v.hasHScrollbar()&&_bda){html.style(v.scrollboxNode,"height",(h-_bb9.getScrollbar().h)+"px");}else{html.style(v.scrollboxNode,"height",h+"px");}}});this._styleMsgNode(hh,html.marginBox(g.viewsNode).w,h);}},_styleMsgNode:function(top,_bdb,_bdc){var _bdd=this.grid.messagesNode;html.style(_bdd,{"position":"absolute","top":top+"px","width":_bdb+"px","height":_bdc+"px","z-Index":"100"});},_updateDescription:function(){var s=this.plugin.forcePageStoreLayer,_bde=this.plugin._maxSize,nls=this.plugin._nls,_bdf=function(){return _bde<=0||_bde==1?nls[5]:nls[4];};if(this.description&&this.descriptionDiv){this.descriptionDiv.innerHTML=_bde>0?_bad.substitute(nls[0],[_bdf(),_bde,s.startIdx+1,s.endIdx+1]):"0 "+_bdf();}},_updateSizeSwitch:function(){html.style(this.sizeSwitchTd,"display",this.sizeSwitch?"":"none");if(!this.sizeSwitch){return;}if(this.sizeSwitchTd.childNodes.length<1){this._createSizeSwitchNodes();}this._updateSwitchNodesStyle();},_createSizeSwitchNodes:function(){var node=null,nls=this.plugin._nls,_baa=lang.hitch(this.plugin,"connect");_ba9.forEach(this.pageSizes,function(size){var _be0=isFinite(size)?_bad.substitute(nls[2],[size]):nls[1],_be1=isFinite(size)?size:nls[16];node=html.create("span",{innerHTML:_be1,title:_be0,value:size,tabindex:"-1"},this.sizeSwitchTd,"last");node.setAttribute("aria-label",_be0);_baa(node,"onclick",lang.hitch(this,"_onSwitchPageSize"));_baa(node,"onkeydown",lang.hitch(this,"_onSwitchPageSize"));_baa(node,"onmouseover",function(e){html.addClass(e.target,"dojoxGridPageTextHover");});_baa(node,"onmouseout",function(e){html.removeClass(e.target,"dojoxGridPageTextHover");});node=html.create("span",{innerHTML:"|"},this.sizeSwitchTd,"last");html.addClass(node,"dojoxGridSeparator");},this);html.destroy(node);},_updateSwitchNodesStyle:function(){var size=null;var _be2=function(node,_be3){if(_be3){html.addClass(node,"dojoxGridActivedSwitch");html.removeAttr(node,"tabindex");}else{html.addClass(node,"dojoxGridInactiveSwitch");node.setAttribute("tabindex","-1");}};_ba9.forEach(this.sizeSwitchTd.childNodes,function(node){if(node.value){html.removeClass(node);size=node.value;if(this.plugin._showAll){_be2(node,isNaN(parseInt(size,10)));}else{_be2(node,this.plugin._currentPageSize==size);}}},this);},_updatePageStepper:function(){html.style(this.pageStepperTd,"display",this.pageStepper?"":"none");if(!this.pageStepper){return;}if(this.pageStepperDiv.childNodes.length<1){this._createPageStepNodes();this._createWardBtns();}else{this._resetPageStepNodes();}this._updatePageStepNodesStyle();},_createPageStepNodes:function(){var _be4=this._getStartPage(),_be5=this._getStepPageSize(),_be6="",node=null,i=_be4,_baa=lang.hitch(this.plugin,"connect");for(;i<_be4+this.maxPageStep+1;i++){_be6=_bad.substitute(this.plugin._nls[3],[i]);node=html.create("div",{innerHTML:i,value:i,title:_be6},this.pageStepperDiv,"last");node.setAttribute("aria-label",_be6);_baa(node,"onclick",lang.hitch(this,"_onPageStep"));_baa(node,"onkeydown",lang.hitch(this,"_onPageStep"));_baa(node,"onmouseover",function(e){html.addClass(e.target,"dojoxGridPageTextHover");});_baa(node,"onmouseout",function(e){html.removeClass(e.target,"dojoxGridPageTextHover");});html.style(node,"display",i<_be4+_be5?"":"none");}},_createWardBtns:function(){var _be7=this,nls=this.plugin._nls;var _be8={prevPage:"&#60;",firstPage:"&#171;",nextPage:"&#62;",lastPage:"&#187;"};var _be9=function(_bea,_beb,_bec){var node=html.create("div",{value:_bea,title:_beb,tabindex:"-2"},_be7.pageStepperDiv,_bec);_be7.plugin.connect(node,"onclick",lang.hitch(_be7,"_onPageStep"));_be7.plugin.connect(node,"onkeydown",lang.hitch(_be7,"_onPageStep"));node.setAttribute("aria-label",_beb);var _bed=html.create("span",{value:_bea,title:_beb,innerHTML:_be8[_bea]},node,_bec);html.addClass(_bed,"dojoxGridWardButtonInner");};_be9("prevPage",nls[6],"first");_be9("firstPage",nls[7],"first");_be9("nextPage",nls[8],"last");_be9("lastPage",nls[9],"last");},_resetPageStepNodes:function(){var _bee=this._getStartPage(),_bef=this._getStepPageSize(),_bf0=this.pageStepperDiv.childNodes,node=null,i=_bee,j=2,tip;for(;j<_bf0.length-2;j++,i++){node=_bf0[j];if(i<_bee+_bef){tip=_bad.substitute(this.plugin._nls[3],[i]);html.attr(node,{"innerHTML":i,"title":tip,"value":i});html.style(node,"display","");node.setAttribute("aria-label",tip);}else{html.style(node,"display","none");}}},_updatePageStepNodesStyle:function(){var _bf1=null,_bf2=this.plugin.currentPage(),_bf3=this.plugin.getTotalPageNum();var _bf4=function(node,_bf5,_bf6){var _bf7=node.value,_bf8=_bf5?"dojoxGrid"+_bf7+"Btn":"dojoxGridInactived",_bf9=_bf5?"dojoxGrid"+_bf7+"BtnDisable":"dojoxGridActived";if(_bf6){html.addClass(node,_bf9);html.removeAttr(node,"tabindex");}else{html.addClass(node,_bf8);node.setAttribute("tabindex","-2");}};_ba9.forEach(this.pageStepperDiv.childNodes,function(node){html.removeClass(node);if(isNaN(parseInt(node.value,10))){html.addClass(node,"dojoxGridWardButton");var _bfa=node.value=="prevPage"||node.value=="firstPage"?1:_bf3;_bf4(node,true,(_bf2===_bfa));}else{_bf1=parseInt(node.value,10);_bf4(node,false,(_bf1===_bf2||html.style(node,"display")==="none"));}},this);},_showGotoButton:function(flag){this.gotoButton=flag;this._updateGotoButton();},_updateGotoButton:function(){if(!this.gotoButton){if(this._gotoPageDialog){this._gotoPageDialog.destroy();}html.removeAttr(this.gotoPageDiv,"tabindex");html.style(this.gotoPageTd,"display","none");return;}if(html.style(this.gotoPageTd,"display")=="none"){html.style(this.gotoPageTd,"display","");}this.gotoPageDiv.setAttribute("title",this.plugin._nls[10]);html.toggleClass(this.gotoPageDiv,"dojoxGridPaginatorGotoDivDisabled",this.plugin.getTotalPageNum()<=1);if(this.plugin.getTotalPageNum()<=1){html.removeAttr(this.gotoPageDiv,"tabindex");}else{this.gotoPageDiv.setAttribute("tabindex","-3");}},_openGotopageDialog:function(e){if(this.plugin.getTotalPageNum()<=1){return;}if(e.type==="keydown"&&e.keyCode!==keys.ENTER&&e.keyCode!==keys.SPACE){return;}if(!this._gotoPageDialog){this._gotoPageDialog=new _bbc(this.plugin);}this._gotoPageDialog.showDialog();this.onShowGotoPageDialog(e);},_onSwitchPageSize:function(e){if(e.type==="keydown"&&e.keyCode!==keys.ENTER&&e.keyCode!==keys.SPACE){return;}this.onSwitchPageSize(e);this.plugin.currentPageSize(e.target.value);},_onPageStep:function(e){if(e.type==="keydown"&&e.keyCode!==keys.ENTER&&e.keyCode!==keys.SPACE){return;}var p=this.plugin,_bfb=e.target.value;this.onPageStep(e);if(!isNaN(parseInt(_bfb,10))){p.currentPage(parseInt(_bfb,10));}else{p[_bfb]();}},_getStartPage:function(){var cp=this.plugin.currentPage(),ms=this.maxPageStep,hs=parseInt(ms/2,10),tp=this.plugin.getTotalPageNum();if(cp<hs||(cp-hs)<1||tp<=ms){return 1;}else{return tp-cp<hs&&cp-ms>=0?tp-ms+1:cp-hs;}},_getStepPageSize:function(){var sp=this._getStartPage(),tp=this.plugin.getTotalPageNum(),ms=this.maxPageStep;return sp+ms>tp?tp-sp+1:ms;}});var _bfc=_ba8("dojox.grid.enhanced.plugins.Pagination",_bb1,{name:"pagination",defaultPageSize:25,defaultPage:1,description:true,sizeSwitch:true,pageStepper:true,gotoButton:false,pageSizes:[10,25,50,100,Infinity],maxPageStep:7,position:"bottom",init:function(){var g=this.grid;g.usingPagination=true;this._initOptions();this._currentPage=this.defaultPage;this._currentPageSize=this.grid.rowsPerPage=this.defaultPageSize;this._store=g.store;this.forcePageStoreLayer=new _bbe(this);_bb0.wrap(g,"_storeLayerFetch",this.forcePageStoreLayer);this._paginator=this.option.position!="top"?new _bcf(lang.mixin(this.option,{position:"bottom",plugin:this})):new _bcf(lang.mixin(this.option,{position:"top",plugin:this}));this._regApis();},destroy:function(){this.inherited(arguments);this._paginator.destroy();var g=this.grid;g.unwrap(this.forcePageStoreLayer.name());g.scrollToRow=this._gridOriginalfuncs[0];g._onNew=this._gridOriginalfuncs[1];g.removeSelectedRows=this._gridOriginalfuncs[2];this._paginator=null;this._nls=null;},currentPage:function(page){if(page<=this.getTotalPageNum()&&page>0&&this._currentPage!==page){this._currentPage=page;this.grid._refresh(true);this.grid.resize();}return this._currentPage;},nextPage:function(){this.currentPage(this._currentPage+1);},prevPage:function(){this.currentPage(this._currentPage-1);},firstPage:function(){this.currentPage(1);},lastPage:function(){this.currentPage(this.getTotalPageNum());},currentPageSize:function(size){if(!isNaN(size)){var g=this.grid,_bfd=this._currentPageSize*(this._currentPage-1),_bfe;this._showAll=!isFinite(size);this.grid.usingPagination=!this._showAll;this._currentPageSize=this._showAll?this._maxSize:size;g.rowsPerPage=this._showAll?this._defaultRowsPerPage:size;_bfe=_bfd+Math.min(this._currentPageSize,this._maxSize);if(_bfe>this._maxSize){this.lastPage();}else{var cp=Math.ceil(_bfd/this._currentPageSize)+1;if(cp!==this._currentPage){this.currentPage(cp);}else{this.grid._refresh(true);}}this.grid.resize();}return this._currentPageSize;},getTotalPageNum:function(){return Math.ceil(this._maxSize/this._currentPageSize);},getTotalRowCount:function(){return this._maxSize;},scrollToRow:function(_bff){var page=parseInt(_bff/this._currentPageSize,10)+1;if(page>this.getTotalPageNum()){return;}this.currentPage(page);var _c00=_bff%this._currentPageSize;return this._gridOriginalfuncs[0](_c00);},removeSelectedRows:function(){this._multiRemoving=true;this._gridOriginalfuncs[2].apply();this._multiRemoving=false;if(this.grid.store.save){this.grid.store.save();}this.grid.resize();this.grid._refresh();},showGotoPageButton:function(flag){this._paginator.gotoButton=flag;this._paginator._updateGotoButton();},gotoPage:function(page){_ba7.deprecated("dojox.grid.enhanced.EnhancedGrid.gotoPage(page)","use dojox.grid.enhanced.EnhancedGrid.currentPage(page) instead","1.8");this.currentPage(page);},gotoFirstPage:function(){_ba7.deprecated("dojox.grid.enhanced.EnhancedGrid.gotoFirstPage()","use dojox.grid.enhanced.EnhancedGrid.firstPage() instead","1.8");this.firstPage();},gotoLastPage:function(){_ba7.deprecated("dojox.grid.enhanced.EnhancedGrid.gotoLastPage()","use dojox.grid.enhanced.EnhancedGrid.lastPage() instead","1.8");this.lastPage();},changePageSize:function(size){_ba7.deprecated("dojox.grid.enhanced.EnhancedGrid.changePageSize(size)","use dojox.grid.enhanced.EnhancedGrid.currentPageSize(size) instead","1.8");this.currentPageSize(size);},_nls:null,_showAll:false,_maxSize:0,_defaultRowsPerPage:25,_currentPage:1,_currentPageSize:25,_initOptions:function(){this._defaultRowsPerPage=this.grid.rowsPerPage||25;this.defaultPage=this.option.defaultPage>=1?parseInt(this.option.defaultPage,10):1;this.option.description=this.option.description!==undefined?!!this.option.description:this.description;this.option.sizeSwitch=this.option.sizeSwitch!==undefined?!!this.option.sizeSwitch:this.sizeSwitch;this.option.pageStepper=this.option.pageStepper!==undefined?!!this.option.pageStepper:this.pageStepper;this.option.gotoButton=this.option.gotoButton!==undefined?!!this.option.gotoButton:this.gotoButton;if(lang.isArray(this.option.pageSizes)){var _c01=[];_ba9.forEach(this.option.pageSizes,function(size){size=typeof size=="number"?size:parseInt(size,10);if(!isNaN(size)&&size>0){_c01.push(size);}else{if(_ba9.indexOf(_c01,Infinity)<0){_c01.push(Infinity);}}},this);this.option.pageSizes=_c01.sort(function(a,b){return a-b;});}else{this.option.pageSizes=this.pageSizes;}this.defaultPageSize=this.option.defaultPageSize>=1?parseInt(this.option.defaultPageSize,10):this.pageSizes[0];this.option.maxPageStep=this.option.maxPageStep>0?this.option.maxPageStep:this.maxPageStep;this.option.position=lang.isString(this.option.position)?this.option.position.toLowerCase():this.position;this._nls=[nls.descTemplate,nls.allItemsLabelTemplate,nls.pageSizeLabelTemplate,nls.pageStepLabelTemplate,nls.itemTitle,nls.singularItemTitle,nls.prevTip,nls.firstTip,nls.nextTip,nls.lastTip,nls.gotoButtonTitle,nls.dialogTitle,nls.dialogIndication,nls.pageCountIndication,nls.dialogConfirm,nls.dialogCancel,nls.all];},_regApis:function(){var g=this.grid;g.currentPage=lang.hitch(this,this.currentPage);g.nextPage=lang.hitch(this,this.nextPage);g.prevPage=lang.hitch(this,this.prevPage);g.firstPage=lang.hitch(this,this.firstPage);g.lastPage=lang.hitch(this,this.lastPage);g.currentPageSize=lang.hitch(this,this.currentPageSize);g.showGotoPageButton=lang.hitch(this,this.showGotoPageButton);g.getTotalRowCount=lang.hitch(this,this.getTotalRowCount);g.getTotalPageNum=lang.hitch(this,this.getTotalPageNum);g.gotoPage=lang.hitch(this,this.gotoPage);g.gotoFirstPage=lang.hitch(this,this.gotoFirstPage);g.gotoLastPage=lang.hitch(this,this.gotoLastPage);g.changePageSize=lang.hitch(this,this.changePageSize);this._gridOriginalfuncs=[lang.hitch(g,g.scrollToRow),lang.hitch(g,g._onNew),lang.hitch(g,g.removeSelectedRows)];g.scrollToRow=lang.hitch(this,this.scrollToRow);g.removeSelectedRows=lang.hitch(this,this.removeSelectedRows);g._onNew=lang.hitch(this,this._onNew);this.connect(g,"_onDelete",lang.hitch(this,this._onDelete));},_onNew:function(item,_c02){var _c03=this.getTotalPageNum();if(((this._currentPage===_c03||_c03===0)&&this.grid.get("rowCount")<this._currentPageSize)||this._showAll){lang.hitch(this.grid,this._gridOriginalfuncs[1])(item,_c02);this.forcePageStoreLayer.endIdx++;}this._maxSize++;if(this._showAll){this._currentPageSize++;}if(this._showAll&&this.grid.autoHeight){this.grid._refresh();}else{this._paginator._update();}},_onDelete:function(){if(!this._multiRemoving){this.grid.resize();if(this._showAll){this.grid._refresh();}}if(this.grid.get("rowCount")===0){this.prevPage();}}});_bb2.registerPlugin(_bfc);return _bfc;});},"dojox/grid/enhanced/plugins/Dialog":function(){define(["dojo/_base/declare","dojo/_base/html","dojo/window","dijit/Dialog"],function(_c04,html,win,_c05){return _c04("dojox.grid.enhanced.plugins.Dialog",_c05,{refNode:null,_position:function(){if(this.refNode&&!this._relativePosition){var _c06=html.position(html.byId(this.refNode)),_c07=html.position(this.domNode),_c08=win.getBox();if(_c07.w&&_c07.h){if(_c06.x<0){_c06.x=0;}if(_c06.x+_c06.w>_c08.w){_c06.w=_c08.w-_c06.x;}if(_c06.y<0){_c06.y=0;}if(_c06.y+_c06.h>_c08.h){_c06.h=_c08.h-_c06.y;}_c06.x=_c06.x+_c06.w/2-_c07.w/2;_c06.y=_c06.y+_c06.h/2-_c07.h/2;if(_c06.x>=0&&_c06.x+_c07.w<=_c08.w&&_c06.y>=0&&_c06.y+_c07.h<=_c08.h){this._relativePosition=_c06;}}}this.inherited(arguments);}});});},"dojox/grid/enhanced/plugins/_StoreLayer":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/xhr"],function(_c09,_c0a,lang,xhr){var ns=lang.getObject("grid.enhanced.plugins",true,dojox);var _c0b=function(tags){var _c0c=["reorder","sizeChange","normal","presentation"];var idx=_c0c.length;for(var i=tags.length-1;i>=0;--i){var p=_c0a.indexOf(_c0c,tags[i]);if(p>=0&&p<=idx){idx=p;}}if(idx<_c0c.length-1){return _c0c.slice(0,idx+1);}else{return _c0c;}},_c0d=function(_c0e){var i,_c0f=this._layers,len=_c0f.length;if(_c0e){for(i=len-1;i>=0;--i){if(_c0f[i].name()==_c0e){_c0f[i]._unwrap(_c0f[i+1]);break;}}_c0f.splice(i,1);}else{for(i=len-1;i>=0;--i){_c0f[i]._unwrap();}}if(!_c0f.length){delete this._layers;delete this.layer;delete this.unwrap;delete this.forEachLayer;}return this;},_c10=function(_c11){var i,_c12=this._layers;if(typeof _c11=="undefined"){return _c12.length;}if(typeof _c11=="number"){return _c12[_c11];}for(i=_c12.length-1;i>=0;--i){if(_c12[i].name()==_c11){return _c12[i];}}return null;},_c13=function(_c14,_c15){var len=this._layers.length,_c16,end,dir;if(_c15){_c16=0;end=len;dir=1;}else{_c16=len-1;end=-1;dir=-1;}for(var i=_c16;i!=end;i+=dir){if(_c14(this._layers[i],i)===false){return i;}}return end;};ns.wrap=function(_c17,_c18,_c19,_c1a){if(!_c17._layers){_c17._layers=[];_c17.layer=lang.hitch(_c17,_c10);_c17.unwrap=lang.hitch(_c17,_c0d);_c17.forEachLayer=lang.hitch(_c17,_c13);}var _c1b=_c0b(_c19.tags);if(!_c0a.some(_c17._layers,function(lyr,i){if(_c0a.some(lyr.tags,function(tag){return _c0a.indexOf(_c1b,tag)>=0;})){return false;}else{_c17._layers.splice(i,0,_c19);_c19._wrap(_c17,_c18,_c1a,lyr);return true;}})){_c17._layers.push(_c19);_c19._wrap(_c17,_c18,_c1a);}return _c17;};var _c1c=_c09("dojox.grid.enhanced.plugins._StoreLayer",null,{tags:["normal"],layerFuncName:"_fetch",constructor:function(){this._store=null;this._originFetch=null;this.__enabled=true;},initialize:function(_c1d){},uninitialize:function(_c1e){},invalidate:function(){},_wrap:function(_c1f,_c20,_c21,_c22){this._store=_c1f;this._funcName=_c20;var _c23=lang.hitch(this,function(){return (this.enabled()?this[_c21||this.layerFuncName]:this.originFetch).apply(this,arguments);});if(_c22){this._originFetch=_c22._originFetch;_c22._originFetch=_c23;}else{this._originFetch=_c1f[_c20]||function(){};_c1f[_c20]=_c23;}this.initialize(_c1f);},_unwrap:function(_c24){this.uninitialize(this._store);if(_c24){_c24._originFetch=this._originFetch;}else{this._store[this._funcName]=this._originFetch;}this._originFetch=null;this._store=null;},enabled:function(_c25){if(typeof _c25!="undefined"){this.__enabled=!!_c25;}return this.__enabled;},name:function(){if(!this.__name){var m=this.declaredClass.match(/(?:\.(?:_*)([^\.]+)Layer$)|(?:\.([^\.]+)$)/i);this.__name=m?(m[1]||m[2]).toLowerCase():this.declaredClass;}return this.__name;},originFetch:function(){return (lang.hitch(this._store,this._originFetch)).apply(this,arguments);}});var _c26=_c09("dojox.grid.enhanced.plugins._ServerSideLayer",_c1c,{constructor:function(args){args=args||{};this._url=args.url||"";this._isStateful=!!args.isStateful;this._onUserCommandLoad=args.onCommandLoad||function(){};this.__cmds={cmdlayer:this.name(),enable:true};this.useCommands(this._isStateful);},enabled:function(_c27){var res=this.inherited(arguments);this.__cmds.enable=this.__enabled;return res;},useCommands:function(_c28){if(typeof _c28!="undefined"){this.__cmds.cmdlayer=(_c28&&this._isStateful)?this.name():null;}return !!(this.__cmds.cmdlayer);},_fetch:function(_c29){if(this.__cmds.cmdlayer){xhr.post({url:this._url||this._store.url,content:this.__cmds,load:lang.hitch(this,function(_c2a){this.onCommandLoad(_c2a,_c29);this.originFetch(_c29);}),error:lang.hitch(this,this.onCommandError)});}else{this.onCommandLoad("",_c29);this.originFetch(_c29);}return _c29;},command:function(_c2b,_c2c){var cmds=this.__cmds;if(_c2c===null){delete cmds[_c2b];}else{if(typeof _c2c!=="undefined"){cmds[_c2b]=_c2c;}}return cmds[_c2b];},onCommandLoad:function(_c2d,_c2e){this._onUserCommandLoad(this.__cmds,_c2e,_c2d);},onCommandError:function(_c2f){throw _c2f;}});return {_StoreLayer:_c1c,_ServerSideLayer:_c26,wrap:ns.wrap};});},"dojox/json/ref":function(){define(["dojo/_base/array","dojo/_base/json","dojo/_base/kernel","dojo/_base/lang","dojo/date/stamp","dojox"],function(_c30,_c31,dojo,lang,_c32,_c33){lang.getObject("json",true,_c33);return _c33.json.ref={resolveJson:function(root,args){args=args||{};var _c34=args.idAttribute||"id";var _c35=this.refAttribute;var _c36=args.idAsRef;var _c37=args.idPrefix||"";var _c38=args.assignAbsoluteIds;var _c39=args.index||{};var _c3a=args.timeStamps;var ref,_c3b=[];var _c3c=/^(.*\/)?(\w+:\/\/)|[^\/\.]+\/\.\.\/|^.*\/(\/)/;var _c3d=this._addProp;var F=function(){};function walk(it,stop,_c3e,_c3f,_c40,_c41){var i,_c42,val,id=_c34 in it?it[_c34]:_c3e;if(_c34 in it||((id!==undefined)&&_c3f)){id=(_c37+id).replace(_c3c,"$2$3");}var _c43=_c41||it;if(id!==undefined){if(_c38){it.__id=id;}if(args.schemas&&(!(it instanceof Array))&&(val=id.match(/^(.+\/)[^\.\[]*$/))){_c40=args.schemas[val[1]];}if(_c39[id]&&((it instanceof Array)==(_c39[id] instanceof Array))){_c43=_c39[id];delete _c43.$ref;delete _c43._loadObject;_c42=true;}else{var _c44=_c40&&_c40.prototype;if(_c44){F.prototype=_c44;_c43=new F();}}_c39[id]=_c43;if(_c3a){_c3a[id]=args.time;}}while(_c40){var _c45=_c40.properties;if(_c45){for(i in it){var _c46=_c45[i];if(_c46&&_c46.format=="date-time"&&typeof it[i]=="string"){it[i]=_c32.fromISOString(it[i]);}}}_c40=_c40["extends"];}var _c47=it.length;for(i in it){if(i==_c47){break;}if(it.hasOwnProperty(i)){val=it[i];if((typeof val=="object")&&val&&!(val instanceof Date)&&i!="__parent"){ref=val[_c35]||(_c36&&val[_c34]);if(!ref||!val.__parent){if(it!=_c3b){val.__parent=_c43;}}if(ref){delete it[i];var path=ref.toString().replace(/(#)([^\.\[])/,"$1.$2").match(/(^([^\[]*\/)?[^#\.\[]*)#?([\.\[].*)?/);if(_c39[(_c37+ref).replace(_c3c,"$2$3")]){ref=_c39[(_c37+ref).replace(_c3c,"$2$3")];}else{if((ref=(path[1]=="$"||path[1]=="this"||path[1]=="")?root:_c39[(_c37+path[1]).replace(_c3c,"$2$3")])){if(path[3]){path[3].replace(/(\[([^\]]+)\])|(\.?([^\.\[]+))/g,function(t,a,b,c,d){ref=ref&&ref[b?b.replace(/[\"\'\\]/,""):d];});}}}if(ref){val=ref;}else{if(!stop){var _c48;if(!_c48){_c3b.push(_c43);}_c48=true;val=walk(val,false,val[_c35],true,_c46);val._loadObject=args.loader;}}}else{if(!stop){val=walk(val,_c3b==it,id===undefined?undefined:_c3d(id,i),false,_c46,_c43!=it&&typeof _c43[i]=="object"&&_c43[i]);}}}it[i]=val;if(_c43!=it&&!_c43.__isDirty){var old=_c43[i];_c43[i]=val;if(_c42&&val!==old&&!_c43._loadObject&&!(i.charAt(0)=="_"&&i.charAt(1)=="_")&&i!="$ref"&&!(val instanceof Date&&old instanceof Date&&val.getTime()==old.getTime())&&!(typeof val=="function"&&typeof old=="function"&&val.toString()==old.toString())&&_c39.onUpdate){_c39.onUpdate(_c43,i,old,val);}}}}if(_c42&&(_c34 in it||_c43 instanceof Array)){for(i in _c43){if(!_c43.__isDirty&&_c43.hasOwnProperty(i)&&!it.hasOwnProperty(i)&&!(i.charAt(0)=="_"&&i.charAt(1)=="_")&&!(_c43 instanceof Array&&isNaN(i))){if(_c39.onUpdate&&i!="_loadObject"&&i!="_idAttr"){_c39.onUpdate(_c43,i,_c43[i],undefined);}delete _c43[i];while(_c43 instanceof Array&&_c43.length&&_c43[_c43.length-1]===undefined){_c43.length--;}}}}else{if(_c39.onLoad){_c39.onLoad(_c43);}}return _c43;};if(root&&typeof root=="object"){root=walk(root,false,args.defaultId,true);walk(_c3b,false);}return root;},fromJson:function(str,args){function ref(_c49){var _c4a={};_c4a[this.refAttribute]=_c49;return _c4a;};try{var root=eval("("+str+")");}catch(e){throw new SyntaxError("Invalid JSON string: "+e.message+" parsing: "+str);}if(root){return this.resolveJson(root,args);}return root;},toJson:function(it,_c4b,_c4c,_c4d){var _c4e=this._useRefs;var _c4f=this._addProp;var _c50=this.refAttribute;_c4c=_c4c||"";var _c51={};var _c52={};function _c53(it,path,_c54){if(typeof it=="object"&&it){var _c55;if(it instanceof Date){return "\""+_c32.toISOString(it,{zulu:true})+"\"";}var id=it.__id;if(id){if(path!="#"&&((_c4e&&!id.match(/#/))||_c51[id])){var ref=id;if(id.charAt(0)!="#"){if(it.__clientId==id){ref="cid:"+id;}else{if(id.substring(0,_c4c.length)==_c4c){ref=id.substring(_c4c.length);}else{ref=id;}}}var _c56={};_c56[_c50]=ref;return _c31.toJson(_c56,_c4b);}path=id;}else{it.__id=path;_c52[path]=it;}_c51[path]=it;_c54=_c54||"";var _c57=_c4b?_c54+_c31.toJsonIndentStr:"";var _c58=_c4b?"\n":"";var sep=_c4b?" ":"";if(it instanceof Array){var res=_c30.map(it,function(obj,i){var val=_c53(obj,_c4f(path,i),_c57);if(typeof val!="string"){val="undefined";}return _c58+_c57+val;});return "["+res.join(","+sep)+_c58+_c54+"]";}var _c59=[];for(var i in it){if(it.hasOwnProperty(i)){var _c5a;if(typeof i=="number"){_c5a="\""+i+"\"";}else{if(typeof i=="string"&&(i.charAt(0)!="_"||i.charAt(1)!="_")){_c5a=_c31._escapeString(i);}else{continue;}}var val=_c53(it[i],_c4f(path,i),_c57);if(typeof val!="string"){continue;}_c59.push(_c58+_c57+_c5a+":"+sep+val);}}return "{"+_c59.join(","+sep)+_c58+_c54+"}";}else{if(typeof it=="function"&&_c33.json.ref.serializeFunctions){return it.toString();}}return _c31.toJson(it);};var json=_c53(it,"#","");if(!_c4d){for(var i in _c52){delete _c52[i].__id;}}return json;},_addProp:function(id,prop){return id+(id.match(/#/)?id.length==1?"":".":"#")+prop;},refAttribute:"$ref",_useRefs:false,serializeFunctions:false};});},"dojox/layout/GridContainer":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/connect","dojo/_base/sniff","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/dom-construct","dojo/_base/lang","dojo/_base/window","dojo/ready","dojox/layout/GridContainerLite"],function(dojo,_c5b,_c5c,_c5d,has,_c5e,_c5f,geom,_c60,lang,win,_c61,_c62){return _c5b("dojox.layout.GridContainer",_c62,{hasResizableColumns:true,liveResizeColumns:false,minColWidth:20,minChildWidth:150,mode:"right",isRightFixed:false,isLeftFixed:false,startup:function(){this.inherited(arguments);if(this.hasResizableColumns){for(var i=0;i<this._grid.length-1;i++){this._createGrip(i);}if(!this.getParent()){_c61(lang.hitch(this,"_placeGrips"));}}},resizeChildAfterDrop:function(node,_c63,_c64){if(this.inherited(arguments)){this._placeGrips();}},onShow:function(){this.inherited(arguments);this._placeGrips();},resize:function(){this.inherited(arguments);if(this._isShown()&&this.hasResizableColumns){this._placeGrips();}},_createGrip:function(_c65){var _c66=this._grid[_c65],grip=_c60.create("div",{"class":"gridContainerGrip"},this.domNode);_c66.grip=grip;_c66.gripHandler=[this.connect(grip,"onmouseover",function(e){var _c67=false;for(var i=0;i<this._grid.length-1;i++){if(_c5e.contains(this._grid[i].grip,"gridContainerGripShow")){_c67=true;break;}}if(!_c67){_c5e.replace(e.target,"gridContainerGripShow","gridContainerGrip");}})[0],this.connect(grip,"onmouseout",function(e){if(!this._isResized){_c5e.replace(e.target,"gridContainerGrip","gridContainerGripShow");}})[0],this.connect(grip,"onmousedown","_resizeColumnOn")[0],this.connect(grip,"ondblclick","_onGripDbClick")[0]];},_placeGrips:function(){var _c68,_c69,left=0,grip;_c5c.forEach(this._grid,function(_c6a){if(_c6a.grip){grip=_c6a.grip;if(!_c68){_c68=grip.offsetWidth/2;}left+=geom.getMarginBox(_c6a.node).w;_c5f.set(grip,"left",(left-_c68)+"px");if(!_c69){_c69=geom.getContentBox(this.gridNode).h;}if(_c69>0){_c5f.set(grip,"height",_c69+"px");}}},this);},_onGripDbClick:function(){this._updateColumnsWidth(this._dragManager);this.resize();},_resizeColumnOn:function(e){this._activeGrip=e.target;this._initX=e.pageX;e.preventDefault();win.body().style.cursor="ew-resize";this._isResized=true;var _c6b=[];var grid;var i;for(i=0;i<this._grid.length;i++){_c6b[i]=geom.getContentBox(this._grid[i].node).w;}this._oldTabSize=_c6b;for(i=0;i<this._grid.length;i++){grid=this._grid[i];if(this._activeGrip==grid.grip){this._currentColumn=grid.node;this._currentColumnWidth=_c6b[i];this._nextColumn=this._grid[i+1].node;this._nextColumnWidth=_c6b[i+1];}grid.node.style.width=_c6b[i]+"px";}var _c6c=function(_c6d,_c6e){var _c6f=0;var _c70=0;_c5c.forEach(_c6d,function(_c71){if(_c71.nodeType==1){var _c72=_c5f.getComputedStyle(_c71);var _c73=(has("ie"))?_c6e:parseInt(_c72.minWidth);_c70=_c73+parseInt(_c72.marginLeft)+parseInt(_c72.marginRight);if(_c6f<_c70){_c6f=_c70;}}});return _c6f;};var _c74=_c6c(this._currentColumn.childNodes,this.minChildWidth);var _c75=_c6c(this._nextColumn.childNodes,this.minChildWidth);var _c76=Math.round((geom.getMarginBox(this.gridContainerTable).w*this.minColWidth)/100);this._currentMinCol=_c74;this._nextMinCol=_c75;if(_c76>this._currentMinCol){this._currentMinCol=_c76;}if(_c76>this._nextMinCol){this._nextMinCol=_c76;}this._connectResizeColumnMove=_c5d.connect(win.doc,"onmousemove",this,"_resizeColumnMove");this._connectOnGripMouseUp=_c5d.connect(win.doc,"onmouseup",this,"_onGripMouseUp");},_onGripMouseUp:function(){win.body().style.cursor="default";_c5d.disconnect(this._connectResizeColumnMove);_c5d.disconnect(this._connectOnGripMouseUp);this._connectOnGripMouseUp=this._connectResizeColumnMove=null;if(this._activeGrip){_c5e.replace(this._activeGrip,"gridContainerGrip","gridContainerGripShow");}this._isResized=false;},_resizeColumnMove:function(e){e.preventDefault();if(!this._connectResizeColumnOff){_c5d.disconnect(this._connectOnGripMouseUp);this._connectOnGripMouseUp=null;this._connectResizeColumnOff=_c5d.connect(win.doc,"onmouseup",this,"_resizeColumnOff");}var d=e.pageX-this._initX;if(d==0){return;}if(!(this._currentColumnWidth+d<this._currentMinCol||this._nextColumnWidth-d<this._nextMinCol)){this._currentColumnWidth+=d;this._nextColumnWidth-=d;this._initX=e.pageX;this._activeGrip.style.left=parseInt(this._activeGrip.style.left)+d+"px";if(this.liveResizeColumns){this._currentColumn.style["width"]=this._currentColumnWidth+"px";this._nextColumn.style["width"]=this._nextColumnWidth+"px";this.resize();}}},_resizeColumnOff:function(e){win.body().style.cursor="default";_c5d.disconnect(this._connectResizeColumnMove);_c5d.disconnect(this._connectResizeColumnOff);this._connectResizeColumnOff=this._connectResizeColumnMove=null;if(!this.liveResizeColumns){this._currentColumn.style["width"]=this._currentColumnWidth+"px";this._nextColumn.style["width"]=this._nextColumnWidth+"px";}var _c77=[],_c78=[],_c79=this.gridContainerTable.clientWidth,node,_c7a=false,i;for(i=0;i<this._grid.length;i++){node=this._grid[i].node;if(has("ie")){_c77[i]=geom.getMarginBox(node).w;_c78[i]=geom.getContentBox(node).w;}else{_c77[i]=geom.getContentBox(node).w;_c78=_c77;}}for(i=0;i<_c78.length;i++){if(_c78[i]!=this._oldTabSize[i]){_c7a=true;break;}}if(_c7a){var mul=has("ie")?100:10000;for(i=0;i<this._grid.length;i++){this._grid[i].node.style.width=Math.round((100*mul*_c77[i])/_c79)/mul+"%";}this.resize();}if(this._activeGrip){_c5e.replace(this._activeGrip,"gridContainerGrip","gridContainerGripShow");}this._isResized=false;},setColumns:function(_c7b){var z,j;if(_c7b>0){var _c7c=this._grid.length,_c7d=_c7c-_c7b;if(_c7d>0){var _c7e=[],zone,_c7f,end,_c80;if(this.mode=="right"){end=(this.isLeftFixed&&_c7c>0)?1:0;_c7f=(this.isRightFixed)?_c7c-2:_c7c-1;for(z=_c7f;z>=end;z--){_c80=0;zone=this._grid[z].node;for(j=0;j<zone.childNodes.length;j++){if(zone.childNodes[j].nodeType==1&&!(zone.childNodes[j].id=="")){_c80++;break;}}if(_c80==0){_c7e[_c7e.length]=z;}if(_c7e.length>=_c7d){this._deleteColumn(_c7e);break;}}if(_c7e.length<_c7d){_c5d.publish("/dojox/layout/gridContainer/noEmptyColumn",[this]);}}else{_c7f=(this.isLeftFixed&&_c7c>0)?1:0;end=(this.isRightFixed)?_c7c-1:_c7c;for(z=_c7f;z<end;z++){_c80=0;zone=this._grid[z].node;for(j=0;j<zone.childNodes.length;j++){if(zone.childNodes[j].nodeType==1&&!(zone.childNodes[j].id=="")){_c80++;break;}}if(_c80==0){_c7e[_c7e.length]=z;}if(_c7e.length>=_c7d){this._deleteColumn(_c7e);break;}}if(_c7e.length<_c7d){_c5d.publish("/dojox/layout/gridContainer/noEmptyColumn",[this]);}}}else{if(_c7d<0){this._addColumn(Math.abs(_c7d));}}if(this.hasResizableColumns){this._placeGrips();}}},_addColumn:function(_c81){var grid=this._grid,_c82,node,_c83,_c84,_c85=(this.mode=="right"),_c86=this.acceptTypes.join(","),m=this._dragManager;if(this.hasResizableColumns&&((!this.isRightFixed&&_c85)||(this.isLeftFixed&&!_c85&&this.nbZones==1))){this._createGrip(grid.length-1);}for(var i=0;i<_c81;i++){node=_c60.create("td",{"class":"gridContainerZone dojoxDndArea","accept":_c86,"id":this.id+"_dz"+this.nbZones});_c84=grid.length;if(_c85){if(this.isRightFixed){_c83=_c84-1;grid.splice(_c83,0,{"node":grid[_c83].node.parentNode.insertBefore(node,grid[_c83].node)});}else{_c83=_c84;grid.push({"node":this.gridNode.appendChild(node)});}}else{if(this.isLeftFixed){_c83=(_c84==1)?0:1;this._grid.splice(1,0,{"node":this._grid[_c83].node.parentNode.appendChild(node,this._grid[_c83].node)});_c83=1;}else{_c83=_c84-this.nbZones;this._grid.splice(_c83,0,{"node":grid[_c83].node.parentNode.insertBefore(node,grid[_c83].node)});}}if(this.hasResizableColumns){if((!_c85&&this.nbZones!=1)||(!_c85&&this.nbZones==1&&!this.isLeftFixed)||(_c85&&i<_c81-1)||(_c85&&i==_c81-1&&this.isRightFixed)){this._createGrip(_c83);}}m.registerByNode(grid[_c83].node);this.nbZones++;}this._updateColumnsWidth(m);},_deleteColumn:function(_c87){var _c88,grid,_c89,_c8a=0,_c8b=_c87.length,m=this._dragManager;for(var i=0;i<_c8b;i++){_c89=(this.mode=="right")?_c87[i]:_c87[i]-_c8a;grid=this._grid[_c89];if(this.hasResizableColumns&&grid.grip){_c5c.forEach(grid.gripHandler,function(_c8c){_c5d.disconnect(_c8c);});_c60.destroy(this.domNode.removeChild(grid.grip));grid.grip=null;}m.unregister(grid.node);_c60.destroy(this.gridNode.removeChild(grid.node));this._grid.splice(_c89,1);this.nbZones--;_c8a++;}var _c8d=this._grid[this.nbZones-1];if(_c8d.grip){_c5c.forEach(_c8d.gripHandler,_c5d.disconnect);_c60.destroy(this.domNode.removeChild(_c8d.grip));_c8d.grip=null;}this._updateColumnsWidth(m);},_updateColumnsWidth:function(_c8e){this.inherited(arguments);_c8e._dropMode.updateAreas(_c8e._areaList);},destroy:function(){_c5d.unsubscribe(this._dropHandler);this.inherited(arguments);}});});},"dojox/layout/GridContainerLite":function(){define(["dojo/_base/kernel","dojo/text!./resources/GridContainer.html","dojo/_base/declare","dojo/query","dojo/_base/sniff","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/dom-construct","dojo/dom-attr","dojo/_base/array","dojo/_base/lang","dojo/_base/event","dojo/keys","dojo/topic","dijit/registry","dijit/focus","dijit/_base/focus","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/layout/_LayoutWidget","dojo/_base/NodeList","dojox/mdnd/AreaManager","dojox/mdnd/DropIndicator","dojox/mdnd/dropMode/OverDropMode","dojox/mdnd/AutoScroll"],function(dojo,_c8f,_c90,_c91,has,_c92,_c93,geom,_c94,_c95,_c96,lang,_c97,keys,_c98,_c99,_c9a,_c9b,_c9c,_c9d,_c9e,_c9f){var gcl=_c90("dojox.layout.GridContainerLite",[_c9e,_c9d],{autoRefresh:true,templateString:_c8f,dragHandleClass:"dojoxDragHandle",nbZones:1,doLayout:true,isAutoOrganized:true,acceptTypes:[],colWidths:"",constructor:function(_ca0,node){this.acceptTypes=(_ca0||{}).acceptTypes||["text"];this._disabled=true;},postCreate:function(){this.inherited(arguments);this._grid=[];this._createCells();this.subscribe("/dojox/mdnd/drop","resizeChildAfterDrop");this.subscribe("/dojox/mdnd/drag/start","resizeChildAfterDragStart");this._dragManager=dojox.mdnd.areaManager();this._dragManager.autoRefresh=this.autoRefresh;this._dragManager.dragHandleClass=this.dragHandleClass;if(this.doLayout){this._border={h:has("ie")?geom.getBorderExtents(this.gridContainerTable).h:0,w:(has("ie")==6)?1:0};}else{_c93.set(this.domNode,"overflowY","hidden");_c93.set(this.gridContainerTable,"height","auto");}},startup:function(){if(this._started){return;}if(this.isAutoOrganized){this._organizeChildren();}else{this._organizeChildrenManually();}_c96.forEach(this.getChildren(),function(_ca1){_ca1.startup();});if(this._isShown()){this.enableDnd();}this.inherited(arguments);},resizeChildAfterDrop:function(node,_ca2,_ca3){if(this._disabled){return false;}if(_c99.getEnclosingWidget(_ca2.node)==this){var _ca4=_c99.byNode(node);if(_ca4.resize&&lang.isFunction(_ca4.resize)){_ca4.resize();}_ca4.set("column",node.parentNode.cellIndex);if(this.doLayout){var _ca5=this._contentBox.h,_ca6=geom.getContentBox(this.gridContainerDiv).h;if(_ca6>=_ca5){_c93.set(this.gridContainerTable,"height",(_ca5-this._border.h)+"px");}}return true;}return false;},resizeChildAfterDragStart:function(node,_ca7,_ca8){if(this._disabled){return false;}if(_c99.getEnclosingWidget(_ca7.node)==this){this._draggedNode=node;if(this.doLayout){geom.setMarginBox(this.gridContainerTable,{h:geom.getContentBox(this.gridContainerDiv).h-this._border.h});}return true;}return false;},getChildren:function(){var _ca9=new _c9f();_c96.forEach(this._grid,function(_caa){_c91("> [widgetId]",_caa.node).map(_c99.byNode).forEach(function(item){_ca9.push(item);});});return _ca9;},_isShown:function(){if("open" in this){return this.open;}else{var node=this.domNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!_c92.contains(node,"dijitHidden");}},layout:function(){if(this.doLayout){var _cab=this._contentBox;geom.setMarginBox(this.gridContainerTable,{h:_cab.h-this._border.h});geom.setContentSize(this.domNode,{w:_cab.w-this._border.w});}_c96.forEach(this.getChildren(),function(_cac){if(_cac.resize&&lang.isFunction(_cac.resize)){_cac.resize();}});},onShow:function(){if(this._disabled){this.enableDnd();}},onHide:function(){if(!this._disabled){this.disableDnd();}},_createCells:function(){if(this.nbZones===0){this.nbZones=1;}var _cad=this.acceptTypes.join(","),i=0;var _cae=this._computeColWidth();while(i<this.nbZones){this._grid.push({node:_c94.create("td",{"class":"gridContainerZone",accept:_cad,id:this.id+"_dz"+i,style:{"width":_cae[i]+"%"}},this.gridNode)});i++;}},_getZonesAttr:function(){return _c91(".gridContainerZone",this.containerNode);},enableDnd:function(){var m=this._dragManager;_c96.forEach(this._grid,function(_caf){m.registerByNode(_caf.node);});m._dropMode.updateAreas(m._areaList);this._disabled=false;},disableDnd:function(){var m=this._dragManager;_c96.forEach(this._grid,function(_cb0){m.unregister(_cb0.node);});m._dropMode.updateAreas(m._areaList);this._disabled=true;},_organizeChildren:function(){var _cb1=dojox.layout.GridContainerLite.superclass.getChildren.call(this);var _cb2=this.nbZones,_cb3=Math.floor(_cb1.length/_cb2),mod=_cb1.length%_cb2,i=0;for(var z=0;z<_cb2;z++){for(var r=0;r<_cb3;r++){this._insertChild(_cb1[i],z);i++;}if(mod>0){try{this._insertChild(_cb1[i],z);i++;}catch(e){console.error("Unable to insert child in GridContainer",e);}mod--;}else{if(_cb3===0){break;}}}},_organizeChildrenManually:function(){var _cb4=dojox.layout.GridContainerLite.superclass.getChildren.call(this),_cb5=_cb4.length,_cb6;for(var i=0;i<_cb5;i++){_cb6=_cb4[i];try{this._insertChild(_cb6,_cb6.column-1);}catch(e){console.error("Unable to insert child in GridContainer",e);}}},_insertChild:function(_cb7,_cb8,p){var zone=this._grid[_cb8].node,_cb9=zone.childNodes.length;if(typeof p==="undefined"||p>_cb9){p=_cb9;}if(this._disabled){_c94.place(_cb7.domNode,zone,p);_c95.set(_cb7.domNode,"tabIndex","0");}else{if(!_cb7.dragRestriction){this._dragManager.addDragItem(zone,_cb7.domNode,p,true);}else{_c94.place(_cb7.domNode,zone,p);_c95.set(_cb7.domNode,"tabIndex","0");}}_cb7.set("column",_cb8);return _cb7;},removeChild:function(_cba){if(this._disabled){this.inherited(arguments);}else{this._dragManager.removeDragItem(_cba.domNode.parentNode,_cba.domNode);}},addService:function(_cbb,_cbc,p){kernel.deprecated("addService is deprecated.","Please use  instead.","Future");this.addChild(_cbb,_cbc,p);},addChild:function(_cbd,_cbe,p){_cbd.domNode.id=_cbd.id;dojox.layout.GridContainerLite.superclass.addChild.call(this,_cbd,0);if(_cbe<0||_cbe===undefined){_cbe=0;}if(p<=0){p=0;}try{return this._insertChild(_cbd,_cbe,p);}catch(e){console.error("Unable to insert child in GridContainer",e);}return null;},_setColWidthsAttr:function(_cbf){this.colWidths=lang.isString(_cbf)?_cbf.split(","):(lang.isArray(_cbf)?_cbf:[_cbf]);if(this._started){this._updateColumnsWidth();}},_updateColumnsWidth:function(_cc0){var _cc1=this._grid.length;var _cc2=this._computeColWidth();for(var i=0;i<_cc1;i++){this._grid[i].node.style.width=_cc2[i]+"%";}},_computeColWidth:function(){var _cc3=this.colWidths||[];var _cc4=[];var _cc5;var _cc6=0;var i;for(i=0;i<this.nbZones;i++){if(_cc4.length<_cc3.length){_cc6+=_cc3[i]*1;_cc4.push(_cc3[i]);}else{if(!_cc5){_cc5=(100-_cc6)/(this.nbZones-i);if(_cc5<0){_cc5=100/this.nbZones;}}_cc4.push(_cc5);_cc6+=_cc5*1;}}if(_cc6>100){var _cc7=100/_cc6;for(i=0;i<_cc4.length;i++){_cc4[i]*=_cc7;}}return _cc4;},_selectFocus:function(_cc8){if(this._disabled){return;}var key=_cc8.keyCode,k=keys,zone=null,_cc9=_c9b.getFocus(),_cca=_cc9.node,m=this._dragManager,_ccb,i,j,r,_ccc,area,_ccd;if(_cca==this.containerNode){area=this.gridNode.childNodes;switch(key){case k.DOWN_ARROW:case k.RIGHT_ARROW:_ccb=false;for(i=0;i<area.length;i++){_ccc=area[i].childNodes;for(j=0;j<_ccc.length;j++){zone=_ccc[j];if(zone!==null&&zone.style.display!="none"){_c9a.focus(zone);_c97.stop(_cc8);_ccb=true;break;}}if(_ccb){break;}}break;case k.UP_ARROW:case k.LEFT_ARROW:area=this.gridNode.childNodes;_ccb=false;for(i=area.length-1;i>=0;i--){_ccc=area[i].childNodes;for(j=_ccc.length;j>=0;j--){zone=_ccc[j];if(zone!==null&&zone.style.display!="none"){_c9a.focus(zone);_c97.stop(_cc8);_ccb=true;break;}}if(_ccb){break;}}break;}}else{if(_cca.parentNode.parentNode==this.gridNode){var _cce=(key==k.UP_ARROW||key==k.LEFT_ARROW)?"lastChild":"firstChild";var pos=(key==k.UP_ARROW||key==k.LEFT_ARROW)?"previousSibling":"nextSibling";switch(key){case k.UP_ARROW:case k.DOWN_ARROW:_c97.stop(_cc8);_ccb=false;var _ccf=_cca;while(!_ccb){_ccc=_ccf.parentNode.childNodes;var num=0;for(i=0;i<_ccc.length;i++){if(_ccc[i].style.display!="none"){num++;}if(num>1){break;}}if(num==1){return;}if(_ccf[pos]===null){zone=_ccf.parentNode[_cce];}else{zone=_ccf[pos];}if(zone.style.display==="none"){_ccf=zone;}else{_ccb=true;}}if(_cc8.shiftKey){var _cd0=_cca.parentNode;for(i=0;i<this.gridNode.childNodes.length;i++){if(_cd0==this.gridNode.childNodes[i]){break;}}_ccc=this.gridNode.childNodes[i].childNodes;for(j=0;j<_ccc.length;j++){if(zone==_ccc[j]){break;}}if(has("mozilla")||has("webkit")){i--;}_ccd=_c99.byNode(_cca);if(!_ccd.dragRestriction){r=m.removeDragItem(_cd0,_cca);this.addChild(_ccd,i,j);_c95.set(_cca,"tabIndex","0");_c9a.focus(_cca);}else{_c98.publish("/dojox/layout/gridContainer/moveRestriction",this);}}else{_c9a.focus(zone);}break;case k.RIGHT_ARROW:case k.LEFT_ARROW:_c97.stop(_cc8);if(_cc8.shiftKey){var z=0;if(_cca.parentNode[pos]===null){if(has("ie")&&key==k.LEFT_ARROW){z=this.gridNode.childNodes.length-1;}}else{if(_cca.parentNode[pos].nodeType==3){z=this.gridNode.childNodes.length-2;}else{for(i=0;i<this.gridNode.childNodes.length;i++){if(_cca.parentNode[pos]==this.gridNode.childNodes[i]){break;}z++;}if(has("mozilla")||has("webkit")){z--;}}}_ccd=_c99.byNode(_cca);var _cd1=_cca.getAttribute("dndtype");if(_cd1===null){if(_ccd&&_ccd.dndType){_cd1=_ccd.dndType.split(/\s*,\s*/);}else{_cd1=["text"];}}else{_cd1=_cd1.split(/\s*,\s*/);}var _cd2=false;for(i=0;i<this.acceptTypes.length;i++){for(j=0;j<_cd1.length;j++){if(_cd1[j]==this.acceptTypes[i]){_cd2=true;break;}}}if(_cd2&&!_ccd.dragRestriction){var _cd3=_cca.parentNode,_cd4=0;if(k.LEFT_ARROW==key){var t=z;if(has("mozilla")||has("webkit")){t=z+1;}_cd4=this.gridNode.childNodes[t].childNodes.length;}r=m.removeDragItem(_cd3,_cca);this.addChild(_ccd,z,_cd4);_c95.set(r,"tabIndex","0");_c9a.focus(r);}else{_c98.publish("/dojox/layout/gridContainer/moveRestriction",this);}}else{var node=_cca.parentNode;while(zone===null){if(node[pos]!==null&&node[pos].nodeType!==3){node=node[pos];}else{if(pos==="previousSibling"){node=node.parentNode.childNodes[node.parentNode.childNodes.length-1];}else{node=node.parentNode.childNodes[has("ie")?0:1];}}zone=node[_cce];if(zone&&zone.style.display=="none"){_ccc=zone.parentNode.childNodes;var _cd5=null;if(pos=="previousSibling"){for(i=_ccc.length-1;i>=0;i--){if(_ccc[i].style.display!="none"){_cd5=_ccc[i];break;}}}else{for(i=0;i<_ccc.length;i++){if(_ccc[i].style.display!="none"){_cd5=_ccc[i];break;}}}if(!_cd5){_cca=zone;node=_cca.parentNode;zone=null;}else{zone=_cd5;}}}_c9a.focus(zone);}break;}}}},destroy:function(){var m=this._dragManager;_c96.forEach(this._grid,function(_cd6){m.unregister(_cd6.node);});this.inherited(arguments);}});gcl.ChildWidgetProperties={column:"1",dragRestriction:false};lang.extend(_c9c,gcl.ChildWidgetProperties);return gcl;});},"dojox/mdnd/AreaManager":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/connect","dojo/_base/window","dojo/_base/array","dojo/_base/sniff","dojo/_base/lang","dojo/query","dojo/topic","dojo/dom-class","dojo/dom-geometry","dojo/dom-construct","dijit/registry","dijit/_Widget","./Moveable"],function(dojo,_cd7,_cd8,win,_cd9,_cda,lang,_cdb,_cdc,_cdd,geom,_cde,_cdf,_ce0,_ce1){var am=_cd7("dojox.mdnd.AreaManager",null,{autoRefresh:true,areaClass:"dojoxDndArea",dragHandleClass:"dojoxDragHandle",constructor:function(){this._areaList=[];this.resizeHandler=_cd8.connect(dojo.global,"onresize",this,function(){this._dropMode.updateAreas(this._areaList);});this._oldIndexArea=this._currentIndexArea=this._oldDropIndex=this._currentDropIndex=this._sourceIndexArea=this._sourceDropIndex=-1;},init:function(){this.registerByClass();},registerByNode:function(area,_ce2){var _ce3=this._getIndexArea(area);if(area&&_ce3==-1){var _ce4=area.getAttribute("accept");var _ce5=(_ce4)?_ce4.split(/\s*,\s*/):["text"];var obj={"node":area,"items":[],"coords":{},"margin":null,"accept":_ce5,"initItems":false};_cd9.forEach(this._getChildren(area),function(item){this._setMarginArea(obj,item);obj.items.push(this._addMoveableItem(item));},this);this._areaList=this._dropMode.addArea(this._areaList,obj);if(!_ce2){this._dropMode.updateAreas(this._areaList);}_cd8.publish("/dojox/mdnd/manager/register",[area]);}},registerByClass:function(){_cdb("."+this.areaClass).forEach(function(area){this.registerByNode(area,true);},this);this._dropMode.updateAreas(this._areaList);},unregister:function(area){var _ce6=this._getIndexArea(area);if(_ce6!=-1){_cd9.forEach(this._areaList[_ce6].items,function(item){this._deleteMoveableItem(item);},this);this._areaList.splice(_ce6,1);this._dropMode.updateAreas(this._areaList);return true;}return false;},_addMoveableItem:function(node){node.setAttribute("tabIndex","0");var _ce7=this._searchDragHandle(node);var _ce8=new _ce1({"handle":_ce7,"skip":true},node);_cdd.add(_ce7||node,"dragHandle");var type=node.getAttribute("dndType");var item={"item":_ce8,"type":type?type.split(/\s*,\s*/):["text"],"handlers":[_cd8.connect(_ce8,"onDragStart",this,"onDragStart")]};if(_cdf&&_cdf.byNode){var _ce9=_cdf.byNode(node);if(_ce9){item.type=_ce9.dndType?_ce9.dndType.split(/\s*,\s*/):["text"];item.handlers.push(_cd8.connect(_ce9,"uninitialize",this,function(){this.removeDragItem(node.parentNode,_ce8.node);}));}}return item;},_deleteMoveableItem:function(_cea){_cd9.forEach(_cea.handlers,function(_ceb){_cd8.disconnect(_ceb);});var node=_cea.item.node,_cec=this._searchDragHandle(node);_cdd.remove(_cec||node,"dragHandle");_cea.item.destroy();},_getIndexArea:function(area){if(area){for(var i=0;i<this._areaList.length;i++){if(this._areaList[i].node===area){return i;}}}return -1;},_searchDragHandle:function(node){if(node){var _ced=this.dragHandleClass.split(" "),_cee=_ced.length,_cef="";_cd9.forEach(_ced,function(css,i){_cef+="."+css;if(i!=_cee-1){_cef+=", ";}});return _cdb(_cef,node)[0];}},addDragItem:function(area,node,_cf0,_cf1){var add=true;if(!_cf1){add=area&&node&&(node.parentNode===null||(node.parentNode&&node.parentNode.nodeType!==1));}if(add){var _cf2=this._getIndexArea(area);if(_cf2!==-1){var item=this._addMoveableItem(node),_cf3=this._areaList[_cf2].items;if(0<=_cf0&&_cf0<_cf3.length){var _cf4=_cf3.slice(0,_cf0),_cf5=_cf3.slice(_cf0,_cf3.length);_cf4[_cf4.length]=item;this._areaList[_cf2].items=_cf4.concat(_cf5);area.insertBefore(node,_cf3[_cf0].item.node);}else{this._areaList[_cf2].items.push(item);area.appendChild(node);}this._setMarginArea(this._areaList[_cf2],node);this._areaList[_cf2].initItems=false;return true;}}return false;},removeDragItem:function(area,node){var _cf6=this._getIndexArea(area);if(area&&_cf6!==-1){var _cf7=this._areaList[_cf6].items;for(var j=0;j<_cf7.length;j++){if(_cf7[j].item.node===node){this._deleteMoveableItem(_cf7[j]);_cf7.splice(j,1);return area.removeChild(node);}}}return null;},_getChildren:function(area){var _cf8=[];_cd9.forEach(area.childNodes,function(_cf9){if(_cf9.nodeType==1){if(_cdf&&_cdf.byNode){var _cfa=_cdf.byNode(_cf9);if(_cfa){if(!_cfa.dragRestriction){_cf8.push(_cf9);}}else{_cf8.push(_cf9);}}else{_cf8.push(_cf9);}}});return _cf8;},_setMarginArea:function(area,node){if(area&&area.margin===null&&node){area.margin=geom.getMarginExtents(node);}},findCurrentIndexArea:function(_cfb,size){this._oldIndexArea=this._currentIndexArea;this._currentIndexArea=this._dropMode.getTargetArea(this._areaList,_cfb,this._currentIndexArea);if(this._currentIndexArea!=this._oldIndexArea){if(this._oldIndexArea!=-1){this.onDragExit(_cfb,size);}if(this._currentIndexArea!=-1){this.onDragEnter(_cfb,size);}}return this._currentIndexArea;},_isAccepted:function(type,_cfc){this._accept=false;for(var i=0;i<_cfc.length;++i){for(var j=0;j<type.length;++j){if(type[j]==_cfc[i]){this._accept=true;break;}}}},onDragStart:function(node,_cfd,size){if(this.autoRefresh){this._dropMode.updateAreas(this._areaList);}var _cfe=(_cda("webkit"))?dojo.body():dojo.body().parentNode;if(!this._cover){this._cover=_cde.create("div",{"class":"dndCover"});this._cover2=lang.clone(this._cover);_cdd.add(this._cover2,"dndCover2");}var h=_cfe.scrollHeight+"px";this._cover.style.height=this._cover2.style.height=h;dojo.body().appendChild(this._cover);dojo.body().appendChild(this._cover2);this._dragStartHandler=_cd8.connect(node.ownerDocument,"ondragstart",dojo,"stopEvent");this._sourceIndexArea=this._lastValidIndexArea=this._currentIndexArea=this._getIndexArea(node.parentNode);var _cff=this._areaList[this._sourceIndexArea];var _d00=_cff.items;for(var i=0;i<_d00.length;i++){if(_d00[i].item.node==node){this._dragItem=_d00[i];this._dragItem.handlers.push(_cd8.connect(this._dragItem.item,"onDrag",this,"onDrag"));this._dragItem.handlers.push(_cd8.connect(this._dragItem.item,"onDragEnd",this,"onDrop"));_d00.splice(i,1);this._currentDropIndex=this._sourceDropIndex=i;break;}}var _d01=null;if(this._sourceDropIndex!==_cff.items.length){_d01=_cff.items[this._sourceDropIndex].item.node;}if(_cda("ie")>7){this._eventsIE7=[_cd8.connect(this._cover,"onmouseover",dojo,"stopEvent"),_cd8.connect(this._cover,"onmouseout",dojo,"stopEvent"),_cd8.connect(this._cover,"onmouseenter",dojo,"stopEvent"),_cd8.connect(this._cover,"onmouseleave",dojo,"stopEvent")];}var s=node.style;s.left=_cfd.x+"px";s.top=_cfd.y+"px";if(s.position=="relative"||s.position==""){s.position="absolute";}this._cover.appendChild(node);this._dropIndicator.place(_cff.node,_d01,size);_cdd.add(node,"dragNode");this._accept=true;_cd8.publish("/dojox/mdnd/drag/start",[node,_cff,this._sourceDropIndex]);},onDragEnter:function(_d02,size){if(this._currentIndexArea===this._sourceIndexArea){this._accept=true;}else{this._isAccepted(this._dragItem.type,this._areaList[this._currentIndexArea].accept);}},onDragExit:function(_d03,size){this._accept=false;},onDrag:function(node,_d04,size,_d05){var _d06=this._dropMode.getDragPoint(_d04,size,_d05);this.findCurrentIndexArea(_d06,size);if(this._currentIndexArea!==-1&&this._accept){this.placeDropIndicator(_d06,size);}},placeDropIndicator:function(_d07,size){this._oldDropIndex=this._currentDropIndex;var area=this._areaList[this._currentIndexArea];if(!area.initItems){this._dropMode.initItems(area);}this._currentDropIndex=this._dropMode.getDropIndex(area,_d07);if(!(this._currentIndexArea===this._oldIndexArea&&this._oldDropIndex===this._currentDropIndex)){this._placeDropIndicator(size);}return this._currentDropIndex;},_placeDropIndicator:function(size){var _d08=this._areaList[this._lastValidIndexArea];var _d09=this._areaList[this._currentIndexArea];this._dropMode.refreshItems(_d08,this._oldDropIndex,size,false);var node=null;if(this._currentDropIndex!=-1){node=_d09.items[this._currentDropIndex].item.node;}this._dropIndicator.place(_d09.node,node);this._lastValidIndexArea=this._currentIndexArea;this._dropMode.refreshItems(_d09,this._currentDropIndex,size,true);},onDropCancel:function(){if(!this._accept){var _d0a=this._getIndexArea(this._dropIndicator.node.parentNode);if(_d0a!=-1){this._currentIndexArea=_d0a;}else{this._currentIndexArea=0;}}},onDrop:function(node){this.onDropCancel();var _d0b=this._areaList[this._currentIndexArea];_cdd.remove(node,"dragNode");var _d0c=node.style;_d0c.position="relative";_d0c.left="0";_d0c.top="0";_d0c.width="auto";if(_d0b.node==this._dropIndicator.node.parentNode){_d0b.node.insertBefore(node,this._dropIndicator.node);}else{_d0b.node.appendChild(node);this._currentDropIndex=_d0b.items.length;}var _d0d=this._currentDropIndex;if(_d0d==-1){_d0d=_d0b.items.length;}var _d0e=_d0b.items;var _d0f=_d0e.slice(0,_d0d);var _d10=_d0e.slice(_d0d,_d0e.length);_d0f[_d0f.length]=this._dragItem;_d0b.items=_d0f.concat(_d10);this._setMarginArea(_d0b,node);_cd9.forEach(this._areaList,function(obj){obj.initItems=false;});_cd8.disconnect(this._dragItem.handlers.pop());_cd8.disconnect(this._dragItem.handlers.pop());this._resetAfterDrop();if(this._cover){dojo.body().removeChild(this._cover);dojo.body().removeChild(this._cover2);}_cd8.publish("/dojox/mdnd/drop",[node,_d0b,_d0d]);},_resetAfterDrop:function(){this._accept=false;this._dragItem=null;this._currentDropIndex=-1;this._currentIndexArea=-1;this._oldDropIndex=-1;this._sourceIndexArea=-1;this._sourceDropIndex=-1;this._dropIndicator.remove();if(this._dragStartHandler){_cd8.disconnect(this._dragStartHandler);}if(_cda("ie")>7){_cd9.forEach(this._eventsIE7,_cd8.disconnect);}},destroy:function(){while(this._areaList.length>0){if(!this.unregister(this._areaList[0].node)){throw new Error("Error while destroying AreaManager");}}_cd8.disconnect(this.resizeHandler);this._dropIndicator.destroy();this._dropMode.destroy();if(dojox.mdnd.autoScroll){dojox.mdnd.autoScroll.destroy();}if(this.refreshListener){_cd8.unsubscribe(this.refreshListener);}if(this._cover){_cde.destroy(this._cover);_cde.destroy(this._cover2);delete this._cover;delete this._cover2;}}});if(_ce0){lang.extend(_ce0,{dndType:"text"});}dojox.mdnd._areaManager=null;dojox.mdnd.areaManager=function(){if(!dojox.mdnd._areaManager){dojox.mdnd._areaManager=new dojox.mdnd.AreaManager();}return dojox.mdnd._areaManager;};return am;});},"dojox/mdnd/Moveable":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/connect","dojo/_base/event","dojo/_base/sniff","dojo/dom","dojo/dom-geometry","dojo/dom-style","dojo/_base/window"],function(dojo,_d11,_d12,_d13,_d14,_d15,dom,geom,_d16){return _d11("dojox.mdnd.Moveable",null,{handle:null,skip:true,dragDistance:3,constructor:function(_d17,node){this.node=dom.byId(node);this.d=this.node.ownerDocument;if(!_d17){_d17={};}this.handle=_d17.handle?dom.byId(_d17.handle):null;if(!this.handle){this.handle=this.node;}this.skip=_d17.skip;this.events=[_d13.connect(this.handle,"onmousedown",this,"onMouseDown")];if(dojox.mdnd.autoScroll){this.autoScroll=dojox.mdnd.autoScroll;}},isFormElement:function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " a button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;},onMouseDown:function(e){if(this._isDragging){return;}var _d18=(e.which||e.button)==1;if(!_d18){return;}if(this.skip&&this.isFormElement(e)){return;}if(this.autoScroll){this.autoScroll.setAutoScrollNode(this.node);this.autoScroll.setAutoScrollMaxPage();}this.events.push(_d13.connect(this.d,"onmouseup",this,"onMouseUp"));this.events.push(_d13.connect(this.d,"onmousemove",this,"onFirstMove"));this._selectStart=_d13.connect(dojo.body(),"onselectstart",_d14.stop);this._firstX=e.clientX;this._firstY=e.clientY;_d14.stop(e);},onFirstMove:function(e){_d14.stop(e);var d=(this._firstX-e.clientX)*(this._firstX-e.clientX)+(this._firstY-e.clientY)*(this._firstY-e.clientY);if(d>this.dragDistance*this.dragDistance){this._isDragging=true;_d13.disconnect(this.events.pop());_d16.set(this.node,"width",geom.getContentBox(this.node).w+"px");this.initOffsetDrag(e);this.events.push(_d13.connect(this.d,"onmousemove",this,"onMove"));}},initOffsetDrag:function(e){this.offsetDrag={"l":e.pageX,"t":e.pageY};var s=this.node.style;var _d19=geom.position(this.node,true);this.offsetDrag.l=_d19.x-this.offsetDrag.l;this.offsetDrag.t=_d19.y-this.offsetDrag.t;var _d1a={"x":_d19.x,"y":_d19.y};this.size={"w":_d19.w,"h":_d19.h};this.onDragStart(this.node,_d1a,this.size);},onMove:function(e){_d14.stop(e);if(_d15("ie")==8&&new Date()-this.date<20){return;}if(this.autoScroll){this.autoScroll.checkAutoScroll(e);}var _d1b={"x":this.offsetDrag.l+e.pageX,"y":this.offsetDrag.t+e.pageY};var s=this.node.style;s.left=_d1b.x+"px";s.top=_d1b.y+"px";this.onDrag(this.node,_d1b,this.size,{"x":e.pageX,"y":e.pageY});if(_d15("ie")==8){this.date=new Date();}},onMouseUp:function(e){if(this._isDragging){_d14.stop(e);this._isDragging=false;if(this.autoScroll){this.autoScroll.stopAutoScroll();}delete this.onMove;this.onDragEnd(this.node);this.node.focus();}_d13.disconnect(this.events.pop());_d13.disconnect(this.events.pop());},onDragStart:function(node,_d1c,size){},onDragEnd:function(node){},onDrag:function(node,_d1d,size,_d1e){},destroy:function(){_d12.forEach(this.events,_d13.disconnect);this.events=this.node=null;}});});},"dojox/mdnd/DropIndicator":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","./AreaManager"],function(dojo,_d1f,_d20,_d21){var di=_d1f("dojox.mdnd.DropIndicator",null,{node:null,constructor:function(){var _d22=document.createElement("div");var _d23=document.createElement("div");_d22.appendChild(_d23);_d20.add(_d22,"dropIndicator");this.node=_d22;},place:function(area,_d24,size){if(size){this.node.style.height=size.h+"px";}try{if(_d24){area.insertBefore(this.node,_d24);}else{area.appendChild(this.node);}return this.node;}catch(e){return null;}},remove:function(){if(this.node){this.node.style.height="";if(this.node.parentNode){this.node.parentNode.removeChild(this.node);}}},destroy:function(){if(this.node){if(this.node.parentNode){this.node.parentNode.removeChild(this.node);}_d21.destroy(this.node);delete this.node;}}});dojox.mdnd.areaManager()._dropIndicator=new dojox.mdnd.DropIndicator();return di;});},"dojox/mdnd/dropMode/OverDropMode":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/connect","dojo/_base/array","dojo/dom-geometry","dojox/mdnd/AreaManager"],function(dojo,_d25,_d26,_d27,geom){var odm=_d25("dojox.mdnd.dropMode.OverDropMode",null,{_oldXPoint:null,_oldYPoint:null,_oldBehaviour:"up",constructor:function(){this._dragHandler=[_d26.connect(dojox.mdnd.areaManager(),"onDragEnter",function(_d28,size){var m=dojox.mdnd.areaManager();if(m._oldIndexArea==-1){m._oldIndexArea=m._lastValidIndexArea;}})];},addArea:function(_d29,_d2a){var _d2b=_d29.length,_d2c=geom.position(_d2a.node,true);_d2a.coords={"x":_d2c.x,"y":_d2c.y};if(_d2b==0){_d29.push(_d2a);}else{var x=_d2a.coords.x;for(var i=0;i<_d2b;i++){if(x<_d29[i].coords.x){for(var j=_d2b-1;j>=i;j--){_d29[j+1]=_d29[j];}_d29[i]=_d2a;break;}}if(i==_d2b){_d29.push(_d2a);}}return _d29;},updateAreas:function(_d2d){var _d2e=_d2d.length;for(var i=0;i<_d2e;i++){this._updateArea(_d2d[i]);}},_updateArea:function(area){var _d2f=geom.position(area.node,true);area.coords.x=_d2f.x;area.coords.x2=_d2f.x+_d2f.w;area.coords.y=_d2f.y;},initItems:function(area){_d27.forEach(area.items,function(obj){var node=obj.item.node;var _d30=geom.position(node,true);var y=_d30.y+_d30.h/2;obj.y=y;});area.initItems=true;},refreshItems:function(area,_d31,size,_d32){if(_d31==-1){return;}else{if(area&&size&&size.h){var _d33=size.h;if(area.margin){_d33+=area.margin.t;}var _d34=area.items.length;for(var i=_d31;i<_d34;i++){var item=area.items[i];if(_d32){item.y+=_d33;}else{item.y-=_d33;}}}}},getDragPoint:function(_d35,size,_d36){return {"x":_d36.x,"y":_d36.y};},getTargetArea:function(_d37,_d38,_d39){var _d3a=0;var x=_d38.x;var y=_d38.y;var end=_d37.length;var _d3b=0,_d3c="right",_d3d=false;if(_d39==-1||arguments.length<3){_d3d=true;}else{if(this._checkInterval(_d37,_d39,x,y)){_d3a=_d39;}else{if(this._oldXPoint<x){_d3b=_d39+1;}else{_d3b=_d39-1;end=0;_d3c="left";}_d3d=true;}}if(_d3d){if(_d3c==="right"){for(var i=_d3b;i<end;i++){if(this._checkInterval(_d37,i,x,y)){_d3a=i;break;}}if(i==end){_d3a=-1;}}else{for(var i=_d3b;i>=end;i--){if(this._checkInterval(_d37,i,x,y)){_d3a=i;break;}}if(i==end-1){_d3a=-1;}}}this._oldXPoint=x;return _d3a;},_checkInterval:function(_d3e,_d3f,x,y){var area=_d3e[_d3f];var node=area.node;var _d40=area.coords;var _d41=_d40.x;var endX=_d40.x2;var _d42=_d40.y;var endY=_d42+node.offsetHeight;if(_d41<=x&&x<=endX&&_d42<=y&&y<=endY){return true;}return false;},getDropIndex:function(_d43,_d44){var _d45=_d43.items.length;var _d46=_d43.coords;var y=_d44.y;if(_d45>0){for(var i=0;i<_d45;i++){if(y<_d43.items[i].y){return i;}else{if(i==_d45-1){return -1;}}}}return -1;},destroy:function(){_d27.forEach(this._dragHandler,_d26.disconnect);}});dojox.mdnd.areaManager()._dropMode=new dojox.mdnd.dropMode.OverDropMode();return odm;});},"dojox/mdnd/AutoScroll":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/connect","dojo/_base/sniff","dojo/ready","dojo/_base/window"],function(dojo,_d47,lang,_d48,_d49,_d4a){var as=_d47("dojox.mdnd.AutoScroll",null,{interval:3,recursiveTimer:10,marginMouse:50,constructor:function(){this.resizeHandler=_d48.connect(dojo.global,"onresize",this,function(){this.getViewport();});_d4a(lang.hitch(this,"init"));},init:function(){this._html=(_d49("webkit"))?dojo.body():dojo.body().parentNode;this.getViewport();},getViewport:function(){var d=dojo.doc,dd=d.documentElement,w=window,b=dojo.body();if(dojo.isMozilla){this._v={"w":dd.clientWidth,"h":w.innerHeight};}else{if(!dojo.isOpera&&w.innerWidth){this._v={"w":w.innerWidth,"h":w.innerHeight};}else{if(!dojo.isOpera&&dd&&dd.clientWidth){this._v={"w":dd.clientWidth,"h":dd.clientHeight};}else{if(b.clientWidth){this._v={"w":b.clientWidth,"h":b.clientHeight};}}}}},setAutoScrollNode:function(node){this._node=node;},setAutoScrollMaxPage:function(){this._yMax=this._html.scrollHeight;this._xMax=this._html.scrollWidth;},checkAutoScroll:function(e){if(this._autoScrollActive){this.stopAutoScroll();}this._y=e.pageY;this._x=e.pageX;if(e.clientX<this.marginMouse){this._autoScrollActive=true;this._autoScrollLeft(e);}else{if(e.clientX>this._v.w-this.marginMouse){this._autoScrollActive=true;this._autoScrollRight(e);}}if(e.clientY<this.marginMouse){this._autoScrollActive=true;this._autoScrollUp(e);}else{if(e.clientY>this._v.h-this.marginMouse){this._autoScrollActive=true;this._autoScrollDown();}}},_autoScrollDown:function(){if(this._timer){clearTimeout(this._timer);}if(this._autoScrollActive&&this._y+this.marginMouse<this._yMax){this._html.scrollTop+=this.interval;this._node.style.top=(parseInt(this._node.style.top)+this.interval)+"px";this._y+=this.interval;this._timer=setTimeout(lang.hitch(this,"_autoScrollDown"),this.recursiveTimer);}},_autoScrollUp:function(){if(this._timer){clearTimeout(this._timer);}if(this._autoScrollActive&&this._y-this.marginMouse>0){this._html.scrollTop-=this.interval;this._node.style.top=(parseInt(this._node.style.top)-this.interval)+"px";this._y-=this.interval;this._timer=setTimeout(lang.hitch(this,"_autoScrollUp"),this.recursiveTimer);}},_autoScrollRight:function(){if(this._timer){clearTimeout(this._timer);}if(this._autoScrollActive&&this._x+this.marginMouse<this._xMax){this._html.scrollLeft+=this.interval;this._node.style.left=(parseInt(this._node.style.left)+this.interval)+"px";this._x+=this.interval;this._timer=setTimeout(lang.hitch(this,"_autoScrollRight"),this.recursiveTimer);}},_autoScrollLeft:function(e){if(this._timer){clearTimeout(this._timer);}if(this._autoScrollActive&&this._x-this.marginMouse>0){this._html.scrollLeft-=this.interval;this._node.style.left=(parseInt(this._node.style.left)-this.interval)+"px";this._x-=this.interval;this._timer=setTimeout(lang.hitch(this,"_autoScrollLeft"),this.recursiveTimer);}},stopAutoScroll:function(){if(this._timer){clearTimeout(this._timer);}this._autoScrollActive=false;},destroy:function(){_d48.disconnect(this.resizeHandler);}});dojox.mdnd.autoScroll=null;dojox.mdnd.autoScroll=new dojox.mdnd.AutoScroll();return as;});},"dojox/layout/TableContainer":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/_base/array","dojo/dom-prop","dojo/dom-style","dijit/_WidgetBase","dijit/layout/_LayoutWidget"],function(_d4b,lang,_d4c,_d4d,_d4e,_d4f,_d50,_d51,_d52,_d53){_d4b.experimental("dojox.layout.TableContainer");var _d54=_d4c("dojox.layout.TableContainer",_d53,{cols:1,labelWidth:"100",showLabels:true,orientation:"horiz",spacing:1,customClass:"",postCreate:function(){this.inherited(arguments);this._children=[];this.connect(this,"set",function(name,_d55){if(_d55&&(name=="orientation"||name=="customClass"||name=="cols")){this.layout();}});},startup:function(){if(this._started){return;}this.inherited(arguments);if(this._initialized){return;}var _d56=this.getChildren();if(_d56.length<1){return;}this._initialized=true;_d4d.add(this.domNode,"dijitTableLayout");_d4f.forEach(_d56,function(_d57){if(!_d57.started&&!_d57._started){_d57.startup();}});this.layout();this.resize();},resize:function(){_d4f.forEach(this.getChildren(),function(_d58){if(typeof _d58.resize=="function"){_d58.resize();}});},layout:function(){if(!this._initialized){return;}var _d59=this.getChildren();var _d5a={};var _d5b=this;function _d5c(node,type,_d5d){if(_d5b.customClass!=""){var _d5e=_d5b.customClass+"-"+(type||node.tagName.toLowerCase());_d4d.add(node,_d5e);if(arguments.length>2){_d4d.add(node,_d5e+"-"+_d5d);}}};_d4f.forEach(this._children,lang.hitch(this,function(_d5f){_d5a[_d5f.id]=_d5f;}));_d4f.forEach(_d59,lang.hitch(this,function(_d60,_d61){if(!_d5a[_d60.id]){this._children.push(_d60);}}));var _d62=_d4e.create("table",{"width":"100%","class":"tableContainer-table tableContainer-table-"+this.orientation,"cellspacing":this.spacing},this.domNode);var _d63=_d4e.create("tbody");_d62.appendChild(_d63);_d5c(_d62,"table",this.orientation);var _d64=Math.floor(100/this.cols)+"%";var _d65=_d4e.create("tr",{},_d63);var _d66=(!this.showLabels||this.orientation=="horiz")?_d65:_d4e.create("tr",{},_d63);var _d67=this.cols*(this.showLabels?2:1);var _d68=0;_d4f.forEach(this._children,lang.hitch(this,function(_d69,_d6a){var _d6b=_d69.colspan||1;if(_d6b>1){_d6b=this.showLabels?Math.min(_d67-1,_d6b*2-1):Math.min(_d67,_d6b);}if(_d68+_d6b-1+(this.showLabels?1:0)>=_d67){_d68=0;_d65=_d4e.create("tr",{},_d63);_d66=this.orientation=="horiz"?_d65:_d4e.create("tr",{},_d63);}var _d6c;if(this.showLabels){_d6c=_d4e.create("td",{"class":"tableContainer-labelCell"},_d65);if(_d69.spanLabel){_d50.set(_d6c,this.orientation=="vert"?"rowspan":"colspan",2);}else{_d5c(_d6c,"labelCell");var _d6d={"for":_d69.get("id")};var _d6e=_d4e.create("label",_d6d,_d6c);if(Number(this.labelWidth)>-1||String(this.labelWidth).indexOf("%")>-1){_d51.set(_d6c,"width",String(this.labelWidth).indexOf("%")<0?this.labelWidth+"px":this.labelWidth);}_d6e.innerHTML=_d69.get("label")||_d69.get("title");}}var _d6f;if(_d69.spanLabel&&_d6c){_d6f=_d6c;}else{_d6f=_d4e.create("td",{"class":"tableContainer-valueCell"},_d66);}if(_d6b>1){_d50.set(_d6f,"colspan",_d6b);}_d5c(_d6f,"valueCell",_d6a);_d6f.appendChild(_d69.domNode);_d68+=_d6b+(this.showLabels?1:0);}));if(this.table){this.table.parentNode.removeChild(this.table);}_d4f.forEach(_d59,function(_d70){if(typeof _d70.layout=="function"){_d70.layout();}});this.table=_d62;this.resize();},destroyDescendants:function(_d71){_d4f.forEach(this._children,function(_d72){_d72.destroyRecursive(_d71);});},_setSpacingAttr:function(_d73){this.spacing=_d73;if(this.table){this.table.cellspacing=Number(_d73);}}});_d54.ChildWidgetProperties={label:"",title:"",spanLabel:false,colspan:1};lang.extend(_d52,_d54.ChildWidgetProperties);return _d54;});},"dojox/layout/ContentPane":function(){define(["dojo/_base/lang","dojo/_base/xhr","dijit/layout/ContentPane","dojox/html/_base","dojo/_base/declare"],function(lang,_d74,_d75,_d76,_d77){return _d77("dojox.layout.ContentPane",_d75,{adjustPaths:false,cleanContent:false,renderStyles:false,executeScripts:true,scriptHasHooks:false,ioMethod:_d74.get,ioArgs:{},onExecError:function(e){},_setContent:function(cont){var _d78=this._contentSetter;if(!(_d78&&_d78 instanceof _d76._ContentSetter)){_d78=this._contentSetter=new _d76._ContentSetter({node:this.containerNode,_onError:lang.hitch(this,this._onError),onContentError:lang.hitch(this,function(e){var _d79=this.onContentError(e);try{this.containerNode.innerHTML=_d79;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}this._contentSetterParams={adjustPaths:Boolean(this.adjustPaths&&(this.href||this.referencePath)),referencePath:this.href||this.referencePath,renderStyles:this.renderStyles,executeScripts:this.executeScripts,scriptHasHooks:this.scriptHasHooks,scriptHookReplacement:"dijit.byId('"+this.id+"')"};return this.inherited("_setContent",arguments);},destroy:function(){var _d7a=this._contentSetter;if(_d7a){_d7a.tearDown();}this.inherited(arguments);}});});},"dojox/html/_base":function(){define(["dojo/_base/declare","dojo/Deferred","dojo/dom-construct","dojo/html","dojo/_base/kernel","dojo/_base/lang","dojo/ready","dojo/_base/sniff","dojo/_base/url","dojo/_base/xhr","dojo/when","dojo/_base/window"],function(_d7b,_d7c,_d7d,_d7e,_d7f,lang,_d80,has,_d81,_d82,when,_d83){var html=_d7f.getObject("dojox.html",true);if(has("ie")){var _d84=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;}var _d85=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g;var _d86=html._adjustCssPaths=function(_d87,_d88){if(!_d88||!_d87){return;}if(_d84){_d88=_d88.replace(_d84,function(_d89,pre,_d8a,url,post){return pre+(new _d81(_d87,"./"+url).toString())+post;});}return _d88.replace(_d85,function(_d8b,_d8c,_d8d,_d8e,_d8f,_d90){if(_d8d){return "@import \""+(new _d81(_d87,"./"+_d8d).toString())+"\""+_d90;}else{return "url("+(new _d81(_d87,"./"+_d8f).toString())+")"+_d90;}});};var _d91=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi;var _d92=html._adjustHtmlPaths=function(_d93,cont){var url=_d93||"./";return cont.replace(_d91,function(tag,_d94,name,_d95,_d96,_d97,_d98,end){return _d94+(name?(name+"="+_d95+(new _d81(url,_d96).toString())+_d95):("style="+_d97+_d86(url,_d98)+_d97))+end;});};var _d99=html._snarfStyles=function(_d9a,cont,_d9b){_d9b.attributes=[];cont=cont.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(_d9c){return _d9c.replace(/<(\/?)style\b/ig,"&lt;$1Style").replace(/<(\/?)link\b/ig,"&lt;$1Link").replace(/@import "/ig,"@ import \"");});return cont.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(_d9d,_d9e,_d9f,_da0,_da1,href){var i,attr=(_d9e||_da0||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");if(_d9f){i=_d9b.push(_d9a?_d86(_d9a,_d9f):_d9f);}else{i=_d9b.push("@import \""+href+"\";");attr=attr.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,"");}if(attr){attr=attr.split(/\s+/);var _da2={},tmp;for(var j=0,e=attr.length;j<e;j++){tmp=attr[j].split("=");_da2[tmp[0]]=tmp[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");}_d9b.attributes[i-1]=_da2;}return "";});};var _da3=html._snarfScripts=function(cont,_da4){_da4.code="";cont=cont.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(_da5){return _da5.replace(/<(\/?)script\b/ig,"&lt;$1Script");});function _da6(src){if(_da4.downloadRemote){src=src.replace(/&([a-z0-9#]+);/g,function(m,name){switch(name){case "amp":return "&";case "gt":return ">";case "lt":return "<";default:return name.charAt(0)=="#"?String.fromCharCode(name.substring(1)):"&"+name+";";}});_d82.get({url:src,sync:true,load:function(code){_da4.code+=code+";";},error:_da4.errBack});}};return cont.replace(/<script\s*(?![^>]*type=['"]?(?:dojo\/|text\/html\b))[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?>([\s\S]*?)<\/script>/gi,function(_da7,_da8,src,code){if(src){_da6(src);}else{_da4.code+=code;}return "";});};var _da9=html.evalInGlobal=function(code,_daa){_daa=_daa||_d83.doc.body;var n=_daa.ownerDocument.createElement("script");n.type="text/javascript";_daa.appendChild(n);n.text=code;};html._ContentSetter=_d7b(_d7e._ContentSetter,{adjustPaths:false,referencePath:".",renderStyles:false,executeScripts:false,scriptHasHooks:false,scriptHookReplacement:null,_renderStyles:function(_dab){this._styleNodes=[];var st,att,_dac,doc=this.node.ownerDocument;var head=doc.getElementsByTagName("head")[0];for(var i=0,e=_dab.length;i<e;i++){_dac=_dab[i];att=_dab.attributes[i];st=doc.createElement("style");st.setAttribute("type","text/css");for(var x in att){st.setAttribute(x,att[x]);}this._styleNodes.push(st);head.appendChild(st);if(st.styleSheet){st.styleSheet.cssText=_dac;}else{st.appendChild(doc.createTextNode(_dac));}}},empty:function(){this.inherited("empty",arguments);this._styles=[];},onBegin:function(){this.inherited("onBegin",arguments);var cont=this.content,node=this.node;var _dad=this._styles;if(lang.isString(cont)){if(this.adjustPaths&&this.referencePath){cont=_d92(this.referencePath,cont);}if(this.renderStyles||this.cleanContent){cont=_d99(this.referencePath,cont,_dad);}if(this.executeScripts){var _dae=this;var _daf={downloadRemote:true,errBack:function(e){_dae._onError.call(_dae,"Exec","Error downloading remote script in \""+_dae.id+"\"",e);}};cont=_da3(cont,_daf);this._code=_daf.code;}}this.content=cont;},onEnd:function(){var code=this._code,_db0=this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){_d7d.destroy(this._styleNodes.pop());}}if(this.renderStyles&&_db0&&_db0.length){this._renderStyles(_db0);}var d=new _d7c();var _db1=this.getInherited(arguments),args=arguments,_db2=lang.hitch(this,function(){_db1.apply(this,args);when(this.parseDeferred,function(){d.resolve();});});if(this.executeScripts&&code){if(this.cleanContent){code=code.replace(/(<!--|(?:\/\/)?-->|<!\[CDATA\[|\]\]>)/g,"");}if(this.scriptHasHooks){code=code.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement);}try{_da9(code,this.node);}catch(e){this._onError("Exec","Error eval script in "+this.id+", "+e.message,e);}_d80(_db2);}else{_db2();}return d.promise;},tearDown:function(){this.inherited(arguments);delete this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){_d7d.destroy(this._styleNodes.pop());}}delete this._styleNodes;lang.mixin(this,html._ContentSetter.prototype);}});html.set=function(node,cont,_db3){if(!_db3){return _d7e._setNodeContent(node,cont,true);}else{var op=new html._ContentSetter(lang.mixin(_db3,{content:cont,node:node}));return op.set();}};return html;});},"dojox/mdnd/dropMode/DefaultDropMode":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/dom-geometry","dojox/mdnd/AreaManager"],function(dojo,_db4,_db5,geom){var ddm=_db4("dojox.mdnd.dropMode.DefaultDropMode",null,{_oldXPoint:null,_oldYPoint:null,_oldBehaviour:"up",addArea:function(_db6,_db7){var _db8=_db6.length;var _db9=geom.position(_db7.node,true);_db7.coords={"x":_db9.x,"y":_db9.y};if(_db8==0){_db6.push(_db7);}else{var x=_db7.coords.x;for(var i=0;i<_db8;i++){if(x<_db6[i].coords.x){for(var j=_db8-1;j>=i;j--){_db6[j+1]=_db6[j];}_db6[i]=_db7;break;}}if(i==_db8){_db6.push(_db7);}}return _db6;},updateAreas:function(_dba){var _dbb=_dba.length;if(_dbb>1){var _dbc,_dbd;for(var i=0;i<_dbb;i++){var area=_dba[i];var _dbe;area.coords.x1=-1;area.coords.x2=-1;if(i==0){_dbe=_dba[i+1];this._updateArea(area);this._updateArea(_dbe);_dbc=area.coords.x+area.node.offsetWidth;_dbd=_dbe.coords.x;area.coords.x2=_dbc+(_dbd-_dbc)/2;}else{if(i==_dbb-1){area.coords.x1=_dba[i-1].coords.x2;}else{_dbe=_dba[i+1];this._updateArea(_dbe);_dbc=area.coords.x+area.node.offsetWidth;_dbd=_dbe.coords.x;area.coords.x1=_dba[i-1].coords.x2;area.coords.x2=_dbc+(_dbd-_dbc)/2;}}}}},_updateArea:function(area){var _dbf=geom.position(area.node,true);area.coords.x=_dbf.x;area.coords.y=_dbf.y;},initItems:function(area){_db5.forEach(area.items,function(obj){var node=obj.item.node;var _dc0=geom.position(node,true);var y=_dc0.y+_dc0.h/2;obj.y=y;});area.initItems=true;},refreshItems:function(area,_dc1,size,_dc2){if(_dc1==-1){return;}else{if(area&&size&&size.h){var _dc3=size.h;if(area.margin){_dc3+=area.margin.t;}var _dc4=area.items.length;for(var i=_dc1;i<_dc4;i++){var item=area.items[i];if(_dc2){item.y+=_dc3;}else{item.y-=_dc3;}}}}},getDragPoint:function(_dc5,size,_dc6){var y=_dc5.y;if(this._oldYPoint){if(y>this._oldYPoint){this._oldBehaviour="down";y+=size.h;}else{if(y<=this._oldYPoint){this._oldBehaviour="up";}}}this._oldYPoint=y;return {"x":_dc5.x+(size.w/2),"y":y};},getTargetArea:function(_dc7,_dc8,_dc9){var _dca=0;var x=_dc8.x;var end=_dc7.length;if(end>1){var _dcb=0,_dcc="right",_dcd=false;if(_dc9==-1||arguments.length<3){_dcd=true;}else{if(this._checkInterval(_dc7,_dc9,x)){_dca=_dc9;}else{if(this._oldXPoint<x){_dcb=_dc9+1;}else{_dcb=_dc9-1;end=0;_dcc="left";}_dcd=true;}}if(_dcd){if(_dcc==="right"){for(var i=_dcb;i<end;i++){if(this._checkInterval(_dc7,i,x)){_dca=i;break;}}}else{for(var i=_dcb;i>=end;i--){if(this._checkInterval(_dc7,i,x)){_dca=i;break;}}}}}this._oldXPoint=x;return _dca;},_checkInterval:function(_dce,_dcf,x){var _dd0=_dce[_dcf].coords;if(_dd0.x1==-1){if(x<=_dd0.x2){return true;}}else{if(_dd0.x2==-1){if(x>_dd0.x1){return true;}}else{if(_dd0.x1<x&&x<=_dd0.x2){return true;}}}return false;},getDropIndex:function(_dd1,_dd2){var _dd3=_dd1.items.length;var _dd4=_dd1.coords;var y=_dd2.y;if(_dd3>0){for(var i=0;i<_dd3;i++){if(y<_dd1.items[i].y){return i;}else{if(i==_dd3-1){return -1;}}}}return -1;},destroy:function(){}});dojox.mdnd.areaManager()._dropMode=new dojox.mdnd.dropMode.DefaultDropMode();return ddm;});},"dojox/storage/Provider":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(_dd5,_dd6,lang){return _dd6("dojox.storage.Provider",null,{constructor:function(){},SUCCESS:"success",FAILED:"failed",PENDING:"pending",SIZE_NOT_AVAILABLE:"Size not available",SIZE_NO_LIMIT:"No size limit",DEFAULT_NAMESPACE:"default",onHideSettingsUI:null,initialize:function(){},isAvailable:function(){},put:function(key,_dd7,_dd8,_dd9){},get:function(key,_dda){},hasKey:function(key,_ddb){return !!this.get(key,_ddb);},getKeys:function(_ddc){},clear:function(_ddd){},remove:function(key,_dde){},getNamespaces:function(){},isPermanent:function(){},getMaximumSize:function(){},putMultiple:function(keys,_ddf,_de0,_de1){for(var i=0;i<keys.length;i++){dojox.storage.put(keys[i],_ddf[i],_de0,_de1);}},getMultiple:function(keys,_de2){var _de3=[];for(var i=0;i<keys.length;i++){_de3.push(dojox.storage.get(keys[i],_de2));}return _de3;},removeMultiple:function(keys,_de4){for(var i=0;i<keys.length;i++){dojox.storage.remove(keys[i],_de4);}},isValidKeyArray:function(keys){if(keys===null||keys===undefined||!lang.isArray(keys)){return false;}return !_dd5.some(keys,function(key){return !this.isValidKey(key);},this);},hasSettingsUI:function(){return false;},showSettingsUI:function(){},hideSettingsUI:function(){},isValidKey:function(_de5){if(_de5===null||_de5===undefined){return false;}return /^[0-9A-Za-z_]*$/.test(_de5);},getResourceList:function(){return [];}});});},"dojox/storage/manager":function(){define(["dojo/_base/config","dojo/_base/lang","dojo/_base/array"],function(_de6,lang,_de7){var _de8=new function(){this.currentProvider=null;this.available=false;this.providers=[];this._initialized=false;this._onLoadListeners=[];this.initialize=function(){this.autodetect();};this.register=function(name,_de9){this.providers.push(_de9);this.providers[name]=_de9;};this.setProvider=function(_dea){};this.autodetect=function(){if(this._initialized){return;}var _deb=_de6["forceStorageProvider"]||false;var _dec;for(var i=0;i<this.providers.length;i++){_dec=this.providers[i];if(_deb&&_deb==_dec.declaredClass){_dec.isAvailable();break;}else{if(!_deb&&_dec.isAvailable()){break;}}}if(!_dec){this._initialized=true;this.available=false;this.currentProvider=null;this.loaded();return;}this.currentProvider=_dec;lang.mixin(dojox.storage,this.currentProvider);dojox.storage.initialize();this._initialized=true;this.available=true;};this.isAvailable=function(){return this.available;};this.addOnLoad=function(func){this._onLoadListeners.push(func);if(this.isInitialized()){this._fireLoaded();}};this.removeOnLoad=function(func){for(var i=0;i<this._onLoadListeners.length;i++){if(func==this._onLoadListeners[i]){this._onLoadListeners.splice(i,1);break;}}};this.isInitialized=function(){if(this.currentProvider!=null&&this.currentProvider.declaredClass=="dojox.storage.FlashStorageProvider"&&dojox.flash.ready==false){return false;}else{return this._initialized;}};this.supportsProvider=function(_ded){try{var _dee=eval("new "+_ded+"()");var _def=_dee.isAvailable();if(!_def){return false;}return _def;}catch(e){return false;}};this.getProvider=function(){return this.currentProvider;};this.loaded=function(){this._fireLoaded();};this._fireLoaded=function(){_de7.forEach(this._onLoadListeners,function(i){try{i();}catch(e){}});};this.getResourceList=function(){var _df0=[];_de7.forEach(dojox.storage.manager.providers,function(_df1){_df0=_df0.concat(_df1.getResourceList());});return _df0;};};return _de8;});},"dojox/validate/regexp":function(){define(["dojo/_base/lang","dojo/regexp","dojox/main"],function(lang,_df2,_df3){var _df4=lang.getObject("validate.regexp",true,_df3);_df4=_df3.validate.regexp={ipAddress:function(_df5){_df5=(typeof _df5=="object")?_df5:{};if(typeof _df5.allowDottedDecimal!="boolean"){_df5.allowDottedDecimal=true;}if(typeof _df5.allowDottedHex!="boolean"){_df5.allowDottedHex=true;}if(typeof _df5.allowDottedOctal!="boolean"){_df5.allowDottedOctal=true;}if(typeof _df5.allowDecimal!="boolean"){_df5.allowDecimal=true;}if(typeof _df5.allowHex!="boolean"){_df5.allowHex=true;}if(typeof _df5.allowIPv6!="boolean"){_df5.allowIPv6=true;}if(typeof _df5.allowHybrid!="boolean"){_df5.allowHybrid=true;}var _df6="((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";var _df7="(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]";var _df8="(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]";var _df9="(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|"+"4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])";var _dfa="0[xX]0*[\\da-fA-F]{1,8}";var _dfb="([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}";var _dfc="([\\da-fA-F]{1,4}\\:){6}"+"((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";var a=[];if(_df5.allowDottedDecimal){a.push(_df6);}if(_df5.allowDottedHex){a.push(_df7);}if(_df5.allowDottedOctal){a.push(_df8);}if(_df5.allowDecimal){a.push(_df9);}if(_df5.allowHex){a.push(_dfa);}if(_df5.allowIPv6){a.push(_dfb);}if(_df5.allowHybrid){a.push(_dfc);}var _dfd="";if(a.length>0){_dfd="("+a.join("|")+")";}return _dfd;},host:function(_dfe){_dfe=(typeof _dfe=="object")?_dfe:{};if(typeof _dfe.allowIP!="boolean"){_dfe.allowIP=true;}if(typeof _dfe.allowLocal!="boolean"){_dfe.allowLocal=false;}if(typeof _dfe.allowPort!="boolean"){_dfe.allowPort=true;}if(typeof _dfe.allowNamed!="boolean"){_dfe.allowNamed=false;}var _dff="(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)";var _e00="(?:[a-zA-Z](?:[-\\da-zA-Z]{0,6}[\\da-zA-Z])?)";var _e01=_dfe.allowPort?"(\\:\\d+)?":"";var _e02="((?:"+_dff+"\\.)+"+_e00+"\\.?)";if(_dfe.allowIP){_e02+="|"+_df4.ipAddress(_dfe);}if(_dfe.allowLocal){_e02+="|localhost";}if(_dfe.allowNamed){_e02+="|^[^-][a-zA-Z0-9_-]*";}return "("+_e02+")"+_e01;},url:function(_e03){_e03=(typeof _e03=="object")?_e03:{};if(!("scheme" in _e03)){_e03.scheme=[true,false];}var _e04=_df2.buildGroupRE(_e03.scheme,function(q){if(q){return "(https?|ftps?)\\://";}return "";});var _e05="(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]+(?:\\?[^?#\\s/]*)?(?:#[A-Za-z][\\w.:-]*)?)?)?";return _e04+_df4.host(_e03)+_e05;},emailAddress:function(_e06){_e06=(typeof _e06=="object")?_e06:{};if(typeof _e06.allowCruft!="boolean"){_e06.allowCruft=false;}_e06.allowPort=false;var _e07="([!#-'*+\\-\\/-9=?A-Z^-~]+[.])*[!#-'*+\\-\\/-9=?A-Z^-~]+";var _e08=_e07+"@"+_df4.host(_e06);if(_e06.allowCruft){_e08="<?(mailto\\:)?"+_e08+">?";}return _e08;},emailAddressList:function(_e09){_e09=(typeof _e09=="object")?_e09:{};if(typeof _e09.listSeparator!="string"){_e09.listSeparator="\\s;,";}var _e0a=_df4.emailAddress(_e09);var _e0b="("+_e0a+"\\s*["+_e09.listSeparator+"]\\s*)*"+_e0a+"\\s*["+_e09.listSeparator+"]?\\s*";return _e0b;},numberFormat:function(_e0c){_e0c=(typeof _e0c=="object")?_e0c:{};if(typeof _e0c.format=="undefined"){_e0c.format="###-###-####";}var _e0d=function(_e0e){return _df2.escapeString(_e0e,"?").replace(/\?/g,"\\d?").replace(/#/g,"\\d");};return _df2.buildGroupRE(_e0c.format,_e0d);},ca:{postalCode:function(){return "([A-Z][0-9][A-Z] [0-9][A-Z][0-9])";},province:function(){return "(AB|BC|MB|NB|NL|NS|NT|NU|ON|PE|QC|SK|YT)";}},us:{state:function(_e0f){_e0f=(typeof _e0f=="object")?_e0f:{};if(typeof _e0f.allowTerritories!="boolean"){_e0f.allowTerritories=true;}if(typeof _e0f.allowMilitary!="boolean"){_e0f.allowMilitary=true;}var _e10="AL|AK|AZ|AR|CA|CO|CT|DE|DC|FL|GA|HI|ID|IL|IN|IA|KS|KY|LA|ME|MD|MA|MI|MN|MS|MO|MT|"+"NE|NV|NH|NJ|NM|NY|NC|ND|OH|OK|OR|PA|RI|SC|SD|TN|TX|UT|VT|VA|WA|WV|WI|WY";var _e11="AS|FM|GU|MH|MP|PW|PR|VI";var _e12="AA|AE|AP";if(_e0f.allowTerritories){_e10+="|"+_e11;}if(_e0f.allowMilitary){_e10+="|"+_e12;}return "("+_e10+")";}}};return _df4;});},"dojox/widget/Portlet":function(){define(["dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/_base/event","dojo/_base/connect","dojo/dom-style","dojo/dom-class","dojo/dom-construct","dojo/fx","dijit/registry","dijit/TitlePane","dijit/_Container","./PortletSettings","./PortletDialogSettings"],function(_e13,_e14,lang,_e15,_e16,_e17,_e18,_e19,_e1a,fx,_e1b,_e1c,_e1d,_e1e,_e1f){_e14.experimental("dojox.widget.Portlet");return _e13("dojox.widget.Portlet",[_e1c,_e1d],{resizeChildren:true,closable:true,_parents:null,_size:null,dragRestriction:false,buildRendering:function(){this.inherited(arguments);_e18.set(this.domNode,"visibility","hidden");},postCreate:function(){this.inherited(arguments);_e19.add(this.domNode,"dojoxPortlet");_e19.remove(this.arrowNode,"dijitArrowNode");_e19.add(this.arrowNode,"dojoxPortletIcon dojoxArrowDown");_e19.add(this.titleBarNode,"dojoxPortletTitle");_e19.add(this.hideNode,"dojoxPortletContentOuter");_e19.add(this.domNode,"dojoxPortlet-"+(!this.dragRestriction?"movable":"nonmovable"));var _e20=this;if(this.resizeChildren){this.subscribe("/dnd/drop",function(){_e20._updateSize();});this.subscribe("/Portlet/sizechange",function(_e21){_e20.onSizeChange(_e21);});this.connect(window,"onresize",function(){_e20._updateSize();});var _e22=lang.hitch(this,function(id,_e23){var _e24=_e1b.byId(id);if(_e24.selectChild){var s=this.subscribe(id+"-selectChild",function(_e25){var n=_e20.domNode.parentNode;while(n){if(n==_e25.domNode){_e20.unsubscribe(s);_e20._updateSize();break;}n=n.parentNode;}});var _e26=_e1b.byId(_e23);if(_e24&&_e26){_e20._parents.push({parent:_e24,child:_e26});}}});var _e27;this._parents=[];for(var p=this.domNode.parentNode;p!=null;p=p.parentNode){var id=p.getAttribute?p.getAttribute("widgetId"):null;if(id){_e22(id,_e27);_e27=id;}}}this.connect(this.titleBarNode,"onmousedown",function(evt){if(_e19.contains(evt.target,"dojoxPortletIcon")){_e16.stop(evt);return false;}return true;});this.connect(this._wipeOut,"onEnd",function(){_e20._publish();});this.connect(this._wipeIn,"onEnd",function(){_e20._publish();});if(this.closable){this.closeIcon=this._createIcon("dojoxCloseNode","dojoxCloseNodeHover",lang.hitch(this,"onClose"));_e18.set(this.closeIcon,"display","");}},startup:function(){if(this._started){return;}var _e28=this.getChildren();this._placeSettingsWidgets();_e15.forEach(_e28,function(_e29){try{if(!_e29.started&&!_e29._started){_e29.startup();}}catch(e){}});this.inherited(arguments);_e18.set(this.domNode,"visibility","visible");},_placeSettingsWidgets:function(){_e15.forEach(this.getChildren(),lang.hitch(this,function(_e2a){if(_e2a.portletIconClass&&_e2a.toggle&&!_e2a.get("portlet")){this._createIcon(_e2a.portletIconClass,_e2a.portletIconHoverClass,lang.hitch(_e2a,"toggle"));_e1a.place(_e2a.domNode,this.containerNode,"before");_e2a.set("portlet",this);this._settingsWidget=_e2a;}}));},_createIcon:function(_e2b,_e2c,fn){var icon=_e1a.create("div",{"class":"dojoxPortletIcon "+_e2b,"waiRole":"presentation"});_e1a.place(icon,this.arrowNode,"before");this.connect(icon,"onclick",fn);if(_e2c){this.connect(icon,"onmouseover",function(){_e19.add(icon,_e2c);});this.connect(icon,"onmouseout",function(){_e19.remove(icon,_e2c);});}return icon;},onClose:function(evt){_e18.set(this.domNode,"display","none");},onSizeChange:function(_e2d){if(_e2d==this){return;}this._updateSize();},_updateSize:function(){if(!this.open||!this._started||!this.resizeChildren){return;}if(this._timer){clearTimeout(this._timer);}this._timer=setTimeout(lang.hitch(this,function(){var size={w:_e18.get(this.domNode,"width"),h:_e18.get(this.domNode,"height")};for(var i=0;i<this._parents.length;i++){var p=this._parents[i];var sel=p.parent.selectedChildWidget;if(sel&&sel!=p.child){return;}}if(this._size){if(this._size.w==size.w&&this._size.h==size.h){return;}}this._size=size;var fns=["resize","layout"];this._timer=null;var kids=this.getChildren();_e15.forEach(kids,function(_e2e){for(var i=0;i<fns.length;i++){if(lang.isFunction(_e2e[fns[i]])){try{_e2e[fns[i]]();}catch(e){}break;}}});this.onUpdateSize();}),100);},onUpdateSize:function(){},_publish:function(){_e17.publish("/Portlet/sizechange",[this]);},_onTitleClick:function(evt){if(evt.target==this.arrowNode){this.inherited(arguments);}},addChild:function(_e2f){this._size=null;this.inherited(arguments);if(this._started){this._placeSettingsWidgets();this._updateSize();}if(this._started&&!_e2f.started&&!_e2f._started){_e2f.startup();}},destroyDescendants:function(_e30){this.inherited(arguments);if(this._settingsWidget){this._settingsWidget.destroyRecursive(_e30);}},destroy:function(){if(this._timer){clearTimeout(this._timer);}this.inherited(arguments);},_setCss:function(){this.inherited(arguments);_e18.set(this.arrowNode,"display",this.toggleable?"":"none");}});});},"dojox/widget/PortletSettings":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/dom-class","dojo/fx","dijit/_Container","dijit/layout/ContentPane"],function(_e31,lang,_e32,_e33,fx,_e34,_e35){return _e31("dojox.widget.PortletSettings",[_e34,_e35],{portletIconClass:"dojoxPortletSettingsIcon",portletIconHoverClass:"dojoxPortletSettingsIconHover",postCreate:function(){_e32.set(this.domNode,"display","none");_e33.add(this.domNode,"dojoxPortletSettingsContainer");_e33.remove(this.domNode,"dijitContentPane");},_setPortletAttr:function(_e36){this.portlet=_e36;},toggle:function(){var n=this.domNode;if(_e32.get(n,"display")=="none"){_e32.set(n,{"display":"block","height":"1px","width":"auto"});fx.wipeIn({node:n}).play();}else{fx.wipeOut({node:n,onEnd:lang.hitch(this,function(){_e32.set(n,{"display":"none","height":"","width":""});})}).play();}}});});},"dojox/widget/PortletDialogSettings":function(){define(["dojo/_base/declare","dojo/_base/window","dojo/dom-style","./PortletSettings","dijit/Dialog"],function(_e37,_e38,_e39,_e3a,_e3b){return _e37("dojox.widget.PortletDialogSettings",[_e3a],{dimensions:null,constructor:function(_e3c,node){this.dimensions=_e3c.dimensions||[300,100];},toggle:function(){if(!this.dialog){this.dialog=new _e3b({title:this.title});_e38.body().appendChild(this.dialog.domNode);this.dialog.containerNode.appendChild(this.domNode);_e39.set(this.dialog.domNode,{"width":this.dimensions[0]+"px","height":this.dimensions[1]+"px"});_e39.set(this.domNode,"display","");}if(this.dialog.open){this.dialog.hide();}else{this.dialog.show(this.domNode);}}});});},"dojox/widget/Standby":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/event","dojo/_base/sniff","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/window","dojo/_base/window","dojo/_base/fx","dojo/fx","dijit/_Widget","dijit/_TemplatedMixin","dijit/registry"],function(_e3d,_e3e,_e3f,_e40,has,dom,attr,_e41,_e42,_e43,_e44,_e45,_e46,fx,_e47,_e48,_e49){_e3d.experimental("dojox.widget.Standby");return _e3e("dojox.widget.Standby",[_e47,_e48],{image:require.toUrl("dojox/widget/Standby/images/loading.gif").toString(),imageText:"Please Wait...",text:"Please wait...",centerIndicator:"image",target:"",color:"#C0C0C0",duration:500,zIndex:"auto",opacity:0.75,templateString:"<div>"+"<div style=\"display: none; opacity: 0; z-index: 9999; "+"position: absolute; cursor:wait;\" dojoAttachPoint=\"_underlayNode\"></div>"+"<img src=\"${image}\" style=\"opacity: 0; display: none; z-index: -10000; "+"position: absolute; top: 0px; left: 0px; cursor:wait;\" "+"dojoAttachPoint=\"_imageNode\">"+"<div style=\"opacity: 0; display: none; z-index: -10000; position: absolute; "+"top: 0px;\" dojoAttachPoint=\"_textNode\"></div>"+"</div>",_underlayNode:null,_imageNode:null,_textNode:null,_centerNode:null,_displayed:false,_resizeCheck:null,_started:false,_parent:null,startup:function(args){if(!this._started){if(typeof this.target==="string"){var w=_e49.byId(this.target);this.target=w?w.domNode:dom.byId(this.target);}if(this.text){this._textNode.innerHTML=this.text;}if(this.centerIndicator==="image"){this._centerNode=this._imageNode;attr.set(this._imageNode,"src",this.image);attr.set(this._imageNode,"alt",this.imageText);}else{this._centerNode=this._textNode;}_e43.set(this._underlayNode,{display:"none",backgroundColor:this.color});_e43.set(this._centerNode,"display","none");this.connect(this._underlayNode,"onclick","_ignore");if(this.domNode.parentNode&&this.domNode.parentNode!=_e45.body()){_e45.body().appendChild(this.domNode);}if(has("ie")==7){this._ieFixNode=_e41.create("div");_e43.set(this._ieFixNode,{opacity:"0",zIndex:"-1000",position:"absolute",top:"-1000px"});_e45.body().appendChild(this._ieFixNode);}this.inherited(arguments);}},show:function(){if(!this._displayed){if(this._anim){this._anim.stop();delete this._anim;}this._displayed=true;this._size();this._disableOverflow();this._fadeIn();}},hide:function(){if(this._displayed){if(this._anim){this._anim.stop();delete this._anim;}this._size();this._fadeOut();this._displayed=false;if(this._resizeCheck!==null){clearInterval(this._resizeCheck);this._resizeCheck=null;}}},isVisible:function(){return this._displayed;},onShow:function(){},onHide:function(){},uninitialize:function(){this._displayed=false;if(this._resizeCheck){clearInterval(this._resizeCheck);}_e43.set(this._centerNode,"display","none");_e43.set(this._underlayNode,"display","none");if(has("ie")==7&&this._ieFixNode){_e45.body().removeChild(this._ieFixNode);delete this._ieFixNode;}if(this._anim){this._anim.stop();delete this._anim;}this.target=null;this._imageNode=null;this._textNode=null;this._centerNode=null;this.inherited(arguments);},_size:function(){if(this._displayed){var dir=attr.get(_e45.body(),"dir");if(dir){dir=dir.toLowerCase();}var _e4a;var _e4b=this._scrollerWidths();var _e4c=this.target;var _e4d=_e43.get(this._centerNode,"display");_e43.set(this._centerNode,"display","block");var box=_e42.position(_e4c,true);if(_e4c===_e45.body()||_e4c===_e45.doc){box=_e44.getBox();box.x=box.l;box.y=box.t;}var _e4e=_e42.getMarginBox(this._centerNode);_e43.set(this._centerNode,"display",_e4d);if(this._ieFixNode){_e4a=-this._ieFixNode.offsetTop/1000;box.x=Math.floor((box.x+0.9)/_e4a);box.y=Math.floor((box.y+0.9)/_e4a);box.w=Math.floor((box.w+0.9)/_e4a);box.h=Math.floor((box.h+0.9)/_e4a);}var zi=_e43.get(_e4c,"zIndex");var ziUl=zi;var ziIn=zi;if(this.zIndex==="auto"){if(zi!="auto"){ziUl=parseInt(ziUl,10)+1;ziIn=parseInt(ziIn,10)+2;}else{var _e4f=_e4c;if(_e4f&&_e4f!==_e45.body()&&_e4f!==_e45.doc){_e4f=_e4c.parentNode;var _e50=-100000;while(_e4f&&_e4f!==_e45.body()){zi=_e43.get(_e4f,"zIndex");if(!zi||zi==="auto"){_e4f=_e4f.parentNode;}else{var _e51=parseInt(zi,10);if(_e50<_e51){_e50=_e51;ziUl=_e51+1;ziIn=_e51+2;}_e4f=_e4f.parentNode;}}}}}else{ziUl=parseInt(this.zIndex,10)+1;ziIn=parseInt(this.zIndex,10)+2;}_e43.set(this._centerNode,"zIndex",ziIn);_e43.set(this._underlayNode,"zIndex",ziUl);var pn=_e4c.parentNode;if(pn&&pn!==_e45.body()&&_e4c!==_e45.body()&&_e4c!==_e45.doc){var obh=box.h;var obw=box.w;var _e52=_e42.position(pn,true);if(this._ieFixNode){_e4a=-this._ieFixNode.offsetTop/1000;_e52.x=Math.floor((_e52.x+0.9)/_e4a);_e52.y=Math.floor((_e52.y+0.9)/_e4a);_e52.w=Math.floor((_e52.w+0.9)/_e4a);_e52.h=Math.floor((_e52.h+0.9)/_e4a);}_e52.w-=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_e4b.v:0;_e52.h-=pn.scrollWidth>pn.clientWidth&&pn.clientWidth>0?_e4b.h:0;if(dir==="rtl"){if(has("opera")){box.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_e4b.v:0;_e52.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_e4b.v:0;}else{if(has("ie")){_e52.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_e4b.v:0;}else{if(has("webkit")){}}}}if(_e52.w<box.w){box.w=box.w-_e52.w;}if(_e52.h<box.h){box.h=box.h-_e52.h;}var _e53=_e52.y;var _e54=_e52.y+_e52.h;var bTop=box.y;var _e55=box.y+obh;var _e56=_e52.x;var _e57=_e52.x+_e52.w;var _e58=box.x;var _e59=box.x+obw;var _e5a;if(_e55>_e53&&bTop<_e53){box.y=_e52.y;_e5a=_e53-bTop;var _e5b=obh-_e5a;if(_e5b<_e52.h){box.h=_e5b;}else{box.h-=2*(pn.scrollWidth>pn.clientWidth&&pn.clientWidth>0?_e4b.h:0);}}else{if(bTop<_e54&&_e55>_e54){box.h=_e54-bTop;}else{if(_e55<=_e53||bTop>=_e54){box.h=0;}}}if(_e59>_e56&&_e58<_e56){box.x=_e52.x;_e5a=_e56-_e58;var _e5c=obw-_e5a;if(_e5c<_e52.w){box.w=_e5c;}else{box.w-=2*(pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_e4b.w:0);}}else{if(_e58<_e57&&_e59>_e57){box.w=_e57-_e58;}else{if(_e59<=_e56||_e58>=_e57){box.w=0;}}}}if(box.h>0&&box.w>0){_e43.set(this._underlayNode,{display:"block",width:box.w+"px",height:box.h+"px",top:box.y+"px",left:box.x+"px"});var _e5d=["borderRadius","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"];this._cloneStyles(_e5d);if(!has("ie")){_e5d=["MozBorderRadius","MozBorderRadiusTopleft","MozBorderRadiusTopright","MozBorderRadiusBottomleft","MozBorderRadiusBottomright","WebkitBorderRadius","WebkitBorderTopLeftRadius","WebkitBorderTopRightRadius","WebkitBorderBottomLeftRadius","WebkitBorderBottomRightRadius"];this._cloneStyles(_e5d,this);}var _e5e=(box.h/2)-(_e4e.h/2);var _e5f=(box.w/2)-(_e4e.w/2);if(box.h>=_e4e.h&&box.w>=_e4e.w){_e43.set(this._centerNode,{top:(_e5e+box.y)+"px",left:(_e5f+box.x)+"px",display:"block"});}else{_e43.set(this._centerNode,"display","none");}}else{_e43.set(this._underlayNode,"display","none");_e43.set(this._centerNode,"display","none");}if(this._resizeCheck===null){var self=this;this._resizeCheck=setInterval(function(){self._size();},100);}}},_cloneStyles:function(list){_e3f.forEach(list,function(s){_e43.set(this._underlayNode,s,_e43.get(this.target,s));},this);},_fadeIn:function(){var self=this;var _e60=_e46.animateProperty({duration:self.duration,node:self._underlayNode,properties:{opacity:{start:0,end:self.opacity}}});var _e61=_e46.animateProperty({duration:self.duration,node:self._centerNode,properties:{opacity:{start:0,end:1}},onEnd:function(){self.onShow();delete self._anim;}});this._anim=fx.combine([_e60,_e61]);this._anim.play();},_fadeOut:function(){var self=this;var _e62=_e46.animateProperty({duration:self.duration,node:self._underlayNode,properties:{opacity:{start:self.opacity,end:0}},onEnd:function(){_e43.set(this.node,{"display":"none","zIndex":"-1000"});}});var _e63=_e46.animateProperty({duration:self.duration,node:self._centerNode,properties:{opacity:{start:1,end:0}},onEnd:function(){_e43.set(this.node,{"display":"none","zIndex":"-1000"});self.onHide();self._enableOverflow();delete self._anim;}});this._anim=fx.combine([_e62,_e63]);this._anim.play();},_ignore:function(e){if(e){_e40.stop(e);}},_scrollerWidths:function(){var div=_e41.create("div");_e43.set(div,{position:"absolute",opacity:0,overflow:"hidden",width:"50px",height:"50px",zIndex:"-100",top:"-200px",padding:"0px",margin:"0px"});var iDiv=_e41.create("div");_e43.set(iDiv,{width:"200px",height:"10px"});div.appendChild(iDiv);_e45.body().appendChild(div);var b=_e42.getContentBox(div);_e43.set(div,"overflow","scroll");var a=_e42.getContentBox(div);_e45.body().removeChild(div);return {v:b.w-a.w,h:b.h-a.h};},_setTextAttr:function(text){this._textNode.innerHTML=text;this.text=text;},_setColorAttr:function(c){_e43.set(this._underlayNode,"backgroundColor",c);this.color=c;},_setImageTextAttr:function(text){attr.set(this._imageNode,"alt",text);this.imageText=text;},_setImageAttr:function(url){attr.set(this._imageNode,"src",url);this.image=url;},_setCenterIndicatorAttr:function(_e64){this.centerIndicator=_e64;if(_e64==="image"){this._centerNode=this._imageNode;_e43.set(this._textNode,"display","none");}else{this._centerNode=this._textNode;_e43.set(this._imageNode,"display","none");}},_disableOverflow:function(){if(this.target===_e45.body()||this.target===_e45.doc){this._overflowDisabled=true;var body=_e45.body();if(body.style&&body.style.overflow){this._oldOverflow=_e43.get(body,"overflow");}else{this._oldOverflow="";}if(has("ie")&&!has("quirks")){if(body.parentNode&&body.parentNode.style&&body.parentNode.style.overflow){this._oldBodyParentOverflow=body.parentNode.style.overflow;}else{try{this._oldBodyParentOverflow=_e43.get(body.parentNode,"overflow");}catch(e){this._oldBodyParentOverflow="scroll";}}_e43.set(body.parentNode,"overflow","hidden");}_e43.set(body,"overflow","hidden");}},_enableOverflow:function(){if(this._overflowDisabled){delete this._overflowDisabled;var body=_e45.body();if(has("ie")&&!has("quirks")){body.parentNode.style.overflow=this._oldBodyParentOverflow;delete this._oldBodyParentOverflow;}_e43.set(body,"overflow",this._oldOverflow);if(has("webkit")){var div=_e41.create("div",{style:{height:"2px"}});body.appendChild(div);setTimeout(function(){body.removeChild(div);},0);}delete this._oldOverflow;}}});});},"dojox/storage/LocalStorageProvider":function(){define(["dojo/_base/declare","dojox/storage/Provider","dojox/storage/manager","dojo/_base/array","dojo/_base/lang","dojo/json"],function(_e65,_e66,_e67,_e68,lang,JSON){var _e69=_e65("dojox.storage.LocalStorageProvider",[_e66],{store:null,initialize:function(){this.store=localStorage;this.initialized=true;_e67.loaded();},isAvailable:function(){return typeof localStorage!="undefined";},put:function(key,_e6a,_e6b,_e6c){this._assertIsValidKey(key);_e6c=_e6c||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_e6c);var _e6d=this.getFullKey(key,_e6c);_e6a=JSON.stringify(_e6a);try{this.store.setItem(_e6d,_e6a);if(_e6b){_e6b(this.SUCCESS,key,null,_e6c);}}catch(e){if(_e6b){_e6b(this.FAILED,key,e.toString(),_e6c);}}},get:function(key,_e6e){this._assertIsValidKey(key);_e6e=_e6e||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_e6e);key=this.getFullKey(key,_e6e);return JSON.parse(this.store.getItem(key));},getKeys:function(_e6f){_e6f=_e6f||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_e6f);_e6f="__"+_e6f+"_";var keys=[];for(var i=0;i<this.store.length;i++){var _e70=this.store.key(i);if(this._beginsWith(_e70,_e6f)){_e70=_e70.substring(_e6f.length);keys.push(_e70);}}return keys;},clear:function(_e71){_e71=_e71||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_e71);_e71="__"+_e71+"_";var keys=[];for(var i=0;i<this.store.length;i++){if(this._beginsWith(this.store.key(i),_e71)){keys.push(this.store.key(i));}}_e68.forEach(keys,lang.hitch(this.store,"removeItem"));},remove:function(key,_e72){_e72=_e72||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_e72);this.store.removeItem(this.getFullKey(key,_e72));},getNamespaces:function(){var _e73=[this.DEFAULT_NAMESPACE];var _e74={};_e74[this.DEFAULT_NAMESPACE]=true;var _e75=/^__([^_]*)_/;for(var i=0;i<this.store.length;i++){var _e76=this.store.key(i);if(_e75.test(_e76)==true){var _e77=_e76.match(_e75)[1];if(typeof _e74[_e77]=="undefined"){_e74[_e77]=true;_e73.push(_e77);}}}return _e73;},isPermanent:function(){return true;},getMaximumSize:function(){return dojox.storage.SIZE_NO_LIMIT;},hasSettingsUI:function(){return false;},isValidKey:function(_e78){if(_e78===null||_e78===undefined){return false;}return /^[0-9A-Za-z_-]*$/.test(_e78);},isValidNamespace:function(_e79){if(_e79===null||_e79===undefined){return false;}return /^[0-9A-Za-z-]*$/.test(_e79);},getFullKey:function(key,_e7a){return "__"+_e7a+"_"+key;},_beginsWith:function(_e7b,_e7c){if(_e7c.length>_e7b.length){return false;}return _e7b.substring(0,_e7c.length)===_e7c;},_assertIsValidNamespace:function(_e7d){if(this.isValidNamespace(_e7d)===false){throw new Error("Invalid namespace given: "+_e7d);}},_assertIsValidKey:function(key){if(this.isValidKey(key)===false){throw new Error("Invalid key given: "+key);}}});_e67.register("dojox.storage.LocalStorageProvider",new _e69());return _e69;});},"url:dojox/form/resources/Uploader.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t> \n\t<input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\" data-dojo-attach-point=\"valueNode\" />\n</span>\n","url:dojox/grid/resources/View.html":"<div class=\"dojoxGridView\" role=\"presentation\">\n\t<div class=\"dojoxGridHeader\" dojoAttachPoint=\"headerNode\" role=\"presentation\">\n\t\t<div dojoAttachPoint=\"headerNodeContainer\" style=\"width:9000em\" role=\"presentation\">\n\t\t\t<div dojoAttachPoint=\"headerContentNode\" role=\"row\"></div>\n\t\t</div>\n\t</div>\n\t<input type=\"checkbox\" class=\"dojoxGridHiddenFocus\" dojoAttachPoint=\"hiddenFocusNode\" role=\"presentation\" />\n\t<input type=\"checkbox\" class=\"dojoxGridHiddenFocus\" role=\"presentation\" />\n\t<div class=\"dojoxGridScrollbox\" dojoAttachPoint=\"scrollboxNode\" role=\"presentation\">\n\t\t<div class=\"dojoxGridContent\" dojoAttachPoint=\"contentNode\" hidefocus=\"hidefocus\" role=\"presentation\"></div>\n\t</div>\n</div>\n","url:dojox/grid/resources/_Grid.html":"<div hidefocus=\"hidefocus\" role=\"grid\" dojoAttachEvent=\"onmouseout:_mouseOut\">\n\t<div class=\"dojoxGridMasterHeader\" dojoAttachPoint=\"viewsHeaderNode\" role=\"presentation\"></div>\n\t<div class=\"dojoxGridMasterView\" dojoAttachPoint=\"viewsNode\" role=\"presentation\"></div>\n\t<div class=\"dojoxGridMasterMessages\" style=\"display: none;\" dojoAttachPoint=\"messagesNode\"></div>\n\t<span dojoAttachPoint=\"lastFocusNode\" tabindex=\"0\"></span>\n</div>\n","url:dojox/grid/enhanced/templates/Pagination.html":"<div dojoAttachPoint=\"paginatorBar\"\n\t><table cellpadding=\"0\" cellspacing=\"0\"  class=\"dojoxGridPaginator\"\n\t\t><tr\n\t\t\t><td dojoAttachPoint=\"descriptionTd\" class=\"dojoxGridDescriptionTd\"\n\t\t\t\t><div dojoAttachPoint=\"descriptionDiv\" class=\"dojoxGridDescription\"></div\n\t\t\t></div></td\n\t\t\t><td dojoAttachPoint=\"sizeSwitchTd\"></td\n\t\t\t><td dojoAttachPoint=\"pageStepperTd\" class=\"dojoxGridPaginatorFastStep\"\n\t\t\t\t><div dojoAttachPoint=\"pageStepperDiv\" class=\"dojoxGridPaginatorStep\"></div\n\t\t\t></td\n\t\t\t><td dojoAttachPoint=\"gotoPageTd\" class=\"dojoxGridPaginatorGotoTd\"\n\t\t\t\t><div dojoAttachPoint=\"gotoPageDiv\" class=\"dojoxGridPaginatorGotoDiv\" dojoAttachEvent=\"onclick:_openGotopageDialog, onkeydown:_openGotopageDialog\"\n\t\t\t\t\t><span class=\"dojoxGridWardButtonInner\">&#8869;</span\n\t\t\t\t></div\n\t\t\t></td\n\t\t></tr\n\t></table\n></div>\n","url:dojox/layout/resources/GridContainer.html":"<div id=\"${id}\" class=\"gridContainer\" dojoAttachPoint=\"containerNode\" tabIndex=\"0\" dojoAttachEvent=\"onkeypress:_selectFocus\">\n\t<div dojoAttachPoint=\"gridContainerDiv\">\n\t\t<table class=\"gridContainerTable\" dojoAttachPoint=\"gridContainerTable\" cellspacing=\"0\" cellpadding=\"0\">\n\t\t\t<tbody>\n\t\t\t\t<tr dojoAttachPoint=\"gridNode\" >\n\t\t\t\t\t\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>\n\t</div>\n</div>","*now":function(r){r(["dojo/i18n!*preload*dojox/nls/dojox*[\"ar\",\"ca\",\"cs\",\"da\",\"de\",\"el\",\"en-gb\",\"en-us\",\"es-es\",\"fi-fi\",\"fr-fr\",\"he-il\",\"hu\",\"it-it\",\"ja-jp\",\"ko-kr\",\"nl-nl\",\"nb\",\"pl\",\"pt-br\",\"pt-pt\",\"ru\",\"sk\",\"sl\",\"sv\",\"th\",\"tr\",\"zh-tw\",\"zh-cn\",\"ROOT\"]"]);}}});define("dojox/dojox",[],1);